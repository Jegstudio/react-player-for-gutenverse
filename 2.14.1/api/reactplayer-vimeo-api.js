/*! @vimeo/player v2.21.0 | (c) 2024 Vimeo | MIT License | https://github.com/vimeo/player.js */
!(function (e, t) { typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = t() : typeof define === 'function' && define.amd ? define(t) : ((e = typeof globalThis !== 'undefined' ? globalThis : e || self).Vimeo = e.Vimeo || {}, e.Vimeo.Player = t()) }(this, function () { 'use strict'; function r (t, e) { let n; const r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r } function u (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? r(Object(n), !0).forEach(function (e) { s(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function j () { j = function () { return a }; var a = {}; const e = Object.prototype; const s = e.hasOwnProperty; const f = Object.defineProperty || function (e, t, n) { e[t] = n.value }; const t = typeof Symbol === 'function' ? Symbol : {}; const o = t.iterator || '@@iterator'; const n = t.asyncIterator || '@@asyncIterator'; const r = t.toStringTag || '@@toStringTag'; function i (e, t, n) { return Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }), e[t] } try { i({}, '') } catch (e) { i = function (e, t, n) { return e[t] = n } } function u (e, t, n, r) { let i; let a; let u; let c; const o = t && t.prototype instanceof p ? t : p; const l = Object.create(o.prototype); const s = new x(r || []); return f(l, '_invoke', { value: (i = e, a = n, u = s, c = 'suspendedStart', function (e, t) { if (c === 'executing') throw new Error('Generator is already running'); if (c === 'completed') { if (e === 'throw') throw t; return T() } for (u.method = e, u.arg = t; ;) { const n = u.delegate; if (n) { const r = (function e (t, n) { const r = n.method; const o = t.iterator[r]; if (void 0 === o) return n.delegate = null, r === 'throw' && t.iterator.return && (n.method = 'return', n.arg = void 0, e(t, n), n.method === 'throw') || r !== 'return' && (n.method = 'throw', n.arg = new TypeError("The iterator does not provide a '" + r + "' method")), h; const i = d(o, t.iterator, n.arg); if (i.type === 'throw') return n.method = 'throw', n.arg = i.arg, n.delegate = null, h; const a = i.arg; return a ? a.done ? (n[t.resultName] = a.value, n.next = t.nextLoc, n.method !== 'return' && (n.method = 'next', n.arg = void 0), n.delegate = null, h) : a : (n.method = 'throw', n.arg = new TypeError('iterator result is not an object'), n.delegate = null, h) }(n, u)); if (r) { if (r === h) continue; return r } } if (u.method === 'next')u.sent = u._sent = u.arg; else if (u.method === 'throw') { if (c === 'suspendedStart') throw c = 'completed', u.arg; u.dispatchException(u.arg) } else u.method === 'return' && u.abrupt('return', u.arg); c = 'executing'; const o = d(i, a, u); if (o.type === 'normal') { if (c = u.done ? 'completed' : 'suspendedYield', o.arg === h) continue; return { value: o.arg, done: u.done } }o.type === 'throw' && (c = 'completed', u.method = 'throw', u.arg = o.arg) } }) }), l } function d (e, t, n) { try { return { type: 'normal', arg: e.call(t, n) } } catch (e) { return { type: 'throw', arg: e } } }a.wrap = u; var h = {}; function p () {} function c () {} function l () {} let v = {}; i(v, o, function () { return this }); const y = Object.getPrototypeOf; const m = y && y(y(P([]))); m && m !== e && s.call(m, o) && (v = m); const g = l.prototype = p.prototype = Object.create(v); function w (e) { ['next', 'throw', 'return'].forEach(function (t) { i(e, t, function (e) { return this._invoke(t, e) }) }) } function b (c, l) { let t; f(this, '_invoke', { value: function (n, r) { function e () { return new l(function (e, t) { !(function t (e, n, r, o) { const i = d(c[e], c, n); if (i.type !== 'throw') { const a = i.arg; const u = a.value; return u && typeof u === 'object' && s.call(u, '__await') ? l.resolve(u.__await).then(function (e) { t('next', e, r, o) }, function (e) { t('throw', e, r, o) }) : l.resolve(u).then(function (e) { a.value = e, r(a) }, function (e) { return t('throw', e, r, o) }) }o(i.arg) }(n, r, e, t)) }) } return t = t ? t.then(e, e) : e() } }) } function k (e) { const t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function E (e) { const t = e.completion || {}; t.type = 'normal', delete t.arg, e.completion = t } function x (e) { this.tryEntries = [{ tryLoc: 'root' }], e.forEach(k, this), this.reset(!0) } function P (t) { if (t) { const e = t[o]; if (e) return e.call(t); if (typeof t.next === 'function') return t; if (!isNaN(t.length)) { let n = -1; const r = function e () { for (;++n < t.length;) if (s.call(t, n)) return e.value = t[n], e.done = !1, e; return e.value = void 0, e.done = !0, e }; return r.next = r } } return { next: T } } function T () { return { value: void 0, done: !0 } } return f(g, 'constructor', { value: c.prototype = l, configurable: !0 }), f(l, 'constructor', { value: c, configurable: !0 }), c.displayName = i(l, r, 'GeneratorFunction'), a.isGeneratorFunction = function (e) { const t = typeof e === 'function' && e.constructor; return !!t && (t === c || (t.displayName || t.name) === 'GeneratorFunction') }, a.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, l) : (e.__proto__ = l, i(e, r, 'GeneratorFunction')), e.prototype = Object.create(g), e }, a.awrap = function (e) { return { __await: e } }, w(b.prototype), i(b.prototype, n, function () { return this }), a.AsyncIterator = b, a.async = function (e, t, n, r, o) { void 0 === o && (o = Promise); const i = new b(u(e, t, n, r), o); return a.isGeneratorFunction(t) ? i : i.next().then(function (e) { return e.done ? e.value : i.next() }) }, w(g), i(g, r, 'Generator'), i(g, o, function () { return this }), i(g, 'toString', function () { return '[object Generator]' }), a.keys = function (e) { const n = Object(e); const r = []; for (const t in n)r.push(t); return r.reverse(), function e () { for (;r.length;) { const t = r.pop(); if (t in n) return e.value = t, e.done = !1, e } return e.done = !0, e } }, a.values = P, x.prototype = { constructor: x, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = 'next', this.arg = void 0, this.tryEntries.forEach(E), !e) for (const t in this)t.charAt(0) === 't' && s.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0) }, stop: function () { this.done = !0; const e = this.tryEntries[0].completion; if (e.type === 'throw') throw e.arg; return this.rval }, dispatchException: function (n) { if (this.done) throw n; const r = this; function e (e, t) { return i.type = 'throw', i.arg = n, r.next = e, t && (r.method = 'next', r.arg = void 0), !!t } for (let t = this.tryEntries.length - 1; t >= 0; --t) { const o = this.tryEntries[t]; var i = o.completion; if (o.tryLoc === 'root') return e('end'); if (o.tryLoc <= this.prev) { const a = s.call(o, 'catchLoc'); const u = s.call(o, 'finallyLoc'); if (a && u) { if (this.prev < o.catchLoc) return e(o.catchLoc, !0); if (this.prev < o.finallyLoc) return e(o.finallyLoc) } else if (a) { if (this.prev < o.catchLoc) return e(o.catchLoc, !0) } else { if (!u) throw new Error('try statement without catch or finally'); if (this.prev < o.finallyLoc) return e(o.finallyLoc) } } } }, abrupt: function (e, t) { for (let n = this.tryEntries.length - 1; n >= 0; --n) { const r = this.tryEntries[n]; if (r.tryLoc <= this.prev && s.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var o = r; break } }o && (e === 'break' || e === 'continue') && o.tryLoc <= t && t <= o.finallyLoc && (o = null); const i = o ? o.completion : {}; return i.type = e, i.arg = t, o ? (this.method = 'next', this.next = o.finallyLoc, h) : this.complete(i) }, complete: function (e, t) { if (e.type === 'throw') throw e.arg; return e.type === 'break' || e.type === 'continue' ? this.next = e.arg : e.type === 'return' ? (this.rval = this.arg = e.arg, this.method = 'return', this.next = 'end') : e.type === 'normal' && t && (this.next = t), h }, finish: function (e) { for (let t = this.tryEntries.length - 1; t >= 0; --t) { const n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), E(n), h } }, catch: function (e) { for (let t = this.tryEntries.length - 1; t >= 0; --t) { const n = this.tryEntries[t]; if (n.tryLoc === e) { var r; const o = n.completion; return o.type === 'throw' && (r = o.arg, E(n)), r } } throw new Error('illegal catch attempt') }, delegateYield: function (e, t, n) { return this.delegate = { iterator: P(e), resultName: t, nextLoc: n }, this.method === 'next' && (this.arg = void 0), h } }, a } function c (e, t, n, r, o, i, a) { try { var u = e[i](a); var c = u.value } catch (e) { return void n(e) }u.done ? t(c) : Promise.resolve(c).then(r, o) } function h (u) { return function () { const e = this; const a = arguments; return new Promise(function (t, n) { const r = u.apply(e, a); function o (e) { c(r, t, n, o, i, 'next', e) } function i (e) { c(r, t, n, o, i, 'throw', e) }o(void 0) }) } } function l (e, t) { if (!(e instanceof t)) throw new TypeError('Cannot call a class as a function') } function o (e, t) { for (let n = 0; n < t.length; n++) { const r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, 'value' in r && (r.writable = !0), Object.defineProperty(e, y(r.key), r) } } function e (e, t, n) { return t && o(e.prototype, t), n && o(e, n), Object.defineProperty(e, 'prototype', { writable: !1 }), e } function s (e, t, n) { return (t = y(t)) in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function i (e) { return (i = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function f (e, t) { return (f = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) { return e.__proto__ = t, e })(e, t) } function a () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (e) { return !1 } } function d (e, t, n) { return (d = a() ? Reflect.construct.bind() : function (e, t, n) { const r = [null]; r.push.apply(r, t); const o = new (Function.bind.apply(e, r))(); return n && f(o, n.prototype), o }).apply(null, arguments) } function t (e) { const r = typeof Map === 'function' ? new Map() : void 0; return (t = function (e) { if (e === null || (t = e, Function.toString.call(t).indexOf('[native code]') === -1)) return e; let t; if (typeof e !== 'function') throw new TypeError('Super expression must either be null or a function'); if (void 0 !== r) { if (r.has(e)) return r.get(e); r.set(e, n) } function n () { return d(e, arguments, i(this).constructor) } return n.prototype = Object.create(e.prototype, { constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 } }), f(n, e) })(e) } function p (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function v (n) { const r = a(); return function () { let e; const t = i(n); return (function (e, t) { if (t && (typeof t === 'object' || typeof t === 'function')) return t; if (void 0 !== t) throw new TypeError('Derived constructors may only return object or undefined'); return p(e) }(this, r ? (e = i(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments))) } } function y (e) { const t = (function (e, t) { if (typeof e !== 'object' || e === null) return e; const n = e[Symbol.toPrimitive]; if (void 0 === n) return (t === 'string' ? String : Number)(e); const r = n.call(e, t || 'default'); if (typeof r !== 'object') return r; throw new TypeError('@@toPrimitive must return a primitive value.') }(e, 'string')); return typeof t === 'symbol' ? t : String(t) } const n = typeof global !== 'undefined' && {}.toString.call(global) === '[object global]'; function m (e, t) { return e.indexOf(t.toLowerCase()) === 0 ? e : ''.concat(t.toLowerCase()).concat(e.substr(0, 1).toUpperCase()).concat(e.substr(1)) } function g (e) { return /^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e) } function w (e) { return /^https:\/\/player\.vimeo\.com\/video\/\d+/.test(e) } function b (e) { let t; const n = arguments.length > 0 && void 0 !== e ? e : {}; const r = n.id; const o = n.url; const i = r || o; if (!i) throw new Error('An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.'); if (t = i, !isNaN(parseFloat(t)) && isFinite(t) && Math.floor(t) == t) return 'https://vimeo.com/'.concat(i); if (g(i)) return i.replace('http:', 'https:'); if (r) throw new TypeError('“'.concat(r, '” is not a valid video id.')); throw new TypeError('“'.concat(i, '” is not a vimeo.com url.')) } function k (t, e, n, r, o) { const i = arguments.length > 3 && void 0 !== r ? r : 'addEventListener'; const a = arguments.length > 4 && void 0 !== o ? o : 'removeEventListener'; const u = typeof e === 'string' ? [e] : e; return u.forEach(function (e) { t[i](e, n) }), { cancel: function () { return u.forEach(function (e) { return t[a](e, n) }) } } } const E = void 0 !== Array.prototype.indexOf; const x = typeof window !== 'undefined' && void 0 !== window.postMessage; if (!(n || E && x)) throw new Error('Sorry, the Vimeo Player API is not available in this browser.'); let P; let T; let O; let _; const M = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}; function S () { if (void 0 === this) throw new TypeError("Constructor WeakMap requires 'new'"); if (_(this, '_id', '_WeakMap_' + N() + '.' + N()), arguments.length > 0) throw new TypeError('WeakMap iterable is not supported') } function C (e, t) { if (!F(e) || !T.call(e, '_id')) throw new TypeError(t + ' method called on incompatible receiver ' + typeof e) } function N () { return Math.random().toString().substring(2) } function F (e) { return Object(e) === e }(P = typeof globalThis !== 'undefined' ? globalThis : typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : M).WeakMap || (T = Object.prototype.hasOwnProperty, O = Object.defineProperty && (function () { try { return Object.defineProperty({}, 'x', { value: 1 }).x === 1 } catch (e) {} }()), _ = function (e, t, n) { O ? Object.defineProperty(e, t, { configurable: !0, writable: !0, value: n }) : e[t] = n }, P.WeakMap = (_(S.prototype, 'delete', function (e) { if (C(this, 'delete'), !F(e)) return !1; const t = e[this._id]; return !(!t || t[0] !== e) && (delete e[this._id], !0) }), _(S.prototype, 'get', function (e) { if (C(this, 'get'), F(e)) { const t = e[this._id]; return t && t[0] === e ? t[1] : void 0 } }), _(S.prototype, 'has', function (e) { if (C(this, 'has'), !F(e)) return !1; const t = e[this._id]; return !(!t || t[0] !== e) }), _(S.prototype, 'set', function (e, t) { if (C(this, 'set'), !F(e)) throw new TypeError('Invalid value used as weak map key'); const n = e[this._id]; return n && n[0] === e ? n[1] = t : _(e, this._id, [e, t]), this }), _(S, '_polyfill', !0), S)); let L; const A = ((function (e) { let t, n, r; r = function () { let t; let n; let r; let o; let i; let a; const e = Object.prototype.toString; const u = typeof setImmediate !== 'undefined' ? function (e) { return setImmediate(e) } : setTimeout; try { Object.defineProperty({}, 'x', {}), t = function (e, t, n, r) { return Object.defineProperty(e, t, { value: n, writable: !0, configurable: !1 !== r }) } } catch (e) { t = function (e, t, n) { return e[t] = n, e } } function c (e, t) { this.fn = e, this.self = t, this.next = void 0 } function l (e, t) { r.add(e, t), n = n || u(r.drain) } function s (e) { let t; const n = typeof e; return e == null || n != 'object' && n != 'function' || (t = e.then), typeof t === 'function' && t } function f () { for (let e = 0; e < this.chain.length; e++)!(function (e, t, n) { let r, o; try { !1 === t ? n.reject(e.msg) : (r = !0 === t ? e.msg : t.call(void 0, e.msg)) === n.promise ? n.reject(TypeError('Promise-chain cycle')) : (o = s(r)) ? o.call(r, n.resolve, n.reject) : n.resolve(r) } catch (e) { n.reject(e) } }(this, this.state === 1 ? this.chain[e].success : this.chain[e].failure, this.chain[e])); this.chain.length = 0 } function d (e) { let n; let r = this; if (!r.triggered) { r.triggered = !0, r.def && (r = r.def); try { (n = s(e)) ? l(function () { const t = new v(r); try { n.call(e, function () { d.apply(t, arguments) }, function () { h.apply(t, arguments) }) } catch (e) { h.call(t, e) } }) : (r.msg = e, r.state = 1, r.chain.length > 0 && l(f, r)) } catch (e) { h.call(new v(r), e) } } } function h (e) { let t = this; t.triggered || (t.triggered = !0, t.def && (t = t.def), t.msg = e, t.state = 2, t.chain.length > 0 && l(f, t)) } function p (e, n, r, o) { for (let t = 0; t < n.length; t++)!(function (t) { e.resolve(n[t]).then(function (e) { r(t, e) }, o) }(t)) } function v (e) { this.def = e, this.triggered = !1 } function y (e) { this.promise = e, this.state = 0, this.triggered = !1, this.chain = [], this.msg = void 0 } function m (e) { if (typeof e !== 'function') throw TypeError('Not a function'); if (this.__NPO__ !== 0) throw TypeError('Not a promise'); this.__NPO__ = 1; const r = new y(this); this.then = function (e, t) { const n = { success: typeof e !== 'function' || e, failure: typeof t === 'function' && t }; return n.promise = new this.constructor(function (e, t) { if (typeof e !== 'function' || typeof t !== 'function') throw TypeError('Not a function'); n.resolve = e, n.reject = t }), r.chain.push(n), r.state !== 0 && l(f, r), n.promise }, this.catch = function (e) { return this.then(void 0, e) }; try { e.call(void 0, function (e) { d.call(r, e) }, function (e) { h.call(r, e) }) } catch (e) { h.call(r, e) } } const g = t({}, 'constructor', m, !(r = { add: function (e, t) { a = new c(e, t), i ? i.next = a : o = a, i = a, a = void 0 }, drain: function () { let e = o; for (o = i = n = void 0; e;)e.fn.call(e.self), e = e.next } })); return t(m.prototype = g, '__NPO__', 0, !1), t(m, 'resolve', function (n) { return n && typeof n === 'object' && n.__NPO__ === 1 ? n : new this(function (e, t) { if (typeof e !== 'function' || typeof t !== 'function') throw TypeError('Not a function'); e(n) }) }), t(m, 'reject', function (n) { return new this(function (e, t) { if (typeof e !== 'function' || typeof t !== 'function') throw TypeError('Not a function'); t(n) }) }), t(m, 'all', function (t) { const a = this; return e.call(t) != '[object Array]' ? a.reject(TypeError('Not an array')) : t.length === 0 ? a.resolve([]) : new a(function (n, e) { if (typeof n !== 'function' || typeof e !== 'function') throw TypeError('Not a function'); const r = t.length; const o = Array(r); let i = 0; p(a, t, function (e, t) { o[e] = t, ++i === r && n(o) }, e) }) }), t(m, 'race', function (t) { const r = this; return e.call(t) != '[object Array]' ? r.reject(TypeError('Not an array')) : new r(function (n, e) { if (typeof n !== 'function' || typeof e !== 'function') throw TypeError('Not a function'); p(r, t, function (e, t) { n(t) }, e) }) }), m }, (n = M)[t = 'Promise'] = n[t] || r(), e.exports && (e.exports = n[t]) }(L = { exports: {} })), L.exports); const R = new WeakMap(); function q (e, t, n) { const r = R.get(e.element) || {}; t in r || (r[t] = []), r[t].push(n), R.set(e.element, r) } function I (e, t) { return (R.get(e.element) || {})[t] || [] } function V (e, t, n) { const r = R.get(e.element) || {}; if (!r[t]) return !0; if (!n) return r[t] = [], R.set(e.element, r), !0; const o = r[t].indexOf(n); return o !== -1 && r[t].splice(o, 1), R.set(e.element, r), r[t] && r[t].length === 0 } function D (e) { if (typeof e === 'string') try { e = JSON.parse(e) } catch (e) { return console.warn(e), {} } return e } function W (e, t, n) { let r, o; e.element.contentWindow && e.element.contentWindow.postMessage && (r = { method: t }, void 0 !== n && (r.value = n), (o = parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/, '$1'))) >= 8 && o < 10 && (r = JSON.stringify(r)), e.element.contentWindow.postMessage(r, e.origin)) } function z (n, r) { let t; let e; let o = []; (r = D(r)).event ? (r.event === 'error' && I(n, r.data.method).forEach(function (e) { const t = new Error(r.data.message); t.name = r.data.name, e.reject(t), V(n, r.data.method, e) }), o = I(n, 'event:'.concat(r.event)), t = r.data) : !r.method || (e = (function (e, t) { const n = I(e, t); if (n.length < 1) return !1; const r = n.shift(); return V(e, t, r), r }(n, r.method))) && (o.push(e), t = r.value), o.forEach(function (e) { try { if (typeof e === 'function') return void e.call(n, t); e.resolve(t) } catch (e) {} }) } const U = ['airplay', 'audio_tracks', 'autopause', 'autoplay', 'background', 'byline', 'cc', 'chapters', 'chromecast', 'color', 'colors', 'controls', 'dnt', 'fullscreen', 'height', 'id', 'interactive_params', 'keyboard', 'loop', 'maxheight', 'maxwidth', 'muted', 'play_button_position', 'playsinline', 'portrait', 'progress_bar', 'quality_selector', 'responsive', 'speed', 'texttrack', 'title', 'transcript', 'transparent', 'url', 'vimeo_logo', 'volume', 'width']; function G (r, e) { const t = arguments.length > 1 && void 0 !== e ? e : {}; return U.reduce(function (e, t) { const n = r.getAttribute('data-vimeo-'.concat(t)); return !n && n !== '' || (e[t] = n === '' ? 1 : n), e }, t) } function B (e, t) { const n = e.html; if (!t) throw new TypeError('An element must be provided'); if (t.getAttribute('data-vimeo-initialized') !== null) return t.querySelector('iframe'); const r = document.createElement('div'); return r.innerHTML = n, t.appendChild(r.firstChild), t.setAttribute('data-vimeo-initialized', 'true'), t.querySelector('iframe') } function H (i, e, t) { const a = arguments.length > 1 && void 0 !== e ? e : {}; const u = arguments.length > 2 ? t : void 0; return new Promise(function (t, n) { if (!g(i)) throw new TypeError('“'.concat(i, '” is not a vimeo.com url.')); let e = 'https://vimeo.com/api/oembed.json?url='.concat(encodeURIComponent(i)); for (const r in a)a.hasOwnProperty(r) && (e += '&'.concat(r, '=').concat(encodeURIComponent(a[r]))); const o = new ('XDomainRequest' in window ? XDomainRequest : XMLHttpRequest)(); o.open('GET', e, !0), o.onload = function () { if (o.status !== 404) if (o.status !== 403) try { const e = JSON.parse(o.responseText); if (e.domain_status_code === 403) return B(e, u), void n(new Error('“'.concat(i, '” is not embeddable.'))); t(e) } catch (e) { n(e) } else n(new Error('“'.concat(i, '” is not embeddable.'))); else n(new Error('“'.concat(i, '” was not found.'))) }, o.onerror = function () { const e = o.status ? ' ('.concat(o.status, ')') : ''; n(new Error('There was an error fetching the embed code from Vimeo'.concat(e, '.'))) }, o.send() }) } let Y; let Q; let J; const X = { role: 'viewer', autoPlayMuted: !0, allowedDrift: 0.3, maxAllowedDrift: 1, minCheckInterval: 0.1, maxRateAdjustment: 0.2, maxTimeToCatchUp: 1 }; const $ = (function () { !(function (e, t) { if (typeof t !== 'function' && t !== null) throw new TypeError('Super expression must either be null or a function'); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), Object.defineProperty(e, 'prototype', { writable: !1 }), t && f(e, t) }(a, t(EventTarget))); let r; let n; let o; const i = v(a); function a (e, t) { let o; const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const r = arguments.length > 3 ? arguments[3] : void 0; return l(this, a), s(p(o = i.call(this)), 'logger', void 0), s(p(o), 'speedAdjustment', 0), s(p(o), 'adjustSpeed', (function () { const n = h(j().mark(function e (t, n) { let r; return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:if (o.speedAdjustment === n) return e.abrupt('return'); e.next = 2; break; case 2:return e.next = 4, t.getPlaybackRate(); case 4:return e.t0 = e.sent, e.t1 = o.speedAdjustment, e.t2 = e.t0 - e.t1, e.t3 = n, r = e.t2 + e.t3, o.log('New playbackRate:  '.concat(r)), e.next = 12, t.setPlaybackRate(r); case 12:o.speedAdjustment = n; case 13:case 'end':return e.stop() } }, e) })); return function (e, t) { return n.apply(this, arguments) } }())), o.logger = r, o.init(t, e, u(u({}, X), n)), o } return e(a, [{ key: 'disconnect', value: function () { this.dispatchEvent(new Event('disconnect')) } }, { key: 'init', value: (o = h(j().mark(function e (t, n, r) { let o; let i; let a; const u = this; return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:return e.next = 2, this.waitForTOReadyState(t, 'open'); case 2:if (r.role === 'viewer') return e.next = 5, this.updatePlayer(t, n, r); e.next = 10; break; case 5:o = k(t, 'change', function () { return u.updatePlayer(t, n, r) }), i = this.maintainPlaybackPosition(t, n, r), this.addEventListener('disconnect', function () { i.cancel(), o.cancel() }), e.next = 14; break; case 10:return e.next = 12, this.updateTimingObject(t, n); case 12:a = k(n, ['seeked', 'play', 'pause', 'ratechange'], function () { return u.updateTimingObject(t, n) }, 'on', 'off'), this.addEventListener('disconnect', function () { return a.cancel() }); case 14:case 'end':return e.stop() } }, e, this) })), function (e, t, n) { return o.apply(this, arguments) }) }, { key: 'updateTimingObject', value: (n = h(j().mark(function e (t, n) { return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:return e.t0 = t, e.next = 3, n.getCurrentTime(); case 3:return e.t1 = e.sent, e.next = 6, n.getPaused(); case 6:if (!e.sent) { e.next = 10; break }e.t2 = 0, e.next = 13; break; case 10:return e.next = 12, n.getPlaybackRate(); case 12:e.t2 = e.sent; case 13:e.t3 = e.t2, e.t4 = { position: e.t1, velocity: e.t3 }, e.t0.update.call(e.t0, e.t4); case 16:case 'end':return e.stop() } }, e) })), function (e, t) { return n.apply(this, arguments) }) }, { key: 'updatePlayer', value: (r = h(j().mark(function e (t, n, r) { let o, i, a; return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:if (o = t.query(), i = o.position, a = o.velocity, typeof i === 'number' && n.setCurrentTime(i), typeof a !== 'number') { e.next = 25; break } if (a === 0) return e.next = 6, n.getPaused(); e.next = 11; break; case 6:if (e.t0 = e.sent, !1 !== e.t0) { e.next = 9; break }n.pause(); case 9:e.next = 25; break; case 11:if (a > 0) return e.next = 14, n.getPaused(); e.next = 25; break; case 14:if (e.t1 = e.sent, !0 === e.t1) return e.next = 18, n.play().catch(function () { const t = h(j().mark(function e (t) { return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:if (t.name === 'NotAllowedError' && r.autoPlayMuted) return e.next = 3, n.setMuted(!0); e.next = 5; break; case 3:return e.next = 5, n.play().catch(function (e) { return console.error("Couldn't play the video from TimingSrcConnector. Error:", e) }); case 5:case 'end':return e.stop() } }, e) })); return function (e) { return t.apply(this, arguments) } }()); e.next = 19; break; case 18:this.updatePlayer(t, n, r); case 19:return e.next = 21, n.getPlaybackRate(); case 21:if (e.t2 = e.sent, e.t3 = a, e.t2 === e.t3) { e.next = 25; break }n.setPlaybackRate(a); case 25:case 'end':return e.stop() } }, e, this) })), function (e, t, n) { return r.apply(this, arguments) }) }, { key: 'maintainPlaybackPosition', value: function (a, u, e) { const c = this; const l = e.allowedDrift; const s = e.maxAllowedDrift; const t = e.minCheckInterval; const f = e.maxRateAdjustment; const d = e.maxTimeToCatchUp; const n = 1e3 * Math.min(d, Math.max(t, s)); const r = (function () { const e = h(j().mark(function e () { let t, n, r, o, i; return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:if (e.t0 = a.query().velocity === 0, e.t0) { e.next = 6; break } return e.next = 4, u.getPaused(); case 4:e.t1 = e.sent, e.t0 = !0 === e.t1; case 6:if (e.t0) return e.abrupt('return'); e.next = 8; break; case 8:return e.t2 = a.query().position, e.next = 11, u.getCurrentTime(); case 11:if (e.t3 = e.sent, t = e.t2 - e.t3, n = Math.abs(t), c.log('Drift: '.concat(t)), s < n) return e.next = 18, c.adjustSpeed(u, 0); e.next = 22; break; case 18:u.setCurrentTime(a.query().position), c.log('Resync by currentTime'), e.next = 29; break; case 22:if (l < n) return i = (r = n / d) < (o = f) ? (o - r) / 2 : o, e.next = 28, c.adjustSpeed(u, i * Math.sign(t)); e.next = 29; break; case 28:c.log('Resync by playbackRate'); case 29:case 'end':return e.stop() } }, e) })); return function () { return e.apply(this, arguments) } }()); const o = setInterval(function () { return r() }, n); return { cancel: function () { return clearInterval(o) } } } }, { key: 'log', value: function (e) { let t; (t = this.logger) !== null && void 0 !== t && t.call(this, 'TimingSrcConnector: '.concat(e)) } }, { key: 'waitForTOReadyState', value: function (n, r) { return new Promise(function (t) { !(function e () { n.readyState === r ? t() : n.addEventListener('readystatechange', e, { once: !0 }) }()) }) } }]), a }()); const K = new WeakMap(); const Z = new WeakMap(); let ee = {}; const Player = (function () { function Player (u) { let e; let t; const c = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (l(this, Player), window.jQuery && u instanceof jQuery && (u.length > 1 && window.console && console.warn && console.warn('A jQuery object with multiple elements was passed, using the first element.'), u = u[0]), typeof document !== 'undefined' && typeof u === 'string' && (u = document.getElementById(u)), e = u, !(e && e.nodeType === 1 && 'nodeName' in e && e.ownerDocument && e.ownerDocument.defaultView)) throw new TypeError('You must pass either a valid element or a valid id.'); if (u.nodeName === 'IFRAME' || (t = u.querySelector('iframe')) && (u = t), u.nodeName === 'IFRAME' && !g(u.getAttribute('src') || '')) throw new Error('The player element passed isn’t a Vimeo embed.'); if (K.has(u)) return K.get(u); this._window = u.ownerDocument.defaultView, this.element = u, this.origin = '*'; let r; const o = new A(function (i, a) { let e; c._onMessage = function (e) { if (g(e.origin) && c.element.contentWindow === e.source) { c.origin === '*' && (c.origin = e.origin); const t = D(e.data); if (t && t.event === 'error' && t.data && t.data.method === 'ready') { const n = new Error(t.data.message); return n.name = t.data.name, void a(n) } const r = t && t.event === 'ready'; const o = t && t.method === 'ping'; if (r || o) return c.element.setAttribute('data-ready', 'true'), void i(); z(c, t) } }, c._window.addEventListener('message', c._onMessage), c.element.nodeName !== 'IFRAME' && H(b(e = G(u, n)), e, u).then(function (e) { let t; let n; let r; const o = B(e, u); return c.element = o, c._originalElement = u, t = u, n = o, r = R.get(t), R.set(n, r), R.delete(t), K.set(c.element, c), e }).catch(a) }); return Z.set(this, o), K.set(this.element, this), this.element.nodeName === 'IFRAME' && W(this, 'ping'), ee.isEnabled && (r = function () { return ee.exit() }, this.fullscreenchangeHandler = function () { (ee.isFullscreen ? q : V)(c, 'event:exitFullscreen', r), c.ready().then(function () { W(c, 'fullscreenchange', ee.isFullscreen) }) }, ee.on('fullscreenchange', this.fullscreenchangeHandler)), this } let n; return e(Player, [{ key: 'callMethod', value: function (n, e) { const r = this; const o = arguments.length > 1 && void 0 !== e ? e : {}; return new A(function (e, t) { return r.ready().then(function () { q(r, n, { resolve: e, reject: t }), W(r, n, o) }).catch(t) }) } }, { key: 'get', value: function (n) { const r = this; return new A(function (e, t) { return n = m(n, 'get'), r.ready().then(function () { q(r, n, { resolve: e, reject: t }), W(r, n) }).catch(t) }) } }, { key: 'set', value: function (n, r) { const o = this; return new A(function (e, t) { if (n = m(n, 'set'), r == null) throw new TypeError('There must be a value to set.'); return o.ready().then(function () { q(o, n, { resolve: e, reject: t }), W(o, n, r) }).catch(t) }) } }, { key: 'on', value: function (e, t) { if (!e) throw new TypeError('You must pass an event name.'); if (!t) throw new TypeError('You must pass a callback function.'); if (typeof t !== 'function') throw new TypeError('The callback must be a function.'); I(this, 'event:'.concat(e)).length === 0 && this.callMethod('addEventListener', e).catch(function () {}), q(this, 'event:'.concat(e), t) } }, { key: 'off', value: function (e, t) { if (!e) throw new TypeError('You must pass an event name.'); if (t && typeof t !== 'function') throw new TypeError('The callback must be a function.'); V(this, 'event:'.concat(e), t) && this.callMethod('removeEventListener', e).catch(function (e) {}) } }, { key: 'loadVideo', value: function (e) { return this.callMethod('loadVideo', e) } }, { key: 'ready', value: function () { const e = Z.get(this) || new A(function (e, t) { t(new Error('Unknown player. Probably unloaded.')) }); return A.resolve(e) } }, { key: 'addCuePoint', value: function (e, t) { const n = arguments.length > 1 && void 0 !== t ? t : {}; return this.callMethod('addCuePoint', { time: e, data: n }) } }, { key: 'removeCuePoint', value: function (e) { return this.callMethod('removeCuePoint', e) } }, { key: 'enableTextTrack', value: function (e, t) { if (!e) throw new TypeError('You must pass a language.'); return this.callMethod('enableTextTrack', { language: e, kind: t }) } }, { key: 'disableTextTrack', value: function () { return this.callMethod('disableTextTrack') } }, { key: 'pause', value: function () { return this.callMethod('pause') } }, { key: 'play', value: function () { return this.callMethod('play') } }, { key: 'requestFullscreen', value: function () { return ee.isEnabled ? ee.request(this.element) : this.callMethod('requestFullscreen') } }, { key: 'exitFullscreen', value: function () { return ee.isEnabled ? ee.exit() : this.callMethod('exitFullscreen') } }, { key: 'getFullscreen', value: function () { return ee.isEnabled ? A.resolve(ee.isFullscreen) : this.get('fullscreen') } }, { key: 'requestPictureInPicture', value: function () { return this.callMethod('requestPictureInPicture') } }, { key: 'exitPictureInPicture', value: function () { return this.callMethod('exitPictureInPicture') } }, { key: 'getPictureInPicture', value: function () { return this.get('pictureInPicture') } }, { key: 'remotePlaybackPrompt', value: function () { return this.callMethod('remotePlaybackPrompt') } }, { key: 'unload', value: function () { return this.callMethod('unload') } }, { key: 'destroy', value: function () { const n = this; return new A(function (e) { let t; Z.delete(n), K.delete(n.element), n._originalElement && (K.delete(n._originalElement), n._originalElement.removeAttribute('data-vimeo-initialized')), n.element && n.element.nodeName === 'IFRAME' && n.element.parentNode && (n.element.parentNode.parentNode && n._originalElement && n._originalElement !== n.element.parentNode ? n.element.parentNode.parentNode.removeChild(n.element.parentNode) : n.element.parentNode.removeChild(n.element)), n.element && n.element.nodeName === 'DIV' && n.element.parentNode && (n.element.removeAttribute('data-vimeo-initialized'), (t = n.element.querySelector('iframe')) && t.parentNode && (t.parentNode.parentNode && n._originalElement && n._originalElement !== t.parentNode ? t.parentNode.parentNode.removeChild(t.parentNode) : t.parentNode.removeChild(t))), n._window.removeEventListener('message', n._onMessage), ee.isEnabled && ee.off('fullscreenchange', n.fullscreenchangeHandler), e() }) } }, { key: 'getAutopause', value: function () { return this.get('autopause') } }, { key: 'setAutopause', value: function (e) { return this.set('autopause', e) } }, { key: 'getBuffered', value: function () { return this.get('buffered') } }, { key: 'getCameraProps', value: function () { return this.get('cameraProps') } }, { key: 'setCameraProps', value: function (e) { return this.set('cameraProps', e) } }, { key: 'getChapters', value: function () { return this.get('chapters') } }, { key: 'getCurrentChapter', value: function () { return this.get('currentChapter') } }, { key: 'getColor', value: function () { return this.get('color') } }, { key: 'getColors', value: function () { return A.all([this.get('colorOne'), this.get('colorTwo'), this.get('colorThree'), this.get('colorFour')]) } }, { key: 'setColor', value: function (e) { return this.set('color', e) } }, { key: 'setColors', value: function (e) { if (!Array.isArray(e)) return new A(function (e, t) { return t(new TypeError('Argument must be an array.')) }); const t = new A(function (e) { return e(null) }); const n = [e[0] ? this.set('colorOne', e[0]) : t, e[1] ? this.set('colorTwo', e[1]) : t, e[2] ? this.set('colorThree', e[2]) : t, e[3] ? this.set('colorFour', e[3]) : t]; return A.all(n) } }, { key: 'getCuePoints', value: function () { return this.get('cuePoints') } }, { key: 'getCurrentTime', value: function () { return this.get('currentTime') } }, { key: 'setCurrentTime', value: function (e) { return this.set('currentTime', e) } }, { key: 'getDuration', value: function () { return this.get('duration') } }, { key: 'getEnded', value: function () { return this.get('ended') } }, { key: 'getLoop', value: function () { return this.get('loop') } }, { key: 'setLoop', value: function (e) { return this.set('loop', e) } }, { key: 'setMuted', value: function (e) { return this.set('muted', e) } }, { key: 'getMuted', value: function () { return this.get('muted') } }, { key: 'getPaused', value: function () { return this.get('paused') } }, { key: 'getPlaybackRate', value: function () { return this.get('playbackRate') } }, { key: 'setPlaybackRate', value: function (e) { return this.set('playbackRate', e) } }, { key: 'getPlayed', value: function () { return this.get('played') } }, { key: 'getQualities', value: function () { return this.get('qualities') } }, { key: 'getQuality', value: function () { return this.get('quality') } }, { key: 'setQuality', value: function (e) { return this.set('quality', e) } }, { key: 'getRemotePlaybackAvailability', value: function () { return this.get('remotePlaybackAvailability') } }, { key: 'getRemotePlaybackState', value: function () { return this.get('remotePlaybackState') } }, { key: 'getSeekable', value: function () { return this.get('seekable') } }, { key: 'getSeeking', value: function () { return this.get('seeking') } }, { key: 'getTextTracks', value: function () { return this.get('textTracks') } }, { key: 'getVideoEmbedCode', value: function () { return this.get('videoEmbedCode') } }, { key: 'getVideoId', value: function () { return this.get('videoId') } }, { key: 'getVideoTitle', value: function () { return this.get('videoTitle') } }, { key: 'getVideoWidth', value: function () { return this.get('videoWidth') } }, { key: 'getVideoHeight', value: function () { return this.get('videoHeight') } }, { key: 'getVideoUrl', value: function () { return this.get('videoUrl') } }, { key: 'getVolume', value: function () { return this.get('volume') } }, { key: 'setVolume', value: function (e) { return this.set('volume', e) } }, { key: 'setTimingSrc', value: (n = h(j().mark(function e (t, n) { let r; const o = this; return j().wrap(function (e) { for (;;) switch (e.prev = e.next) { case 0:if (t) { e.next = 2; break } throw new TypeError('A Timing Object must be provided.'); case 2:return e.next = 4, this.ready(); case 4:return r = new $(this, t, n), W(this, 'notifyTimingObjectConnect'), r.addEventListener('disconnect', function () { return W(o, 'notifyTimingObjectDisconnect') }), e.abrupt('return', r); case 8:case 'end':return e.stop() } }, e, this) })), function (e, t) { return n.apply(this, arguments) }) }]), Player }()); return n || (Y = (function () { for (var e, t = [['requestFullscreen', 'exitFullscreen', 'fullscreenElement', 'fullscreenEnabled', 'fullscreenchange', 'fullscreenerror'], ['webkitRequestFullscreen', 'webkitExitFullscreen', 'webkitFullscreenElement', 'webkitFullscreenEnabled', 'webkitfullscreenchange', 'webkitfullscreenerror'], ['webkitRequestFullScreen', 'webkitCancelFullScreen', 'webkitCurrentFullScreenElement', 'webkitCancelFullScreen', 'webkitfullscreenchange', 'webkitfullscreenerror'], ['mozRequestFullScreen', 'mozCancelFullScreen', 'mozFullScreenElement', 'mozFullScreenEnabled', 'mozfullscreenchange', 'mozfullscreenerror'], ['msRequestFullscreen', 'msExitFullscreen', 'msFullscreenElement', 'msFullscreenEnabled', 'MSFullscreenChange', 'MSFullscreenError']], n = 0, r = t.length, o = {}; n < r; n++) if ((e = t[n]) && e[1] in document) { for (n = 0; n < e.length; n++)o[t[0][n]] = e[n]; return o } return !1 }()), Q = { fullscreenchange: Y.fullscreenchange, fullscreenerror: Y.fullscreenerror }, J = { request: function (o) { return new Promise(function (e, t) { function n () { J.off('fullscreenchange', n), e() }J.on('fullscreenchange', n); const r = (o = o || document.documentElement)[Y.requestFullscreen](); r instanceof Promise && r.then(n).catch(t) }) }, exit: function () { return new Promise(function (t, e) { let n, r; J.isFullscreen ? (n = function e () { J.off('fullscreenchange', e), t() }, J.on('fullscreenchange', n), (r = document[Y.exitFullscreen]()) instanceof Promise && r.then(n).catch(e)) : t() }) }, on: function (e, t) { const n = Q[e]; n && document.addEventListener(n, t) }, off: function (e, t) { const n = Q[e]; n && document.removeEventListener(n, t) } }, Object.defineProperties(J, { isFullscreen: { get: function () { return Boolean(document[Y.fullscreenElement]) } }, element: { enumerable: !0, get: function () { return document[Y.fullscreenElement] } }, isEnabled: { enumerable: !0, get: function () { return Boolean(document[Y.fullscreenEnabled]) } } }), ee = J, (function (e) { function n (e) { 'console' in window && console.error && console.error('There was an error creating an embed: '.concat(e)) } const t = arguments.length > 0 && void 0 !== e ? e : document; [].slice.call(t.querySelectorAll('[data-vimeo-id], [data-vimeo-url]')).forEach(function (t) { try { if (t.getAttribute('data-vimeo-defer') !== null) return; const e = G(t); H(b(e), e, t).then(function (e) { return B(e, t) }).catch(n) } catch (e) { n(e) } }) }()), (function (e) { const r = arguments.length > 0 && void 0 !== e ? e : document; window.VimeoPlayerResizeEmbeds_ || (window.VimeoPlayerResizeEmbeds_ = !0, window.addEventListener('message', function (e) { if (g(e.origin) && e.data && e.data.event === 'spacechange') for (let t = r.querySelectorAll('iframe'), n = 0; n < t.length; n++) if (t[n].contentWindow === e.source) { t[n].parentElement.style.paddingBottom = ''.concat(e.data.data[0].bottom, 'px'); break } })) }()), (function (e) { const a = arguments.length > 0 && void 0 !== e ? e : document; window.VimeoSeoMetadataAppended || (window.VimeoSeoMetadataAppended = !0, window.addEventListener('message', function (e) { if (g(e.origin)) { const t = D(e.data); if (t && t.event === 'ready') for (let n = a.querySelectorAll('iframe'), r = 0; r < n.length; r++) { const o = n[r]; const i = o.contentWindow === e.source; w(o.src) && i && new Player(o).callMethod('appendVideoMetadata', window.location.href) } } })) }()), (function (e) { let a; const t = arguments.length > 0 && void 0 !== e ? e : document; window.VimeoCheckedUrlTimeParam || (window.VimeoCheckedUrlTimeParam = !0, a = function (e) { 'console' in window && console.error && console.error('There was an error getting video Id: '.concat(e)) }, window.addEventListener('message', function (n) { if (g(n.origin)) { const e = D(n.data); if (e && e.event === 'ready') for (var o = t.querySelectorAll('iframe'), i = 0; i < o.length; i++)!(function () { let r; const e = o[i]; const t = e.contentWindow === n.source; w(e.src) && t && (r = new Player(e)).getVideoId().then(function (e) { let t; const n = new RegExp('[?&]vimeo_t_'.concat(e, '=([^&#]*)')).exec(window.location.href); n && n[1] && (t = decodeURI(n[1]), r.setCurrentTime(t)) }).catch(a) }()) } })) }())), Player }))
