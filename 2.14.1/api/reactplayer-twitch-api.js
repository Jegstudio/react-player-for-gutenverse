!(function (e, t) { typeof exports === 'object' && typeof module === 'object' ? module.exports = t() : typeof define === 'function' && define.amd ? define([], t) : typeof exports === 'object' ? exports.Twitch = t() : e.Twitch = t() }(self, function () { return (function () { const e = { 545: function (e, t, r) { 'use strict'; const n = r(416); const o = r(424); const a = r(698); const i = r(861); function s (e, t) { let r = typeof Symbol !== 'undefined' && e[Symbol.iterator] || e['@@iterator']; if (!r) { if (Array.isArray(e) || (r = (function (e, t) { if (!e) return; if (typeof e === 'string') return u(e, t); let r = Object.prototype.toString.call(e).slice(8, -1); r === 'Object' && e.constructor && (r = e.constructor.name); if (r === 'Map' || r === 'Set') return Array.from(e); if (r === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)) return u(e, t) }(e))) || t && e && typeof e.length === 'number') { r && (e = r); let n = 0; const o = function () {}; return { s: o, n: function () { return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] } }, e: function (e) { throw e }, f: o } } throw new TypeError('Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') } let a; let i = !0; let s = !1; return { s: function () { r = r.call(e) }, n: function () { const e = r.next(); return i = e.done, e }, e: function (e) { s = !0, a = e }, f: function () { try { i || r.return == null || r.return() } finally { if (s) throw a } } } } function u (e, t) { (t == null || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n } const l = r(447); const c = r(20); const p = r(490); const f = r(806); const d = Symbol('encodeFragmentIdentifier'); function y (e) { if (typeof e !== 'string' || e.length !== 1) throw new TypeError('arrayFormatSeparator must be single character string') } function m (e, t) { return t.encode ? t.strict ? l(e) : encodeURIComponent(e) : e } function h (e, t) { return t.decode ? c(e) : e } function v (e) { return Array.isArray(e) ? e.sort() : a(e) === 'object' ? v(Object.keys(e)).sort(function (e, t) { return Number(e) - Number(t) }).map(function (t) { return e[t] }) : e } function g (e) { const t = e.indexOf('#'); return t !== -1 && (e = e.slice(0, t)), e } function b (e) { const t = (e = g(e)).indexOf('?'); return t === -1 ? '' : e.slice(t + 1) } function _ (e, t) { return t.parseNumbers && !Number.isNaN(Number(e)) && typeof e === 'string' && e.trim() !== '' ? e = Number(e) : !t.parseBooleans || e === null || e.toLowerCase() !== 'true' && e.toLowerCase() !== 'false' || (e = e.toLowerCase() === 'true'), e } function E (e, t) { y((t = Object.assign({ decode: !0, sort: !0, arrayFormat: 'none', arrayFormatSeparator: ',', parseNumbers: !1, parseBooleans: !1 }, t)).arrayFormatSeparator); const r = (function (e) { let t; switch (e.arrayFormat) { case 'index':return function (e, r, n) { t = /\[(\d*)\]$/.exec(e), e = e.replace(/\[\d*\]$/, ''), t ? (void 0 === n[e] && (n[e] = {}), n[e][t[1]] = r) : n[e] = r }; case 'bracket':return function (e, r, n) { t = /(\[\])$/.exec(e), e = e.replace(/\[\]$/, ''), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], r) : n[e] = [r] : n[e] = r }; case 'colon-list-separator':return function (e, r, n) { t = /(:list)$/.exec(e), e = e.replace(/:list$/, ''), t ? void 0 !== n[e] ? n[e] = [].concat(n[e], r) : n[e] = [r] : n[e] = r }; case 'comma':case 'separator':return function (t, r, n) { const o = typeof r === 'string' && r.includes(e.arrayFormatSeparator); const a = typeof r === 'string' && !o && h(r, e).includes(e.arrayFormatSeparator); r = a ? h(r, e) : r; const i = o || a ? r.split(e.arrayFormatSeparator).map(function (t) { return h(t, e) }) : r === null ? r : h(r, e); n[t] = i }; case 'bracket-separator':return function (t, r, n) { const o = /(\[\])$/.test(t); if (t = t.replace(/\[\]$/, ''), o) { const a = r === null ? [] : r.split(e.arrayFormatSeparator).map(function (t) { return h(t, e) }); void 0 !== n[t] ? n[t] = [].concat(n[t], a) : n[t] = a } else n[t] = r ? h(r, e) : r }; default:return function (e, t, r) { void 0 !== r[e] ? r[e] = [].concat(r[e], t) : r[e] = t } } }(t)); const n = Object.create(null); if (typeof e !== 'string') return n; if (!(e = e.trim().replace(/^[?#&]/, ''))) return n; let i; const u = s(e.split('&')); try { for (u.s(); !(i = u.n()).done;) { const l = i.value; if (l !== '') { const c = p(t.decode ? l.replace(/\+/g, ' ') : l, '='); const f = o(c, 2); const d = f[0]; let m = f[1]; m = void 0 === m ? null : ['comma', 'separator', 'bracket-separator'].includes(t.arrayFormat) ? m : h(m, t), r(h(d, t), m, n) } } } catch (e) { u.e(e) } finally { u.f() } for (let g = 0, b = Object.keys(n); g < b.length; g++) { const E = b[g]; const S = n[E]; if (a(S) === 'object' && S !== null) for (let A = 0, C = Object.keys(S); A < C.length; A++) { const x = C[A]; S[x] = _(S[x], t) } else n[E] = _(S, t) } return !1 === t.sort ? n : (!0 === t.sort ? Object.keys(n).sort() : Object.keys(n).sort(t.sort)).reduce(function (e, t) { const r = n[t]; return Boolean(r) && a(r) === 'object' && !Array.isArray(r) ? e[t] = v(r) : e[t] = r, e }, Object.create(null)) }t.extract = b, t.parse = E, t.stringify = function (e, t) { if (!e) return ''; y((t = Object.assign({ encode: !0, strict: !0, arrayFormat: 'none', arrayFormatSeparator: ',' }, t)).arrayFormatSeparator); for (var r = function (r) { return t.skipNull && e[r] == null || t.skipEmptyString && e[r] === '' }, n = (function (e) { switch (e.arrayFormat) { case 'index':return function (t) { return function (r, n) { const o = r.length; return void 0 === n || e.skipNull && n === null || e.skipEmptyString && n === '' ? r : [].concat(i(r), n === null ? [[m(t, e), '[', o, ']'].join('')] : [[m(t, e), '[', m(o, e), ']=', m(n, e)].join('')]) } }; case 'bracket':return function (t) { return function (r, n) { return void 0 === n || e.skipNull && n === null || e.skipEmptyString && n === '' ? r : [].concat(i(r), n === null ? [[m(t, e), '[]'].join('')] : [[m(t, e), '[]=', m(n, e)].join('')]) } }; case 'colon-list-separator':return function (t) { return function (r, n) { return void 0 === n || e.skipNull && n === null || e.skipEmptyString && n === '' ? r : [].concat(i(r), n === null ? [[m(t, e), ':list='].join('')] : [[m(t, e), ':list=', m(n, e)].join('')]) } }; case 'comma':case 'separator':case 'bracket-separator':var t = e.arrayFormat === 'bracket-separator' ? '[]=' : '='; return function (r) { return function (n, o) { return void 0 === o || e.skipNull && o === null || e.skipEmptyString && o === '' ? n : (o = o === null ? '' : o, n.length === 0 ? [[m(r, e), t, m(o, e)].join('')] : [[n, m(o, e)].join(e.arrayFormatSeparator)]) } }; default:return function (t) { return function (r, n) { return void 0 === n || e.skipNull && n === null || e.skipEmptyString && n === '' ? r : [].concat(i(r), n === null ? [m(t, e)] : [[m(t, e), '=', m(n, e)].join('')]) } } } }(t)), o = {}, a = 0, s = Object.keys(e); a < s.length; a++) { const u = s[a]; r(u) || (o[u] = e[u]) } const l = Object.keys(o); return !1 !== t.sort && l.sort(t.sort), l.map(function (r) { const o = e[r]; return void 0 === o ? '' : o === null ? m(r, t) : Array.isArray(o) ? o.length === 0 && t.arrayFormat === 'bracket-separator' ? m(r, t) + '[]' : o.reduce(n(r), []).join('&') : m(r, t) + '=' + m(o, t) }).filter(function (e) { return e.length > 0 }).join('&') }, t.parseUrl = function (e, t) { t = Object.assign({ decode: !0 }, t); const r = p(e, '#'); const n = o(r, 2); const a = n[0]; const i = n[1]; return Object.assign({ url: a.split('?')[0] || '', query: E(b(e), t) }, t && t.parseFragmentIdentifier && i ? { fragmentIdentifier: h(i, t) } : {}) }, t.stringifyUrl = function (e, r) { r = Object.assign(n({ encode: !0, strict: !0 }, d, !0), r); const o = g(e.url).split('?')[0] || ''; const a = t.extract(e.url); const i = t.parse(a, { sort: !1 }); const s = Object.assign(i, e.query); let u = t.stringify(s, r); u && (u = '?'.concat(u)); let l = (function (e) { let t = ''; const r = e.indexOf('#'); return r !== -1 && (t = e.slice(r)), t }(e.url)); return e.fragmentIdentifier && (l = '#'.concat(r[d] ? m(e.fragmentIdentifier, r) : e.fragmentIdentifier)), ''.concat(o).concat(u).concat(l) }, t.pick = function (e, r, o) { o = Object.assign(n({ parseFragmentIdentifier: !0 }, d, !1), o); const a = t.parseUrl(e, o); const i = a.url; const s = a.query; const u = a.fragmentIdentifier; return t.stringifyUrl({ url: i, query: f(s, r), fragmentIdentifier: u }, o) }, t.exclude = function (e, r, n) { const o = Array.isArray(r) ? function (e) { return !r.includes(e) } : function (e, t) { return !r(e, t) }; return t.pick(e, o, n) } }, 490: function (e) { 'use strict'; e.exports = function (e, t) { if (typeof e !== 'string' || typeof t !== 'string') throw new TypeError('Expected the arguments to be of type `string`'); if (t === '') return [e]; const r = e.indexOf(t); return r === -1 ? [e] : [e.slice(0, r), e.slice(r + t.length)] } }, 447: function (e) { 'use strict'; e.exports = function (e) { return encodeURIComponent(e).replace(/[!'()*]/g, function (e) { return '%'.concat(e.charCodeAt(0).toString(16).toUpperCase()) }) } }, 20: function (e) { 'use strict'; const t = '%[a-f0-9]{2}'; const r = new RegExp(t, 'gi'); const n = new RegExp('(' + t + ')+', 'gi'); function o (e, t) { try { return [decodeURIComponent(e.join(''))] } catch (e) {} if (e.length === 1) return e; t = t || 1; const r = e.slice(0, t); const n = e.slice(t); return Array.prototype.concat.call([], o(r), o(n)) } function a (e) { try { return decodeURIComponent(e) } catch (a) { for (let t = e.match(r) || [], n = 1; n < t.length; n++)t = (e = o(t, n).join('')).match(r) || []; return e } }e.exports = function (e) { if (typeof e !== 'string') throw new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof e + '`'); try { return e = e.replace(/\+/g, ' '), decodeURIComponent(e) } catch (t) { return (function (e) { for (var t = { '%FE%FF': '��', '%FF%FE': '��' }, r = n.exec(e); r;) { try { t[r[0]] = decodeURIComponent(r[0]) } catch (e) { const o = a(r[0]); o !== r[0] && (t[r[0]] = o) }r = n.exec(e) }t['%C2'] = '�'; for (let i = Object.keys(t), s = 0; s < i.length; s++) { const u = i[s]; e = e.replace(new RegExp(u, 'g'), t[u]) } return e }(e)) } } }, 729: function (e) { 'use strict'; const t = Object.prototype.hasOwnProperty; let r = '~'; function n () {} function o (e, t, r) { this.fn = e, this.context = t, this.once = r || !1 } function a (e, t, n, a, i) { if (typeof n !== 'function') throw new TypeError('The listener must be a function'); const s = new o(n, a || e, i); const u = r ? r + t : t; return e._events[u] ? e._events[u].fn ? e._events[u] = [e._events[u], s] : e._events[u].push(s) : (e._events[u] = s, e._eventsCount++), e } function i (e, t) { --e._eventsCount == 0 ? e._events = new n() : delete e._events[t] } function s () { this._events = new n(), this._eventsCount = 0 }Object.create && (n.prototype = Object.create(null), (new n()).__proto__ || (r = !1)), s.prototype.eventNames = function () { let e; let n; const o = []; if (this._eventsCount === 0) return o; for (n in e = this._events)t.call(e, n) && o.push(r ? n.slice(1) : n); return Object.getOwnPropertySymbols ? o.concat(Object.getOwnPropertySymbols(e)) : o }, s.prototype.listeners = function (e) { const t = r ? r + e : e; const n = this._events[t]; if (!n) return []; if (n.fn) return [n.fn]; for (var o = 0, a = n.length, i = new Array(a); o < a; o++)i[o] = n[o].fn; return i }, s.prototype.listenerCount = function (e) { const t = r ? r + e : e; const n = this._events[t]; return n ? n.fn ? 1 : n.length : 0 }, s.prototype.emit = function (e, t, n, o, a, i) { const s = r ? r + e : e; if (!this._events[s]) return !1; let u; let l; const c = this._events[s]; const p = arguments.length; if (c.fn) { switch (c.once && this.removeListener(e, c.fn, void 0, !0), p) { case 1:return c.fn.call(c.context), !0; case 2:return c.fn.call(c.context, t), !0; case 3:return c.fn.call(c.context, t, n), !0; case 4:return c.fn.call(c.context, t, n, o), !0; case 5:return c.fn.call(c.context, t, n, o, a), !0; case 6:return c.fn.call(c.context, t, n, o, a, i), !0 } for (l = 1, u = new Array(p - 1); l < p; l++)u[l - 1] = arguments[l]; c.fn.apply(c.context, u) } else { let f; const d = c.length; for (l = 0; l < d; l++) switch (c[l].once && this.removeListener(e, c[l].fn, void 0, !0), p) { case 1:c[l].fn.call(c[l].context); break; case 2:c[l].fn.call(c[l].context, t); break; case 3:c[l].fn.call(c[l].context, t, n); break; case 4:c[l].fn.call(c[l].context, t, n, o); break; default:if (!u) for (f = 1, u = new Array(p - 1); f < p; f++)u[f - 1] = arguments[f]; c[l].fn.apply(c[l].context, u) } } return !0 }, s.prototype.on = function (e, t, r) { return a(this, e, t, r, !1) }, s.prototype.once = function (e, t, r) { return a(this, e, t, r, !0) }, s.prototype.removeListener = function (e, t, n, o) { const a = r ? r + e : e; if (!this._events[a]) return this; if (!t) return i(this, a), this; const s = this._events[a]; if (s.fn)s.fn !== t || o && !s.once || n && s.context !== n || i(this, a); else { for (var u = 0, l = [], c = s.length; u < c; u++)(s[u].fn !== t || o && !s[u].once || n && s[u].context !== n) && l.push(s[u]); l.length ? this._events[a] = l.length === 1 ? l[0] : l : i(this, a) } return this }, s.prototype.removeAllListeners = function (e) { let t; return e ? (t = r ? r + e : e, this._events[t] && i(this, t)) : (this._events = new n(), this._eventsCount = 0), this }, s.prototype.off = s.prototype.removeListener, s.prototype.addListener = s.prototype.on, s.prefixed = r, s.EventEmitter = s, e.exports = s }, 806: function (e) { 'use strict'; e.exports = function (e, t) { for (var r = {}, n = Object.keys(e), o = Array.isArray(t), a = 0; a < n.length; a++) { const i = n[a]; const s = e[i]; (o ? t.indexOf(i) !== -1 : t(i, s, e)) && (r[i] = s) } return r } }, 897: function (e) { e.exports = function (e, t) { (t == null || t > e.length) && (t = e.length); for (var r = 0, n = new Array(t); r < t; r++)n[r] = e[r]; return n }, e.exports.__esModule = !0, e.exports.default = e.exports }, 372: function (e) { e.exports = function (e) { if (Array.isArray(e)) return e }, e.exports.__esModule = !0, e.exports.default = e.exports }, 405: function (e, t, r) { const n = r(897); e.exports = function (e) { if (Array.isArray(e)) return n(e) }, e.exports.__esModule = !0, e.exports.default = e.exports }, 416: function (e, t, r) { const n = r(62); e.exports = function (e, t, r) { return (t = n(t)) in e ? Object.defineProperty(e, t, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = r, e }, e.exports.__esModule = !0, e.exports.default = e.exports }, 498: function (e) { e.exports = function (e) { if (typeof Symbol !== 'undefined' && e[Symbol.iterator] != null || e['@@iterator'] != null) return Array.from(e) }, e.exports.__esModule = !0, e.exports.default = e.exports }, 872: function (e) { e.exports = function (e, t) { let r = e == null ? null : typeof Symbol !== 'undefined' && e[Symbol.iterator] || e['@@iterator']; if (r != null) { let n; let o; let a; let i; const s = []; let u = !0; let l = !1; try { if (a = (r = r.call(e)).next, t === 0) { if (Object(r) !== r) return; u = !1 } else for (;!(u = (n = a.call(r)).done) && (s.push(n.value), s.length !== t); u = !0); } catch (e) { l = !0, o = e } finally { try { if (!u && r.return != null && (i = r.return(), Object(i) !== i)) return } finally { if (l) throw o } } return s } }, e.exports.__esModule = !0, e.exports.default = e.exports }, 218: function (e) { e.exports = function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }, e.exports.__esModule = !0, e.exports.default = e.exports }, 281: function (e) { e.exports = function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }, e.exports.__esModule = !0, e.exports.default = e.exports }, 424: function (e, t, r) { const n = r(372); const o = r(872); const a = r(116); const i = r(218); e.exports = function (e, t) { return n(e) || o(e, t) || a(e, t) || i() }, e.exports.__esModule = !0, e.exports.default = e.exports }, 861: function (e, t, r) { const n = r(405); const o = r(498); const a = r(116); const i = r(281); e.exports = function (e) { return n(e) || o(e) || a(e) || i() }, e.exports.__esModule = !0, e.exports.default = e.exports }, 36: function (e, t, r) { const n = r(698).default; e.exports = function (e, t) { if (n(e) != 'object' || !e) return e; const r = e[Symbol.toPrimitive]; if (void 0 !== r) { const o = r.call(e, t || 'default'); if (n(o) != 'object') return o; throw new TypeError('@@toPrimitive must return a primitive value.') } return (t === 'string' ? String : Number)(e) }, e.exports.__esModule = !0, e.exports.default = e.exports }, 62: function (e, t, r) { const n = r(698).default; const o = r(36); e.exports = function (e) { const t = o(e, 'string'); return n(t) == 'symbol' ? t : String(t) }, e.exports.__esModule = !0, e.exports.default = e.exports }, 698: function (e) { function t (r) { return e.exports = t = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (e) { return typeof e } : function (e) { return e && typeof Symbol === 'function' && e.constructor === Symbol && e !== Symbol.prototype ? 'symbol' : typeof e }, e.exports.__esModule = !0, e.exports.default = e.exports, t(r) }e.exports = t, e.exports.__esModule = !0, e.exports.default = e.exports }, 116: function (e, t, r) { const n = r(897); e.exports = function (e, t) { if (e) { if (typeof e === 'string') return n(e, t); let r = Object.prototype.toString.call(e).slice(8, -1); return r === 'Object' && e.constructor && (r = e.constructor.name), r === 'Map' || r === 'Set' ? Array.from(e) : r === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? n(e, t) : void 0 } }, e.exports.__esModule = !0, e.exports.default = e.exports } }; const t = {}; function r (n) { const o = t[n]; if (void 0 !== o) return o.exports; const a = t[n] = { exports: {} }; return e[n](a, a.exports, r), a.exports }r.n = function (e) { const t = e && e.__esModule ? function () { return e.default } : function () { return e }; return r.d(t, { a: t }), t }, r.d = function (e, t) { for (const n in t)r.o(t, n) && !r.o(e, n) && Object.defineProperty(e, n, { enumerable: !0, get: t[n] }) }, r.o = function (e, t) { return Object.prototype.hasOwnProperty.call(e, t) }; let n = {}; return (function () { 'use strict'; r.d(n, { default: function () { return C } }); let e = function (t, r) { return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function (e, t) { e.__proto__ = t } || function (e, t) { for (const r in t)Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]) }, e(t, r) }; function t (t, r) { if (typeof r !== 'function' && r !== null) throw new TypeError('Class extends value ' + String(r) + ' is not a constructor or null'); function n () { this.constructor = t }e(t, r), t.prototype = r === null ? Object.create(r) : (n.prototype = r.prototype, new n()) } let o = function () { return o = Object.assign || function (e) { for (var t, r = 1, n = arguments.length; r < n; r++) for (const o in t = arguments[r])Object.prototype.hasOwnProperty.call(t, o) && (e[o] = t[o]); return e }, o.apply(this, arguments) }; Object.create; Object.create; typeof SuppressedError === 'function' && SuppressedError; let a; let i; let s; let u; const l = r(729); const c = r.n(l); const p = 'twitch-embed-player-proxy'; !(function (e) { e.UpdateState = 'UPDATE_STATE' }(a || (a = {}))), (function (e) { e.VideoWithChat = 'video-with-chat', e.Video = 'video' }(i || (i = {}))), (function (e) { e.AUTHENTICATE = 'authenticate', e.VIDEO_READY = 'video.ready', e.VIDEO_PLAY = 'video.play', e.VIDEO_PAUSE = 'video.pause', e.CAPTIONS = 'captions', e.ENDED = 'ended', e.ERROR = 'error', e.ONLINE = 'online', e.OFFLINE = 'offline', e.PAUSE = 'pause', e.PLAY = 'play', e.PLAYBACK_BLOCKED = 'playbackBlocked', e.PLAYING = 'playing', e.READY = 'ready', e.SEEK = 'seek' }(s || (s = {}))), (function (e) { e[e.DisableCaptions = 0] = 'DisableCaptions', e[e.EnableCaptions = 1] = 'EnableCaptions', e[e.Pause = 2] = 'Pause', e[e.Play = 3] = 'Play', e[e.Seek = 4] = 'Seek', e[e.SetChannel = 5] = 'SetChannel', e[e.SetChannelID = 6] = 'SetChannelID', e[e.SetCollection = 7] = 'SetCollection', e[e.SetQuality = 8] = 'SetQuality', e[e.SetVideo = 9] = 'SetVideo', e[e.SetMuted = 10] = 'SetMuted', e[e.SetVolume = 11] = 'SetVolume' }(u || (u = {}))); let f; let d; const y = function () {}; !(function (e) { e[e.GeoBlocked = 1] = 'GeoBlocked', e[e.UnsupportedDevice = 2] = 'UnsupportedDevice', e[e.AnonymizerBlocked = 3] = 'AnonymizerBlocked', e[e.CellularNetworkProhibited = 4] = 'CellularNetworkProhibited', e[e.UnauthorizationEntitlements = 5] = 'UnauthorizationEntitlements', e[e.VodRestricted = 6] = 'VodRestricted', e[e.LVSCCUCap = 509] = 'LVSCCUCap', e[e.Aborted = 1e3] = 'Aborted', e[e.DRMLicenseServerError = 1001] = 'DRMLicenseServerError', e[e.Network = 2e3] = 'Network', e[e.CCUCapReached = 2001] = 'CCUCapReached', e[e.Decode = 3e3] = 'Decode', e[e.FormatNotSupported = 4e3] = 'FormatNotSupported', e[e.ContentNotAvailable = 5e3] = 'ContentNotAvailable', e[e.DRMLicenseNotAvailable = 5001] = 'DRMLicenseNotAvailable', e[e.RendererNotAvailable = 6e3] = 'RendererNotAvailable', e[e.SafariUnsupportedDevice = 7004] = 'SafariUnsupportedDevice', e[e.CDMNotAuthorized = 7005] = 'CDMNotAuthorized', e[e.Fatal = 8001] = 'Fatal', e[e.FatalAuth = 8003] = 'FatalAuth', e[e.Offline = 8002] = 'Offline', e[e.WarnAuth = 8004] = 'WarnAuth' }(f || (f = {}))), (function (e) { e.PREMIUM_CONTENT_RESTRICTED = 'PREMIUM_CONTENT', e.VOD_RESTRICTED = 'vod_manifest_restricted' }(d || (d = {}))); const m = (function (e) { function r (t) { const r = this.constructor; const n = e.call(this, t) || this; return Object.setPrototypeOf(n, r.prototype), n.name = 'MissingParameterError', n } return t(r, e), r }(Error)); const h = (function (e) { function r (t) { const r = this.constructor; const n = e.call(this, 'Could not find the provided element: '.concat(t)) || this; return Object.setPrototypeOf(n, r.prototype), n.name = 'MissingElementError', n } return t(r, e), r }(Error)); const v = r(545); let g; function b (e, t) { const r = v.stringify(o(o({}, e), { parent: _(e.parent), referrer: document.location.href })); const n = 'https://'.concat(t, '.twitch.tv'); const a = ''.concat(n, '?').concat(r); const i = document.createElement('iframe'); i.setAttribute('src', a), i.setAttribute('allowfullscreen', ''), i.setAttribute('scrolling', 'no'), i.setAttribute('frameborder', '0'), i.setAttribute('allow', 'autoplay; fullscreen'), i.setAttribute('title', 'Twitch'); let s = 'allow-modals allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox'; return typeof document.hasStorageAccess === 'function' && typeof document.requestStorageAccess === 'function' && (s += ' allow-storage-access-by-user-activation'), i.setAttribute('sandbox', s), e.width && i.setAttribute('width', String(e.width)), e.height && i.setAttribute('height', String(e.height)), i } function _ (e) { const t = document.domain; if (!e) return [t]; const r = Array.isArray(e) ? e : [e]; return t && r.indexOf(t) === -1 ? r.concat(t) : r }!(function (e) { e.IDLE = 'Idle', e.READY = 'Ready', e.BUFFERING = 'Buffering', e.PLAYING = 'Playing', e.ENDED = 'Ended' }(g || (g = {}))); const E = { channelName: '', channelID: '', collectionID: '', currentTime: 0, duration: 0, muted: !1, playback: g.IDLE, quality: '', qualitiesAvailable: [], stats: { videoStats: { backendVersion: '', bufferSize: 0, codecs: '', displayResolution: '', fps: 0, hlsLatencyBroadcaster: 0, latencyMode: '', playbackRate: 0, skippedFrames: 0, videoResolution: '' } }, videoID: '', volume: 0, ended: !1 }; const S = (function (e) { function r () { const t = e.call(this) || this; return t._embedWindow = null, t._playerState = E, window.addEventListener('message', t._handleResponses.bind(t)), t } return t(r, e), r.prototype._setWindowRef = function (e) { this._embedWindow = e }, r.prototype.disableCaptions = function () { this._sendCommand(u.DisableCaptions, null) }, r.prototype.enableCaptions = function () { this._sendCommand(u.EnableCaptions, null) }, r.prototype.pause = function () { this._sendCommand(u.Pause, null) }, r.prototype.play = function () { this._sendCommand(u.Play, null) }, r.prototype.seek = function (e) { this._sendCommand(u.Seek, e) }, r.prototype.setChannel = function (e) { this._sendCommand(u.SetChannel, e) }, r.prototype.setChannelId = function (e) { this._sendCommand(u.SetChannelID, e) }, r.prototype.setCollection = function (e, t) { this._sendCommand(u.SetCollection, [e, t]) }, r.prototype.setQuality = function (e) { this._sendCommand(u.SetQuality, e) }, r.prototype.setVideo = function (e) { this._sendCommand(u.SetVideo, e) }, r.prototype.setMuted = function (e) { const t = typeof e !== 'boolean' || e; this._sendCommand(u.SetMuted, t) }, r.prototype.setVolume = function (e) { this._sendCommand(u.SetVolume, e) }, r.prototype.getMuted = function () { return this._playerState.muted }, r.prototype.getVolume = function () { return this._playerState.volume }, r.prototype.getChannel = function () { return this._playerState.channelName }, r.prototype.getChannelId = function () { return this._playerState.channelID }, r.prototype.getCollection = function () { return this._playerState.collectionID }, r.prototype.getCurrentTime = function () { return this._playerState.currentTime }, r.prototype.getDuration = function () { return this._playerState.duration }, r.prototype.getEnded = function () { return this._playerState.ended }, r.prototype.getPlaybackStats = function () { return this._playerState.stats.videoStats }, r.prototype.getQualities = function () { return this._playerState.qualitiesAvailable }, r.prototype.getQuality = function () { return this._playerState.quality }, r.prototype.getVideo = function () { return this._playerState.videoID }, r.prototype.isPaused = function () { return this._playerState.playback === g.IDLE }, r.prototype.getPlayerState = function () { return this._playerState }, r.prototype._sendCommand = function (e, t) { if (this._embedWindow) { const r = { eventName: e, params: t, namespace: p }; this._embedWindow.postMessage(r, '*') } else console.warn('Cannot send player commands before the video player is initialized.          Please wait for the VIDEO_READY event before using the player API.') }, r.prototype._handleResponses = function (e) { if (this._embedWindow) { const t = e.data; const r = e.source === this._embedWindow; const n = t.namespace === p; const o = t.eventName === a.UpdateState; r && n && o && (this._playerState = Object.assign({}, this._playerState, t.params)) } }, r }(y)); const A = (function (e) { function r (t, r) { const n = e.call(this) || this; return n._options = {}, n._target = null, n._player = new S(), n._eventEmitter = null, n._iframe = null, n._forwardEmbedEvents = function (e) { if (n._iframe) { const t = e.data; const r = e.source === n._iframe.contentWindow; const o = t.namespace === 'twitch-embed'; r && o && n._eventEmitter.emit(t.eventName, t.params) } }, n.disableCaptions = n.getPlayer().disableCaptions.bind(n.getPlayer()), n.enableCaptions = n.getPlayer().enableCaptions.bind(n.getPlayer()), n.pause = n.getPlayer().pause.bind(n.getPlayer()), n.play = n.getPlayer().play.bind(n.getPlayer()), n.seek = n.getPlayer().seek.bind(n.getPlayer()), n.setChannel = n.getPlayer().setChannel.bind(n.getPlayer()), n.setChannelId = n.getPlayer().setChannelId.bind(n.getPlayer()), n.setCollection = n.getPlayer().setCollection.bind(n.getPlayer()), n.setQuality = n.getPlayer().setQuality.bind(n.getPlayer()), n.setVideo = n.getPlayer().setVideo.bind(n.getPlayer()), n.setMuted = n.getPlayer().setMuted.bind(n.getPlayer()), n.setVolume = n.getPlayer().setVolume.bind(n.getPlayer()), n.getMuted = n.getPlayer().getMuted.bind(n.getPlayer()), n.getVolume = n.getPlayer().getVolume.bind(n.getPlayer()), n.getChannel = n.getPlayer().getChannel.bind(n.getPlayer()), n.getChannelId = n.getPlayer().getChannelId.bind(n.getPlayer()), n.getCollection = n.getPlayer().getCollection.bind(n.getPlayer()), n.getCurrentTime = n.getPlayer().getCurrentTime.bind(n.getPlayer()), n.getDuration = n.getPlayer().getDuration.bind(n.getPlayer()), n.getEnded = n.getPlayer().getEnded.bind(n.getPlayer()), n.getPlaybackStats = n.getPlayer().getPlaybackStats.bind(n.getPlayer()), n.getPlayerState = n.getPlayer().getPlayerState.bind(n.getPlayer()), n.getQualities = n.getPlayer().getQualities.bind(n.getPlayer()), n.getQuality = n.getPlayer().getQuality.bind(n.getPlayer()), n.getVideo = n.getPlayer().getVideo.bind(n.getPlayer()), n.isPaused = n.getPlayer().isPaused.bind(n.getPlayer()), (function (e) { const t = (e == null ? void 0 : e.channelId) && (e == null ? void 0 : e.stream); if (!e || !e.channel && !e.video && !e.collection && !t) throw new m('A channel, video, or collection id must be provided in options') }(r)), n._options = r, n._target = (function (e) { if (!e) throw new m('An element of type String or Element is required'); const t = typeof e === 'string' ? document.getElementById(e) : e; if (!t) throw new h(e); if (t.nodeType !== 1) throw new m('An element of type String or Element is required'); return t }(t)), n._eventEmitter = new (c())(), n.render(), n } return t(r, e), r.prototype.addEventListener = function (e, t) { this._eventEmitter && this._eventEmitter.on(e, t) }, r.prototype.removeEventListener = function (e, t) { this._eventEmitter && this._eventEmitter.removeListener(e, t) }, r.prototype.getPlayer = function () { return this._player }, r.prototype.destroy = function () { let e, t; this._eventEmitter && this._eventEmitter.removeAllListeners(), window.removeEventListener('message', this._forwardEmbedEvents), (t = (e = this._iframe) === null || void 0 === e ? void 0 : e.parentNode) === null || void 0 === t || t.removeChild(this._iframe), this._eventEmitter = null, this._player._setWindowRef(null), this._target = null, this._iframe = null }, r.prototype.buildIframe = function () { return b(this._options, 'embed') }, r.prototype.render = function () { if (this._target) { const e = this.buildIframe(); this._target.appendChild(e), this._iframe = e, window.addEventListener('message', this._forwardEmbedEvents), this._player._setWindowRef(this._iframe.contentWindow) } }, r.AUTHENTICATE = s.AUTHENTICATE, r.CAPTIONS = s.CAPTIONS, r.ENDED = s.ENDED, r.ERROR = s.ERROR, r.OFFLINE = s.OFFLINE, r.ONLINE = s.ONLINE, r.PAUSE = s.PAUSE, r.PLAY = s.PLAY, r.PLAYBACK_BLOCKED = s.PLAYBACK_BLOCKED, r.PLAYING = s.PLAYING, r.VIDEO_PAUSE = s.VIDEO_PAUSE, r.VIDEO_PLAY = s.VIDEO_PLAY, r.VIDEO_READY = s.VIDEO_READY, r.READY = s.READY, r.SEEK = s.SEEK, r.Errors = o({ ABORTED: f.Aborted, NETWORK: f.Network, DECODE: f.Decode, FORMAT_NOT_SUPPORTED: f.FormatNotSupported, CONTENT_NOT_AVAILABLE: f.ContentNotAvailable, RENDERER_NOT_AVAILABLE: f.RendererNotAvailable }, f), r }(y)); var C = { Embed: A, Player: (function (e) { function r (t, r) { return e.call(this, t, r) || this } return t(r, e), r.prototype.buildIframe = function () { return b(this._options, 'player') }, r }(A)) } }()), n = n.default }()) }))
