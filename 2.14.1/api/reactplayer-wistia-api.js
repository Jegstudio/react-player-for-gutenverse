/*! For license information please see E-v1.js.LICENSE.txt */
const __webpack_modules__ = [,, (t, e, n) => { n.d(e, { Component: () => v, h: () => p, options: () => r, render: () => D }); let i; let r; let o; let a; let s; const l = {}; const u = []; const c = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i; function h (t, e) { for (const n in e)t[n] = e[n]; return t } function d (t) { const e = t.parentNode; e && e.removeChild(t) } function p (t, e, n) { let r; let o; let a; const s = {}; for (a in e)a == 'key' ? r = e[a] : a == 'ref' ? o = e[a] : s[a] = e[a]; if (arguments.length > 2 && (s.children = arguments.length > 3 ? i.call(arguments, 2) : n), typeof t === 'function' && t.defaultProps != null) for (a in t.defaultProps) void 0 === s[a] && (s[a] = t.defaultProps[a]); return f(t, s, r, o, null) } function f (t, e, n, i, a) { const s = { type: t, props: e, key: n, ref: i, __k: null, __: null, __b: 0, __e: null, __d: void 0, __c: null, __h: null, constructor: void 0, __v: a == null ? ++o : a }; return a == null && r.vnode != null && r.vnode(s), s } function y (t) { return t.children } function v (t, e) { this.props = t, this.context = e } function m (t, e) { if (e == null) return t.__ ? m(t.__, t.__.__k.indexOf(t) + 1) : null; for (var n; e < t.__k.length; e++) if ((n = t.__k[e]) != null && n.__e != null) return n.__e; return typeof t.type === 'function' ? m(t) : null } function g (t) { let e, n; if ((t = t.__) != null && t.__c != null) { for (t.__e = t.__c.base = null, e = 0; e < t.__k.length; e++) if ((n = t.__k[e]) != null && n.__e != null) { t.__e = t.__c.base = n.__e; break } return g(t) } } function b (t) { (!t.__d && (t.__d = !0) && a.push(t) && !_.__r++ || s !== r.debounceRendering) && ((s = r.debounceRendering) || setTimeout)(_) } function _ () { for (var t; _.__r = a.length;)t = a.sort(function (t, e) { return t.__v.__b - e.__v.__b }), a = [], t.some(function (t) { let e, n, i, r, o, a; t.__d && (o = (r = (e = t).__v).__e, (a = e.__P) && (n = [], (i = h({}, r)).__v = r.__v + 1, C(a, r, i, e.__n, void 0 !== a.ownerSVGElement, r.__h != null ? [o] : null, n, o == null ? m(r) : o, r.__h), A(n, r), r.__e != o && g(r))) }) } function w (t, e, n, i, r, o, a, s, c, h) { let d; let p; let v; let g; let b; let _; let w; const k = i && i.__k || u; const S = k.length; for (n.__k = [], d = 0; d < e.length; d++) if ((g = n.__k[d] = (g = e[d]) == null || typeof g === 'boolean' ? null : typeof g === 'string' || typeof g === 'number' || typeof g === 'bigint' ? f(null, g, null, null, g) : Array.isArray(g) ? f(y, { children: g }, null, null, null) : g.__b > 0 ? f(g.type, g.props, g.key, g.ref ? g.ref : null, g.__v) : g) != null) { if (g.__ = n, g.__b = n.__b + 1, (v = k[d]) === null || v && g.key == v.key && g.type === v.type)k[d] = void 0; else for (p = 0; p < S; p++) { if ((v = k[p]) && g.key == v.key && g.type === v.type) { k[p] = void 0; break }v = null }C(t, g, v = v || l, r, o, a, s, c, h), b = g.__e, (p = g.ref) && v.ref != p && (w || (w = []), v.ref && w.push(v.ref, null, g), w.push(p, g.__c || b, g)), b != null ? (_ == null && (_ = b), typeof g.type === 'function' && g.__k === v.__k ? g.__d = c = P(g, c, t) : c = O(t, g, v, k, b, c), typeof n.type === 'function' && (n.__d = c)) : c && v.__e == c && c.parentNode != t && (c = m(v)) } for (n.__e = _, d = S; d--;)k[d] != null && B(k[d], k[d]); if (w) for (d = 0; d < w.length; d++)x(w[d], w[++d], w[++d]) } function P (t, e, n) { for (var i, r = t.__k, o = 0; r && o < r.length; o++)(i = r[o]) && (i.__ = t, e = typeof i.type === 'function' ? P(i, e, n) : O(n, i, i, r, i.__e, e)); return e } function O (t, e, n, i, r, o) { let a, s, l; if (void 0 !== e.__d)a = e.__d, e.__d = void 0; else if (n == null || r != o || r.parentNode == null)t:if (o == null || o.parentNode !== t)t.appendChild(r), a = null; else { for (s = o, l = 0; (s = s.nextSibling) && l < i.length; l += 2) if (s == r) break t; t.insertBefore(r, o), a = o } return void 0 !== a ? a : r.nextSibling } function k (t, e, n) { e[0] === '-' ? t.setProperty(e, n) : t[e] = n == null ? '' : typeof n !== 'number' || c.test(e) ? n : n + 'px' } function S (t, e, n, i, r) { let o; t:if (e === 'style') if (typeof n === 'string')t.style.cssText = n; else { if (typeof i === 'string' && (t.style.cssText = i = ''), i) for (e in i)n && e in n || k(t.style, e, ''); if (n) for (e in n)i && n[e] === i[e] || k(t.style, e, n[e]) } else if (e[0] === 'o' && e[1] === 'n')o = e !== (e = e.replace(/Capture$/, '')), e = e.toLowerCase() in t ? e.toLowerCase().slice(2) : e.slice(2), t.l || (t.l = {}), t.l[e + o] = n, n ? i || t.addEventListener(e, o ? T : E, o) : t.removeEventListener(e, o ? T : E, o); else if (e !== 'dangerouslySetInnerHTML') { if (r)e = e.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's'); else if (e !== 'href' && e !== 'list' && e !== 'form' && e !== 'tabIndex' && e !== 'download' && e in t) try { t[e] = n == null ? '' : n; break t } catch (t) {} typeof n === 'function' || (n == null || !1 === n && e.indexOf('-') == -1 ? t.removeAttribute(e) : t.setAttribute(e, n)) } } function E (t) { this.l[t.type + !1](r.event ? r.event(t) : t) } function T (t) { this.l[t.type + !0](r.event ? r.event(t) : t) } function C (t, e, n, i, o, a, s, l, u) { let c; let d; let p; let f; let m; let g; let b; let _; let P; let O; let k; let S; let E; let T; let C; const A = e.type; if (void 0 !== e.constructor) return null; n.__h != null && (u = n.__h, l = e.__e = n.__e, e.__h = null, a = [l]), (c = r.__b) && c(e); try { t:if (typeof A === 'function') { if (_ = e.props, P = (c = A.contextType) && i[c.__c], O = c ? P ? P.props.value : c.__ : i, n.__c ? b = (d = e.__c = n.__c).__ = d.__E : ('prototype' in A && A.prototype.render ? e.__c = d = new A(_, O) : (e.__c = d = new v(_, O), d.constructor = A, d.render = R), P && P.sub(d), d.props = _, d.state || (d.state = {}), d.context = O, d.__n = i, p = d.__d = !0, d.__h = [], d._sb = []), d.__s == null && (d.__s = d.state), A.getDerivedStateFromProps != null && (d.__s == d.state && (d.__s = h({}, d.__s)), h(d.__s, A.getDerivedStateFromProps(_, d.__s))), f = d.props, m = d.state, p)A.getDerivedStateFromProps == null && d.componentWillMount != null && d.componentWillMount(), d.componentDidMount != null && d.__h.push(d.componentDidMount); else { if (A.getDerivedStateFromProps == null && _ !== f && d.componentWillReceiveProps != null && d.componentWillReceiveProps(_, O), !d.__e && d.shouldComponentUpdate != null && !1 === d.shouldComponentUpdate(_, d.__s, O) || e.__v === n.__v) { for (d.props = _, d.state = d.__s, e.__v !== n.__v && (d.__d = !1), d.__v = e, e.__e = n.__e, e.__k = n.__k, e.__k.forEach(function (t) { t && (t.__ = e) }), k = 0; k < d._sb.length; k++)d.__h.push(d._sb[k]); d._sb = [], d.__h.length && s.push(d); break t }d.componentWillUpdate != null && d.componentWillUpdate(_, d.__s, O), d.componentDidUpdate != null && d.__h.push(function () { d.componentDidUpdate(f, m, g) }) } if (d.context = O, d.props = _, d.__v = e, d.__P = t, S = r.__r, E = 0, 'prototype' in A && A.prototype.render) { for (d.state = d.__s, d.__d = !1, S && S(e), c = d.render(d.props, d.state, d.context), T = 0; T < d._sb.length; T++)d.__h.push(d._sb[T]); d._sb = [] } else do { d.__d = !1, S && S(e), c = d.render(d.props, d.state, d.context), d.state = d.__s } while (d.__d && ++E < 25); d.state = d.__s, d.getChildContext != null && (i = h(h({}, i), d.getChildContext())), p || d.getSnapshotBeforeUpdate == null || (g = d.getSnapshotBeforeUpdate(f, m)), C = c != null && c.type === y && c.key == null ? c.props.children : c, w(t, Array.isArray(C) ? C : [C], e, n, i, o, a, s, l, u), d.base = e.__e, e.__h = null, d.__h.length && s.push(d), b && (d.__E = d.__ = null), d.__e = !1 } else a == null && e.__v === n.__v ? (e.__k = n.__k, e.__e = n.__e) : e.__e = j(n.__e, e, n, i, o, a, s, u); (c = r.diffed) && c(e) } catch (t) { e.__v = null, (u || a != null) && (e.__e = l, e.__h = !!u, a[a.indexOf(l)] = null), r.__e(t, e, n) } } function A (t, e) { r.__c && r.__c(e, t), t.some(function (e) { try { t = e.__h, e.__h = [], t.some(function (t) { t.call(e) }) } catch (t) { r.__e(t, e.__v) } }) } function j (t, e, n, r, o, a, s, u) { let c; let h; let p; let f = n.props; const y = e.props; const v = e.type; let g = 0; if (v === 'svg' && (o = !0), a != null) for (;g < a.length; g++) if ((c = a[g]) && 'setAttribute' in c == !!v && (v ? c.localName === v : c.nodeType === 3)) { t = c, a[g] = null; break } if (t == null) { if (v === null) return document.createTextNode(y); t = o ? document.createElementNS('http://www.w3.org/2000/svg', v) : document.createElement(v, y.is && y), a = null, u = !1 } if (v === null)f === y || u && t.data === y || (t.data = y); else { if (a = a && i.call(t.childNodes), h = (f = n.props || l).dangerouslySetInnerHTML, p = y.dangerouslySetInnerHTML, !u) { if (a != null) for (f = {}, g = 0; g < t.attributes.length; g++)f[t.attributes[g].name] = t.attributes[g].value; (p || h) && (p && (h && p.__html == h.__html || p.__html === t.innerHTML) || (t.innerHTML = p && p.__html || '')) } if ((function (t, e, n, i, r) { let o; for (o in n)o === 'children' || o === 'key' || o in e || S(t, o, null, n[o], i); for (o in e)r && typeof e[o] !== 'function' || o === 'children' || o === 'key' || o === 'value' || o === 'checked' || n[o] === e[o] || S(t, o, e[o], n[o], i) }(t, y, f, o, u)), p)e.__k = []; else if (g = e.props.children, w(t, Array.isArray(g) ? g : [g], e, n, r, o && v !== 'foreignObject', a, s, a ? a[0] : n.__k && m(n, 0), u), a != null) for (g = a.length; g--;)a[g] != null && d(a[g]); u || ('value' in y && void 0 !== (g = y.value) && (g !== t.value || v === 'progress' && !g || v === 'option' && g !== f.value) && S(t, 'value', g, f.value, !1), 'checked' in y && void 0 !== (g = y.checked) && g !== t.checked && S(t, 'checked', g, f.checked, !1)) } return t } function x (t, e, n) { try { typeof t === 'function' ? t(e) : t.current = e } catch (t) { r.__e(t, n) } } function B (t, e, n) { let i, o; if (r.unmount && r.unmount(t), (i = t.ref) && (i.current && i.current !== t.__e || x(i, null, e)), (i = t.__c) != null) { if (i.componentWillUnmount) try { i.componentWillUnmount() } catch (t) { r.__e(t, e) }i.base = i.__P = null, t.__c = void 0 } if (i = t.__k) for (o = 0; o < i.length; o++)i[o] && B(i[o], e, n || typeof t.type !== 'function'); n || t.__e == null || d(t.__e), t.__ = t.__e = t.__d = void 0 } function R (t, e, n) { return this.constructor(t, n) } function D (t, e, n) { let o, a, s; r.__ && r.__(t, e), a = (o = typeof n === 'function') ? null : n && n.__k || e.__k, s = [], C(e, t = (!o && n || e).__k = p(y, null, [t]), a || l, l, void 0 !== e.ownerSVGElement, !o && n ? [n] : a ? null : e.firstChild ? i.call(e.childNodes) : null, s, !o && n ? n : a ? a.__e : e.firstChild, o), A(s, t) }i = u.slice, r = { __e: function (t, e, n, i) { for (var r, o, a; e = e.__;) if ((r = e.__c) && !r.__) try { if ((o = r.constructor) && o.getDerivedStateFromError != null && (r.setState(o.getDerivedStateFromError(t)), a = r.__d), r.componentDidCatch != null && (r.componentDidCatch(t, i || {}), a = r.__d), a) return r.__E = r } catch (e) { t = e } throw t } }, o = 0, v.prototype.setState = function (t, e) { let n; n = this.__s != null && this.__s !== this.state ? this.__s : this.__s = h({}, this.state), typeof t === 'function' && (t = t(h({}, n), this.props)), t && h(n, t), t != null && this.__v && (e && this._sb.push(e), b(this)) }, v.prototype.forceUpdate = function (t) { this.__v && (this.__e = !0, t && this.__h.push(t), b(this)) }, v.prototype.render = y, a = [], _.__r = 0 }, (t, e, n) => { n.d(e, { Wistia: () => o }); const i = n(4); const r = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; i.root.Wistia == null && (i.root.Wistia = {}); var o = i.root.Wistia; o._initializers == null && (o._initializers = {}), o._destructors == null && (o._destructors = {}), o.mixin == null && (o.mixin = function (t, e) { for (const n in e)r(e, n) && (t[n] = e[n]) }) }, (t, e, n) => { let i; n.d(e, { root: () => r }); try { (i = self).self !== i && void 0 !== i.self && typeof window !== 'undefined' && (i = window) } catch (t) { i = typeof globalThis !== 'undefined' ? globalThis : window } var r = i }, (t, e, n) => { n.r(e), n.d(e, { addInlineCss: () => b, currentEventSource: () => yt, docScrollLeft: () => dt, docScrollTop: () => ht, elemAddClass: () => A, elemAfter: () => E, elemAncestorHasClass: () => Q, elemAncestorWithClass: () => G, elemAncestors: () => Y, elemAnimate: () => $, elemAppend: () => O, elemBefore: () => S, elemBind: () => Z, elemBindKey: () => nt, elemBindOnce: () => rt, elemCancelFullscreen: () => lt, elemClasses: () => R, elemClone: () => P, elemContainsOffset: () => V, elemFromObject: () => _, elemHasClass: () => j, elemHeight: () => H, elemHtml: () => y, elemInDom: () => z, elemIsDescendantOf: () => K, elemIsHidden: () => q, elemIsInside: () => X, elemMutationObserver: () => ct, elemOffset: () => u.elemOffset, elemPrepend: () => k, elemRebind: () => it, elemRemove: () => T, elemRemoveClass: () => C, elemRequestFullscreen: () => st, elemScrollOffset: () => U, elemStripEventAttributes: () => ut, elemStyle: () => M, elemToObject: () => w, elemTrigger: () => ot, elemUnbind: () => J, elemUnbindAll: () => tt, elemUnbindAllInside: () => et, elemWidth: () => N, elemZoom: () => u.elemZoom, execCssTags: () => m, execScriptTags: () => c.execScriptTags, formInputIsFocused: () => ft, fullscreenElement: () => at, getComputedStyle: () => F, getCssTags: () => v, getLastActiveEventAt: () => mt, getScriptTags: () => c.getScriptTags, inUserEventContext: () => vt, isBoxModel: () => u.isBoxModel, isDocReady: () => o.isDocReady, onDocReady: () => o.onDocReady, pageLoaded: () => a.pageLoaded, propsWithVendorPrefixes: () => W, removeCssTags: () => g, removeScriptTags: () => c.removeScriptTags, safeRequestAnimationFrame: () => pt }); let i; const r = n(6); var o = n(8); var a = n(10); const s = n(11); const l = n(12); var u = n(16); var c = n(17); const h = n(20); const d = n(3); const p = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; const f = (d.Wistia, (0, s.cachedDetect)()); var y = function (t, e) { const n = v(e); const i = (0, c.getScriptTags)(e); return e = g(e), e = (0, c.removeScriptTags)(e), t.innerHTML = e, m(n, t), (0, c.execScriptTags)(i) }; var v = function (t) { return t.match(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi) || [] }; var m = function (t, e) { if (!t) return null; (0, r.isArray)(t) || (t = v(t)); for (var n = [], i = 0; i < t.length; i++) { const o = t[i]; if (/<link.*?rel=['"]stylesheet['"][^>]*>/.test(o)) { const a = o.match(/href=['"](.*?)['"]/i); if (a) { const s = document.createElement('link'); s.setAttribute('rel', 'stylesheet'), s.setAttribute('href', a[1]), s.className = 'wistia_injected_style', (e || document.body || document.head).appendChild(s), n.push(s) } } else if (/<style>[\s\S]+?<\/style>/gi.test(o)) { const l = o.match(/<style>([\s\S]+?)<\/style>/i); if (l) { const u = b(e || document.body || document.head, l[1]); n.push(u) } } } return n }; var g = function (t) { return t.replace(/<link.*?rel=['"]stylesheet['"][^>]*>|<style>[\s\S]+?<\/style>/gi, '') }; var b = function (t, e) { const n = t || document.body || document.head; const i = document.createElement('style'); return i.id = (0, h.seqId)('wistia_', '_style'), i.setAttribute('type', 'text/css'), i.className = 'wistia_injected_style', n.appendChild(i, n.nextSibling), i.styleSheet ? i.styleSheet.cssText = e : i.appendChild(document.createTextNode(e)), i }; var _ = function t (e) { if ((0, r.isArray)(e)) { for (var n = [], i = 0; i < e.length; i++)n.push(t(e[i])); return n } const o = e.tagName || 'div'; let a = e.childNodes || []; (0, r.isArray)(a) || (a = [a]); const s = document.createElement(o); for (const l in e) if (p(e, l)) { const u = e[l]; if (l !== 'childNodes' && l !== 'tagName' && l !== 'ref') { const c = l.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase(); if (l === 'style') if ((0, r.isObject)(u)) for (const h in u)s.style[h] = u[h]; else for (let d = u.split(';'), f = 0; f < d.length; f++) { const y = d[f].split(/\s*:\s*/); const v = y[0]; const m = y[1]; v && m && (s.style[v] = m) } else if (l === 'events') for (const g in u) { const b = u[g]; Z(s, g, b) } else l === 'className' || l === 'class' ? s.className = u : l === 'innerHTML' ? s.innerHTML = u : l === 'innerText' ? s.innerText = u : u != null && typeof u.toString === 'function' && s.setAttribute(c, u.toString()) } } for (let _ = 0; _ < a.length; _++) { const w = a[_]; if ((0, r.isObject)(w)) { const P = t(w); O(s, P) } else { const k = document.createTextNode(w.toString()); O(s, k) } } return typeof e.ref === 'function' && e.ref(s), s }; var w = function t (e) { if ((0, r.isArray)(e)) for (let n = [], i = 0; i < e.length; i++)n.push(t(e[i])); const o = {}; o.tagName = e.tagName.toLowerCase(); for (let a = Object.keys(e), s = 0; s < a.length; s++) { const l = a[s]; if (l !== 'tagName' && l !== 'childNodes' && l !== 'nodeType' && l !== 'nodeValue') if (l === 'style') { o.style = {}; for (let u = Object.keys(e.style), c = 0; c < u.length; c++) { const h = u[c]; const d = e.style[h]; d && !/^\d/.test(h) && h !== 'length' && (o.style[h] = d) } } else { const p = e.getAttribute(l); p != null && (o[l] = p) } } for (var f = [], y = 0; y < e.childNodes.length; y++) { const v = e.childNodes[y]; v.nodeType === 1 ? f.push(t(v)) : v.nodeType === 3 && f.push(v.nodeValue) } return f.length > 0 && (o.childNodes = f), o }; var P = function (t) { const e = w(t); return _(e) }; var O = function t (e, n) { if ((0, r.isArray)(n)) for (let i = 0; i < n.length; i++)t(e, n[i]); else e.tagName.includes('-') ? e.shadowRoot.appendChild(n, { wistiaGridCaller: !0 }) : e.appendChild(n, { wistiaGridCaller: !0 }) }; var k = function t (e, n) { if (!(0, r.isArray)(n)) return e.childNodes.length === 0 ? O(e, n) : e.insertBefore(n, e.childNodes[0]); for (let i = 0; i < n.length; i++)t(e, n[i]) }; var S = function t (e, n) { if (!(0, r.isArray)(n)) return e.parentNode.insertBefore(n, e); n = n.reverse(); for (let i = 0; i < n.length; i++)t(e, n[i]) }; var E = function t (e, n) { if (!(0, r.isArray)(n)) return e.parentNode.insertBefore(n, e.nextSibling); n = n.reverse(); for (let i = 0; i < n.length; i++)t(e, n[i]) }; var T = function t (e) { let n; if ((0, r.isArray)(e) || window.NodeList && e instanceof NodeList) for (let i = 0; i < e.length; i++)t(e[i]); else e == null || e.nodeType !== 1 && e.nodeType !== 3 || !(n = e.parentNode) || (n.removeChild(e), e = null) }; var C = function t (e, n) { if ((0, r.isArray)(e) || window.NodeList && e instanceof NodeList) for (let i = 0; i < e.length; i++)t(e[i], n); else if (j(e, n)) { const o = e.getAttribute('class'); if (o) { const a = new RegExp('\\b'.concat(n, '\\b'), 'g'); const s = D(o.replace(a, '')); e.setAttribute('class', s) } } }; var A = function t (e, n) { if ((0, r.isArray)(e) || window.NodeList && e instanceof NodeList) for (let i = 0; i < e.length; i++)t(e[i], n); else if (!j(e, n)) { let o; const a = e.getAttribute('class'); a ? (C(e, n), o = D(''.concat(a, ' ').concat(n))) : o = n, e.setAttribute('class', o) } }; var j = function (t, e) { let n = t != null && typeof t.getAttribute === 'function' && t.getAttribute('class'); if (!n && t && typeof t.className === 'string' && (n = t.className), !n) return !1; let i = !1; return B(n, e, function (t) { const r = t === 0 || n.charAt(t - 1) === ' '; const o = t + e.length === n.length; const a = n.charAt(t + e.length) === ' '; if (r && (o || a)) return i = !0, x }), i }; var x = {}; var B = function (t, e, n) { for (let i = -1; (i = t.indexOf(e, i + 1)) != -1 && n(i) !== x;); }; var R = function (t) { return t && typeof t.className !== 'string' ? [''] : (t && t.className || '').split(/\s+/) }; var D = function (t) { return t.replace(/^\s+/g, '').replace(/\s+$/g, '').replace(/\s+/g, ' ') }; var M = function t (e) { for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)i[o - 1] = arguments[o]; if ((0, r.isArray)(e) || window.NodeList && e instanceof NodeList) { for (var a = [], s = 0; s < e.length; s++) { const u = e[s]; u.nodeType === 1 && a.push(t.apply(void 0, [u].concat(i))) } return a } if (i.length === 2) { const c = i[0]; const h = i[1]; e.style[c] = h } else if (i.length === 1) if (typeof i[0] === 'string') { const d = i[0]; try { return e.currentStyle ? e.currentStyle[d] : window.getComputedStyle ? window.getComputedStyle(e, null).getPropertyValue(d) : null } catch (t) { l.wlog.notice(t) } } else { const p = W(i[0]); for (const f in p) { const y = p[f]; e.style[f] = y } } else l.wlog.apply(void 0, ['Unexpected args', e].concat(i)) }; const I = { borderImage: !0, mixBlendMode: !0, transform: !0, transition: !0, transitionDuration: !0 }; const L = ['webkit', 'moz', 'o', 'ms']; var W = function (t) { if (f.chrome) return t; const e = {}; for (const n in t) { const i = t[n]; if (e[n] = i, I[n]) for (let r = L, o = 0; o < r.length; o++) { const a = r[o] + n.charAt(0).toUpperCase() + n.slice(1); n[a] || (e[a] = i) } } return e }; var F = function (t, e) { if (!window.getComputedStyle) return null; const n = window.getComputedStyle(t, null); return n == null ? null : e != null ? n[e] : n }; var N = function (t) { if (t === window) return window.innerWidth ? window.innerWidth : document.documentElement ? document.documentElement.offsetWidth : document.body.offsetWidth; if (t === document) { const e = document.body; const n = document.documentElement; return Math.max(e.scrollWidth, e.offsetWidth, n.clientWidth, n.scrollWidth, n.offsetWidth) } let i; return (i = F(t, 'width')) && i != null ? parseFloat(i) : t.currentStyle ? t.offsetWidth : -1 }; var H = function (t) { if (t === window) return window.innerHeight ? window.innerHeight : document.documentElement ? document.documentElement.offsetHeight : document.body.offsetHeight; if (t === document) { const e = document.body; const n = document.documentElement; return Math.max(e.scrollHeight, e.offsetHeight, n.clientHeight, n.scrollHeight, n.offsetHeight) } let i; return (i = F(t, 'height')) && i != null ? parseFloat(i) : t.currentStyle ? t.offsetHeight : -1 }; var V = function (t, e, n) { const i = (0, u.elemOffset)(t); return i.right = i.left + N(t), i.bottom = i.top + H(t), i.left <= e && e < i.right && i.top <= n && n < i.bottom }; var U = function (t) { let e = 0; let n = 0; if (t.parentNode) for (;t && t.offsetParent;)n += t.scrollTop, e += t.scrollLeft, t = t.parentNode; return { left: e, top: n } }; var q = function (t) { for (;t && t.nodeType === 1;) { if (M(t, 'display') === 'none') return !0; t = t.parentNode } return !1 }; var z = function (t) { for (;t;) { if (t === document) return !0; t = t.parentNode || t.getRootNode().host } return !1 }; var K = function (t, e) { for (let n = Y(t), i = 0; i < n.length; i++) if (n[i] === e) return !0; return !1 }; var G = function (t, e) { for (let n = Y(t), i = 0; i < n.length; i++) if (j(n[i], e)) return n[i]; return null }; var Q = function (t, e) { return !!G(t, e) }; var Y = function (t) { for (var e = t, n = []; e = e.parentNode;)n.push(e); return n }; var X = function (t, e) { return t === e || K(t, e) }; var $ = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; n = (0, r.merge)({ time: 400, easing: 'ease' }, n); const i = (function (t, e, n) { const i = []; for (const r in t)i.push(''.concat(r, ' ').concat(e, 'ms ').concat(n)); return i.join(',') }(e, n.time, n.easing)); M(t, { transition: i }), pt(function () { M(t, e), setTimeout(function () { M(t, { transition: '' }), typeof n.callback === 'function' && n.callback() }, n.time) }) }; var Z = function (t, e, n) { const i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]; const r = function (i) { (i = i || window.event).pageX || i.pageY || !i.clientX && !i.clientY || (i.pageX = i.clientX + dt(), i.pageY = i.clientY + ht()), i.preventDefault || (i.preventDefault = function () { i.returnValue = !1 }), i.stopPropagation || (i.stopPropagation = function () { i.cancelBubble = !0 }), i.which == null && (i.which = i.charCode != null ? i.charCode : i.keyCode), i.which == null && i.button != null && (1 & i.button ? i.which = 1 : 2 & i.button ? i.which = 3 : 4 & i.button ? i.which = 2 : i.which = 0), i.target || i.srcElement && (i.target = i.srcElement), i.target && i.target.nodeType === 3 && (i.target = i.target.parentNode); for (var r = arguments.length, o = new Array(r > 1 ? r - 1 : 0), a = 1; a < r; a++)o[a - 1] = arguments[a]; const s = n.apply(i.target, [i].concat(o)); return s === J && J(t, e, n), s }; d.Wistia._elemBind = d.Wistia._elemBind || {}; const o = nt(t, e, n); return d.Wistia._elemBind[o] = r, r.elem = t, r.event = e, t.addEventListener(e, r, i), function () { J(t, e, n, i) } }; var J = function (t, e, n) { const i = arguments.length > 3 && void 0 !== arguments[3] && arguments[3]; if (t != null && t._wistiaElemId != null && n != null && n._wistiaBindId) { const r = nt(t, e, n); const o = d.Wistia._elemBind[r]; return o && (t.removeEventListener(e, o, i), o.elem = null, o.event = null), delete d.Wistia._elemBind[r] } }; var tt = function (t) { for (const e in d.Wistia._elemBind) { const n = d.Wistia._elemBind[e]; if (n && t === n.elem) { const i = n.event; n.elem.removeEventListener(i, n, !1), n.elem = null, n.event = null, delete d.Wistia._elemBind[e] } } }; var et = function (t) { let e = 0; for (const n in d.Wistia._elemBind) { const i = d.Wistia._elemBind[n]; if (i && X(i.elem, t)) { const r = i.event; i.elem.removeEventListener(r, i, !1), i.elem = null, i.event = null, delete d.Wistia._elemBind[n], e += 1 } } return e }; var nt = function (t, e, n) { return t._wistiaElemId = t._wistiaElemId || (0, h.seqId)('wistia_elem_'), n._wistiaBindId = n._wistiaBindId || (0, h.seqId)('wistia_bind_'), ''.concat(t._wistiaElemId, '.').concat(e, '.').concat(n._wistiaBindId) }; var it = function (t, e, n) { if (n) return J(t, e, n), Z(t, e, n) }; var rt = function (t, e, n) { return Z(t, e, function () { for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++)e[i] = arguments[i]; return n.apply(this, e), J }) }; var ot = function (t, e) { for (var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)i[r - 2] = arguments[r]; if (t.dispatchEvent) { const o = document.createEvent('Events'); return o.initEvent(e, !0, !1), e === 'click' || e === 'doubleclick' ? o.which = 1 : e === 'rightclick' && (o.which = 2), o.customArguments = i, t.dispatchEvent(o) } if (t.fireEvent) { const a = { customArguments: i }; return t.fireEvent('on'.concat(e), a) }l.wlog.error('neither dispatchEvent nor fireEvent is defined for', t, e) }; var at = function () { return document.fullscreenElement || document.webkitFullscreenElement }; var st = function (t) { return t.requestFullscreen ? t.requestFullscreen() : t.webkitEnterFullscreen ? new Promise(function (e) { t.webkitEnterFullscreen(), e() }) : (l.wlog.notice('no requestFullscreen functionality detected'), Promise.resolve()) }; var lt = function (t) { return document.exitFullscreen ? document.exitFullscreen() : t && t.webkitExitFullscreen ? new Promise(function (e) { t.webkitExitFullscreen(), e() }) : (l.wlog.notice('no cancelFullscreen functionality detected'), Promise.resolve()) }; var ut = function t (e) { const n = e && e.attributes || []; try { for (let i = 0; i < n.length; i++) { const r = n[i]; /^on.+/i.test(r.name) && (e[r.name] = null, e.removeAttribute(r.name)) } } catch (t) { l.wlog.error(t) } if (e.childNodes) for (let o = 0; o < e.childNodes.length; o++) { const a = e.childNodes[o]; a.nodeType === 1 && t(a) } }; var ct = function (t) { const e = f.mutationObserver; return e ? new window[e](t) : null }; var ht = function (t) { const e = document.body; const n = document.documentElement; if (t == null) return n && n.scrollTop || e && e.scrollTop || 0; e && (e.scrollTop = t), n && (n.scrollTop = t) }; var dt = function (t) { const e = document.body; const n = document.documentElement; if (t == null) return n && n.scrollLeft || e && e.scrollLeft || 0; e && (e.scrollLeft = t), n && (n.scrollLeft = t) }; var pt = function (t) { return (window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (t) { return setTimeout(t, 1e3 / 60) })(t) }; var ft = function () { return /^textarea|input|select$/i.test(document.activeElement.tagName) || document.activeElement.isContentEditable }; var yt = function () { return vt() ? 'user-event' : 'non-user-event' }; var vt = function () { return !!i }; var mt = function () { return gt }; var gt = -1; ['auxclick', 'click', 'contextmenu', 'dblclick', 'focus', 'keydown', 'keypress', 'keyup', 'mousedown', 'mouseup', 'reset', 'submit', 'touchend', 'touchstart'].forEach(function (t) { Z(document, t, function (t) { i = t, gt = Date.now(), setTimeout(function () { i === t && (i = void 0) }, 0) }, !f.passiveSupported || { capture: !0, passive: !0 }) }) }, (t, e, n) => { n.r(e), n.d(e, { assign: () => i.assign, cast: () => m, castDeep: () => b, clone: () => c, eachDeep: () => F, eachLeaf: () => N, equalsDeep: () => W, except: () => w, exists: () => v, filter: () => E, getDeep: () => h, identityFunc: () => l, indexOf: () => V, isArray: () => C, isBasicType: () => M, isEmpty: () => I, isFunction: () => x, isObject: () => j, isRegExp: () => R, isSubsetDeep: () => L, keys: () => U, legacyShouldDeleteFromMerge: () => u, merge: () => a, mergeOne: () => s, only: () => _, pick: () => H, select: () => P, setAndPreserveUndefined: () => p, setDeep: () => d, sort: () => S, unsetDeep: () => y, values: () => k }); var i = n(7); const r = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; const o = Array.prototype.slice; var a = function (t) { if ((arguments.length <= 1 ? 0 : arguments.length - 1) == 0) return t; for (let e = 0; e < (arguments.length <= 1 ? 0 : arguments.length - 1); e++)s(t, e + 1 < 1 || arguments.length <= e + 1 ? void 0 : arguments[e + 1]); return t }; var s = function t (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : l; const o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : u; if (C(n)) { C(e) || (e = []); for (let a = 0; a < n.length; a++) { const s = n[a]; e[a] == null && s != null && (C(s) ? e[a] = [] : j(s) && (e[a] = {})); const c = t(e[a], s, i); o(n, a, c) ? delete e[a] : e[a] = c } return i(e) } if (j(n)) { for (const h in n) if (r(n, h) && (r(e, h) || e[h] == null)) { const d = n[h]; C(d) ? (C(e[h]) || (e[h] = []), t(e[h], d, i), e[h] = i(e[h])) : j(d) ? (j(e[h]) || (e[h] = {}), t(e[h], d, i), e[h] = i(e[h])) : e == null ? (e = {}, o(n, h, d) || (e[h] = i(d))) : o(n, h, d) ? delete e[h] : e[h] = i(d) } return i(e) } return i(n) }; var l = function (t) { return t }; var u = function (t, e, n) { return n == null }; var c = function (t, e) { return C(t) ? s([], t, e) : s({}, t, e) }; var h = function (t, e, n) { e = typeof e === 'string' ? e.split('.') : o.call(e); for (var i, a = t; t != null && e.length;) { const s = e.shift(); void 0 !== t[s] && (j(t[s]) || C(t[s])) || !n || (s === 0 ? (t = a[i] = [])[s] = {} : t[s] = {}), a = t, i = s, t = r(t, s) ? t[s] : void 0 } return t }; var d = function (t, e, n) { return f(t, e, n, !0) }; var p = function (t, e, n) { return f(t, e, n, !1) }; var f = function (t, e, n) { const i = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3]; const r = (e = typeof e === 'string' ? e.split('.') : o.call(e)).pop(); (t = h(t, e, !0)) != null && (j(t) || C(t)) && r != null && (i && n == null ? delete t[r] : t[r] = n) }; var y = function (t, e) { return d(t, e) }; var v = function (t, e) { return void 0 !== h(t, e) }; var m = function (t) { return t == null ? t : j(t) || C(t) ? b(t) : g(''.concat(t), t) }; var g = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : t; return /^-?[1-9]\d*?$/.test(t) ? parseInt(t, 10) : t === '0' || t === '-0' ? 0 : /^-?\d*\.\d+$/.test(t) ? parseFloat(t) : !!/^true$/i.test(t) || !/^false$/i.test(t) && e }; var b = function (t) { return s(t, t, function (t) { return typeof t === 'string' ? g(t) : t }, function () { return !1 }) }; var _ = function (t, e) { for (var n = {}, i = {}, r = 0; r < e.length; r++)i[e[r]] = !0; for (const o in t)i[o] && (n[o] = t[o]); return n }; var w = function (t, e) { for (var n = {}, i = {}, r = 0; r < e.length; r++)i[e[r]] = !0; for (const o in t)i[o] || (n[o] = t[o]); return n }; var P = function (t, e) { for (var n = [], i = typeof e === 'function', r = i ? e : null, o = 0; o < t.length; o++) { const a = t[o]; if (i)r(a) && n.push(a); else { let s = !0; for (const l in e) { const u = e[l]; if (u instanceof Array) { if (!a[l] || a[l] < u[0] || a[l] > u[1]) { s = !1; break } } else if (u instanceof RegExp) { if (!u.test(a[l])) { s = !1; break } } else if (u instanceof O) { for (var c = !1, h = 0; h < u.values.length; h++) { const d = u.values[h]; if (a[l] === d) { c = !0; break } } if (!c) { s = !1; break } } else if (typeof u === 'function') { if (a[l] == null || !u(a[l])) { s = !1; break } } else if (a[l] !== u) { s = !1; break } }s && n.push(a) } } return n }; var O = function (t) { const e = this; return e.values = t, e }; var k = function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return new O(e) }; var S = function (t, e) { const n = typeof e === 'function'; const i = n ? e : null; const r = o.call(t); return n ? r.sort(i) : r.sort(function (t, n) { let i; i = e instanceof Array ? c(e) : e.split(/\s*,\s*/); for (var r = 0; r === 0 && i.length > 0;) { const o = i.shift().split(/\s+/); const a = o[0]; let s = o[1]; if (s = s === 'desc' ? -1 : 1, t[a] < n[a]) { r = -1 * s; break } if (t[a] !== n[a]) { r = 1 * s; break }r = 0 } return r }), r }; var E = function (t, e, n) { for (var i = void 0 === n ? undefined : n, r = [], o = 0; o < t.length; o++)e.call(i, t[o], o, t) && r.push(t[o]); return r }; const T = /^\s*function Array()/; var C = function (t) { return t != null && t.push && T.test(t.constructor) }; const A = /^\s*function Object()/; var j = function (t) { return t != null && typeof t === 'object' && A.test(t.constructor) }; var x = function (t) { return t != null && typeof t === 'function' }; const B = /^\s*function RegExp()/; var R = function (t) { return t != null && B.test(t.constructor) }; const D = /^string|number|boolean|function$/i; var M = function (t) { return t != null && (D.test(typeof t) || R(t)) }; var I = function (t) { return t == null || (!(!C(t) || t.length) || !!j(t) && !Object.keys(t).length) }; var L = function (t, e) { if (t === e) return !0; if (t != null && e == null || t == null && e != null) return !1; let n = !0; return N(t, function (t, i) { t !== h(e, i) && (n = !1) }), n }; var W = function (t, e) { return L(t, e) && L(e, t) }; var F = function t (e, n, i, a, s) { if (i == null && (i = []), M(e))n(e, i, a, s); else if (j(e) || C(e)) { for (const l in n(e, i, a, s), e) if (r(e, l)) { const u = o.call(i); u.push(l), t(e[l], n, u, e, l) } } else n(e, i, a, s) }; var N = function (t, e) { F(t, function (t, n, i, r) { C(t) || j(t) || e(t, n, i, r) }) }; var H = function (t, e) { for (var n = {}, i = 0; i < e.length; i++) { const r = e[i]; t[r] && (n[r] = t[r]) } return n }; var V = function (t, e) { for (let n = 0; n < t.length; n++) if (t[n] === e) return n; return -1 }; var U = function (t) { if (Object.keys) return Object.keys(t); const e = []; for (const n in t)r(t, n) && e.push(n); return e } }, (t, e, n) => { n.d(e, { assign: () => r }); const i = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; var r = function (t) { for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; if (Object.assign) return Object.assign.apply(Object, [t].concat(n)); for (let r = 0; r < n.length; r++)o(t, n[r]); return t }; var o = function (t, e) { for (const n in e)i(e, n) && (t[n] = e[n]); return t } }, (t, e, n) => { n.d(e, { isDocReady: () => r, onDocReady: () => o }); const i = n(9); var r = function () { return /loaded|complete/.test(document.readyState) }; var o = function () { let t, e; if (arguments.length > 1 ? (t = arguments[0], e = arguments[1]) : (t = 1e4, e = arguments[0]), r())e(); else if (top === self && document.documentElement.doScroll) { (0, i.poll)(function () { try { return document.documentElement.doScroll('left'), !0 } catch (t) { return !1 } }, e, 50, t, e) } else { const n = function () { r() && (clearTimeout(a), o(), e()) }; var o = function () { document.removeEventListener('DOMContentLoaded', n, !1), document.removeEventListener('readystatechange', n, !1), window.removeEventListener('load', n, !1) }; var a = setTimeout(function () { o(), e() }, t); document.addEventListener('DOMContentLoaded', n, !1), document.addEventListener('readystatechange', n, !1), window.addEventListener('load', n, !1) } } }, (t, e, n) => { n.d(e, { poll: () => i }); var i = function (t, e, n, i, r) { let o = null; const a = (new Date()).getTime(); o = setTimeout(function s () { (new Date()).getTime() - a > i ? typeof r === 'function' && r() : t() ? e() : (clearTimeout(o), o = setTimeout(s, n)) }, 1) } }, (t, e, n) => { n.d(e, { pageLoaded: () => i }); var i = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 4e3; const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : document; const i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : window; if (/loaded|complete/.test(n.readyState))setTimeout(t, 0); else { const r = function () { i.removeEventListener('load', o, !1) }; var o = function () { clearTimeout(a), r(), t() }; i.addEventListener('load', o, !1); var a = setTimeout(function () { r(), t() }, e) } } }, (t, e, n) => { n.d(e, { cachedDetect: () => V }); let i; const r = n(3); const o = n(4); const a = navigator.userAgent; const s = /(webkit)[ /]([^\s]+)/i; const l = /OPR\/([^\s]+)/i; const u = /(edge)\/(\d+(?:\.\d+)?)/i; const c = /(mozilla)(?:.*? rv:([^\s)]+))?/i; const h = /(android) ([^;]+)/i; const d = /(iphone)/i; const p = /(Windows Phone OS (\d+(?:\.\d+)?))/; const f = /OS (\d+)_(\d+)/i; const y = /(playstation 3)/i; const v = /BlackBerry|BB10/i; const m = /(firefox)/i; const g = /Mobile VR/i; const b = /Version\/([^\s]+)/i; const _ = function () { return (P()[1] || 'webkit').toLowerCase() }; const w = function () { return P()[2] }; var P = function () { let t; return (t = a.match(u)) || (t = a.match(s)) || (t = a.match(l)) ? t : t ? (document.documentMode != null && (t[2] = document.documentMode), t) : (t = a.match(c)) || [] }; const O = function () { const t = a.match(h); return t != null && { version: t[2] } }; const k = function () { return d.test(a) }; const S = function () { return D() > 0 || O() || C() }; const E = function () { try { const t = matchMedia('(hover:hover)'); if (t.media !== 'not all') return t.matches } catch (t) {} return !S() }; const T = function () { return v.test(a) }; var C = function () { return /Macintosh/i.test(navigator.userAgent) && navigator.maxTouchPoints && navigator.maxTouchPoints > 1 }; const A = function () { return s.test(a) && !/chrome/i.test(a) && !C() && !k() }; const j = function () { return !(!/Chrome/.test(a) || !/Google Inc/.test(navigator.vendor)) && { version: B() } }; const x = function () { const t = a.match(/\bSilk\/([^\s]+)/); return t && t[1] }; var B = function () { const t = a.match(/\bChrome\/([^\s]+)/); return t && t[1] }; const R = function () { return l.test(a) }; var D = function () { const t = a.match(f); const e = a.match(b); return t != null ? parseFloat(''.concat(t[1], '.').concat(t[2])) : e != null && e[1] && C() ? parseFloat(e[1]) : 0 }; const M = function () { return u.test(a) }; const I = function () { return m.test(a) }; const L = function () { const t = document.createElement('video'); let e = !1; try { if (t.canPlayType) { const n = 'video/mp4; codecs="avc1.42E01E'; (e = {}).h264 = !!t.canPlayType(''.concat(n, '"')) || !!t.canPlayType(''.concat(n, ', mp4a.40.2"')), e.webm = !!t.canPlayType('video/webm; codecs="vp9, vorbis"'), e.nativeHls = !!t.canPlayType('application/vnd.apple.mpegURL') } } catch (t) { e = { ogg: !1, h264: !1, webm: !1, nativeHls: !1 } } return e }; const W = function () { try { return 'localStorage' in o.root && o.root.localStorage != null } catch (t) { return !1 } }; const F = ['WebKit', 'Moz', 'O', 'Ms', '']; const N = function () { for (let t = 0; t < F.length; t++) { const e = ''.concat(F[t], 'MutationObserver'); if (o.root[e]) return e } return null }; const H = function () { if (i != null) return i; try { const t = Object.defineProperty({}, 'passive', { get: function () { i = !0 } }); window.addEventListener('test', null, t) } catch (t) { i = !1 } return i }; var V = function () { return r.Wistia._detectCache || (r.Wistia._detectCache = U()), r.Wistia._detectCache }; var U = function () { let t; let e; let n; let i; let r; let s; let l; let u; let c; let h; let d; let f; const v = { amazonSilk: !!/Silk/.test(a) && { version: x() }, browser: { version: w() }, edge: M(), firefox: I(), gearvr: g.test(a), android: O(), oldandroid: O() && parseFloat(O().version) < 4.1, iphone: k(), ipad: C(), blackberry: T(), safari: A(), chrome: j(), opera: R(), winphone: { version: p.test(a)[2] }, ios: { version: D() }, windows: /win/i.test(navigator.platform), mac: /mac/i.test(navigator.platform), linux: /linux/i.test(navigator.platform), retina: o.root.devicePixelRatio != null && o.root.devicePixelRatio > 1, hoverIsNatural: E(), touchScreen: S(), ps3: y.test(a), video: L(), mediaSource: o.root.MediaSource && o.root.MediaSource.isTypeSupported(''.concat('video/mp4; codecs="avc1.42E01E', ', mp4a.40.2"')), nativeHls: (k() || C() || A()) && L().nativeHls, localstorage: W(), json: !(!o.root.JSON || typeof JSON.parse !== 'function'), backgroundSize: (f = document.createElement('div'), f.style.backgroundSize === '' || f.style.webkitBackgroundSize === '' || f.style.mozBackgroundSize === '' || f.style.oBackgroundSize === ''), fullscreenEnabled: document.fullscreenEnabled || document.mozFullScreenEnabled || document.webkitFullscreenEnabled || document.msFullscreenEnabled, vulcanSupport: (d = /webkit|mozilla|edge/.test(_()), Boolean(!k() && !C() && !O() && !T() && d && L().h264 && Object.defineProperties)), mutationObserver: N(), callingPlayRequiresEventContext: D() > 0 || O() || A(), passiveSupported: H(), webp: (t = j(), e = I(), n = M(), i = R(), r = t && w() >= 32, s = t && w() >= 75 && O(), l = e && w() >= 65, u = e && w() >= 67 && O(), c = n && w() >= 18, h = i && w() >= 19, r || s || l || u || c || h) }; return v.browser[_()] = !0, v } }, (t, e, n) => { n.d(e, { LOG_LEVELS: () => s, wlog: () => v }); const i = n(3); const r = n(13); function o (t) { return (function (t) { if (Array.isArray(t)) return a(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return a(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function a (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } var s = { ERROR: 0, WARNING: 1, NOTICE: 2, INFO: 3, DEBUG: 4, error: 0, warning: 1, notice: 2, info: 3, debug: 4 }; const l = function () {}; const u = function (t) { const e = this; t == null && (t = {}); return e.error = function () { for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return e.log(0, n) }, e.warn = function () { for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return e.log(1, n) }, e.notice = function () { for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return e.log(1, n) }, e.info = function () { for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return e.log(3, n) }, e.debug = function () { for (var t = arguments.length, n = new Array(t), i = 0; i < t; i++)n[i] = arguments[i]; return e.log(4, n) }, e.ctx = t, e.ctx.initializedAt || e.reset(), e }; const c = u.prototype; c.reset = function () { this.ctx.level = 0, this.ctx.grep = null, this.ctx.grepv = null, this.ctx.first1000LogLines = [], this.ctx.last1000LogLines = [], this.ctx.initializedAt = (new Date()).getTime() }, c.setLevel = function (t) { const e = this.logFunc(3); s[t] != null ? (this.ctx.level = s[t], e('Log level set to "'.concat(t, '" (').concat(s[t], ')'))) : e('Unknown log level "'.concat(t, '"')) }, c.setGrep = function (t) { this.ctx.grep = t }, c.setGrepv = function (t) { this.ctx.grepv = t }, c.first1000LogLines = function () { return this.ctx.first1000LogLines }, c.last1000LogLines = function () { return this.ctx.last1000LogLines }, c.matchedGrep = function (t) { let e = !1; if (this.ctx.grep || this.ctx.grepv) { for (var n = [], i = 0; i < t.length; i++) try { const r = t[i]; n.push(r.toString && r.toString()) } catch (t) { n.push('') } const o = n.join(' '); const a = !this.ctx.grep || o.match(this.ctx.grep); const s = !this.ctx.grepv || !o.match(this.ctx.grepv); e = a && s } else e = !0; return e }, c.now = function () { return typeof performance !== 'undefined' && typeof performance.now === 'function' ? performance.now().toFixed(3) : Date.now ? Date.now() - this.ctx.initializedAt : (new Date()).getTime() - this.ctx.initializedAt }, c.messagesToLogLine = function (t, e, n) { let i; let r = [t, e]; r = r.concat(n); try { (i = r.join(' ') || '').length > 200 && (i = i.slice(0, 200)) } catch (t) { i = 'could not serialize' } return i }, c.persistLine = function (t) { this.ctx.first1000LogLines.length < 1e3 ? this.ctx.first1000LogLines.push(t) : (this.ctx.last1000LogLines.length >= 1e3 && this.ctx.last1000LogLines.shift(), this.ctx.last1000LogLines.push(t)) }, c.log = function (t, e) { let n; const i = t <= this.ctx.level; const a = t < 4; const s = (i || a) && this.matchedGrep(e); if (t === 0 && (0, r.globalTrigger)('problem', { type: 'error-logged', data: { messages: e } }), s && (i || a) && (n = this.now()), a && s) { const l = this.messagesToLogLine(t, n, e); this.persistLine(l) } if (i && s) { let u; const c = this.logFunc(t); e.length === 1 && (u = e[0]) instanceof Error ? (c(u.message), u.stack && c(u.stack)) : c.apply(void 0, o(e)) } }; const h = function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; console.error.apply(console, e) }; const d = function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; console.warn.apply(console, e) }; const p = function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; console.info.apply(console, e) }; const f = function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; console.debug.apply(console, e) }; const y = function (t) { console.log.apply(console, t) }; c.logFunc = function (t) { return t == null && (t = this.level), console ? (t === 0 ? e = h : t === 1 ? e = d : t === 3 ? e = p : t === 4 && (e = f), e || (e = y), typeof e !== 'function' && (this.noConsoleLog = !0, e = l), e) : l; let e }, c.maybePrefix = function (t, e) { if (t) { if (typeof t === 'function') try { t = t() } catch (e) { t = 'prefix err "'.concat(e.message, '"') } return t instanceof Array ? t.concat(e) : [t].concat(e) } return e }, c.getPrefixedFunctions = function (t) { const e = this; return { log: function () { for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)i[r] = arguments[r]; return e.log(0, e.maybePrefix(t, i)) }, error: function () { for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)i[r] = arguments[r]; return e.log(0, e.maybePrefix(t, i)) }, warn: function () { for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)i[r] = arguments[r]; return e.log(1, e.maybePrefix(t, i)) }, notice: function () { for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)i[r] = arguments[r]; return e.log(1, e.maybePrefix(t, i)) }, info: function () { for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)i[r] = arguments[r]; return e.log(3, e.maybePrefix(t, i)) }, debug: function () { for (var n = arguments.length, i = new Array(n), r = 0; r < n; r++)i[r] = arguments[r]; return e.log(4, e.maybePrefix(t, i)) } } }, i.Wistia && i.Wistia.wlogCtx == null && (i.Wistia.wlogCtx = {}); var v = new u(i.Wistia.wlogCtx) }, (t, e, n) => { n.d(e, { globalBind: () => r, globalOn: () => o, globalTrigger: () => a }); const i = n(3); (0, n(14).makeWbindable)(i.Wistia); var r = i.Wistia.bind.bind(i.Wistia); var o = i.Wistia.on.bind(i.Wistia); var a = (i.Wistia.off.bind(i.Wistia), i.Wistia.rebind.bind(i.Wistia), i.Wistia.trigger.bind(i.Wistia)); i.Wistia.unbind.bind(i.Wistia) }, (t, e, n) => { n.d(e, { makeWbindable: () => o }); const i = n(3); const r = n(15); i.Wistia.bindable || (i.Wistia.bindable = { bind: function (t, e) { return this.specialBind && !0 === this.specialBind.apply(this, arguments) ? this : e ? (r.bind.call(this, t, e), this) : void (i.Wistia.warn && i.Wistia.warn(this.constructor.name, 'bind', 'falsey value passed in as callback:', e)) }, unbind: function (t, e) { return this.specialUnbind && !0 === this.specialUnbind.apply(this, arguments) || (e ? r.unbind.call(this, t, e) : this._bindings && (this._bindings[t] = []), this._bindings && this._bindings[t] && !this._bindings[t].length && (this._bindings[t] = null, delete this._bindings[t])), this }, on: function (t, e) { const n = this.specialBind && this.specialBind.apply(this, arguments); return typeof n === 'function' ? n : r.bind.call(this, t, e) }, off: function (t, e) { const n = this.specialUnbind && this.specialUnbind.apply(this, arguments); return typeof n === 'function' ? n : r.unbind.call(this, t, e) }, rebind: function (t, e) { return this.unbind(t, e), this.bind(t, e), this }, trigger: function (t) { for (var e, n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), o = 1; o < n; o++)i[o - 1] = arguments[o]; return (e = r.trigger).call.apply(e, [this, t].concat(i)), this }, bindNamed: function () { return r.bindNamed.apply(this, arguments) }, unbindNamed: function () { return r.unbindNamed.apply(this, arguments) }, unbindAllInNamespace: function () { return r.unbindAllInNamespace.apply(this, arguments) } }); var o = function (t) { for (const e in i.Wistia.bindable) { const n = i.Wistia.bindable[e]; t[e] || (t[e] = n) } } }, (t, e, n) => { n.d(e, { bind: () => l, bindNamed: () => f, bindify: () => g, trigger: () => h, unbind: () => u, unbindAllInNamespace: () => v, unbindNamed: () => y }); const i = n(3); const r = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; function o (t) { return (function (t) { if (Array.isArray(t)) return a(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return a(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function a (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const s = Array.prototype.slice; var l = function (t, e) { const n = this; return n._bindings || (n._bindings = {}), n._bindings[t] || (n._bindings[t] = []), n._bindings[t].push(e), function () { n.unbind(t, e) } }; var u = function (t, e) { if (!this._bindings) return this; if (!this._bindings[t]) return this; for (var n = [], i = 0; i < this._bindings[t].length; i++) { const r = this._bindings[t][i]; r !== e && n.push(r) } this._bindings[t] = n }; const c = function (t, e) { return this.unbind(t, e), this.bind(t, e), { event: t, fn: e } }; var h = function (t) { for (var e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; return this._bindings && this._bindings.all != null && d.apply(this, ['all', t].concat(n)), d.apply(this, [t].concat(n)) }; var d = function (t) { if (!this._bindings) return this; if (!this._bindings[t]) return this; for (var e, n = s.call(arguments, 1), r = o(this._bindings[t]), a = 0; a < r.length; a++) { const l = r[a]; try { l.apply(this, n) === this.unbind && (e == null && (e = []), e.push({ event: t, fn: l })) } catch (t) { if (this._throwTriggerErrors) throw t; i.Wistia.error && i.Wistia.error(t) } } if (e) for (let u = 0; u < e.length; u++) { const c = e[u]; this.unbind(c.event, c.fn) } return this }; const p = function (t, e) { t._namedBindings == null && (t._namedBindings = {}), t._namedBindings[e] == null && (t._namedBindings[e] = {}) }; var f = function (t, e, n, i) { return this.unbindNamed(t, e), (function (t, e, n, i, r) { p(t, e), t._namedBindings[e][n] = { event: i, fn: r } }(this, t, e, n, i)), this.bind(n, i), function () { this.unbindNamed(t, e) } }; var y = function (t, e) { p(this, t); const n = (function (t, e, n) { return p(t, e), t._namedBindings[e][n] }(this, t, e)); if (n) { const i = n.event; const r = n.fn; this.unbind(i, r) } const o = this._namedBindings; return delete o[t][e], m(o[t]) && delete o[t], this }; var v = function (t) { const e = this._namedBindings && this._namedBindings[t]; if (e == null) return this; for (const n in e)r(e, n) && this.unbindNamed(t, n) }; var m = function (t) { for (const e in t) if (r(t, e)) return !1; return !0 }; var g = function (t) { return t.bind = l, t.unbind = u, t.on = l, t.off = u, t.rebind = c, t.trigger = h, t.bindNamed = f, t.unbindNamed = y, t.unbindAllInNamespace = v, t }; g(function () {}.prototype) }, (t, e, n) => { let i; n.d(e, { elemOffset: () => o, elemZoom: () => a, isBoxModel: () => r }); var r = function () { if (i != null) return i; const t = document.createElement('div'); return t.style.paddingLeft = t.style.width = '1px', document.body.appendChild(t), i = t.offsetWidth === 2, document.body.removeChild(t), i }; var o = function (t) { let e; let n; const i = document.body; const o = document.defaultView; const s = document.documentElement; const l = t.getBoundingClientRect(); const u = s.clientTop || i.clientTop || 0; const c = s.clientLeft || i.clientLeft || 0; e = o && o.pageYOffset != null ? o.pageYOffset : r() && s && s.scrollTop != null ? s.scrollTop : i.scrollTop, n = o && o.pageXOffset != null ? o.pageXOffset : r() && s && s.scrollLeft != null ? s.scrollLeft : i.scrollLeft; const h = a(t); return { height: l.height * h, top: l.top * h + e - u, left: l.left * h + n - c, width: l.width * h, zoom: h } }; var a = function t (e) { return e && e !== document.documentElement ? t(e.parentElement) * (getComputedStyle(e).zoom || 1) : 1 } }, (__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => { __webpack_require__.d(__webpack_exports__, { execScriptTags: () => execScriptTags, getScriptTags: () => getScriptTags, removeScriptTags: () => removeScriptTags }); const utilities_script_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(18); var getScriptTags = function (t) { return t.match(/<script.*?src[^>]*>\s*<\/script>|<script.*?>[\s\S]+?<\/script>/gi) || [] }; const scriptTagsToRunScriptsInput = function scriptTagsToRunScriptsInput (scriptTags) { if (!scriptTags) return []; scriptTags instanceof Array || (scriptTags = getScriptTags(scriptTags)); for (var hashes = [], _loop = function _loop () { const scriptTag = scriptTags[i]; const hash = {}; let matches = scriptTag.match(/<script.*?>/i); if (matches && (matches = matches[0].match(/src="([^"]+)"/i), matches && (hash.src = matches[1], hash.async = /async/i.test(scriptTag.replace(hash.src, '')))), !matches && (matches = scriptTag.match(/<script>([\s\S]+?)<\/script>/i), matches)) { const src = matches[1]; hash.fn = function () { return eval(src) } }hashes.push(hash) }, i = 0; i < scriptTags.length; i++)_loop(); return hashes }; var execScriptTags = function (t, e) { if (!t) return null; const n = scriptTagsToRunScriptsInput(t); return (0, utilities_script_utils_js__WEBPACK_IMPORTED_MODULE_0__.runScripts)(n).then(e) }; var removeScriptTags = function (t) { return t.replace(/<script.*?src[^>]*>\s*<\/script>|<script>[\s\S]+?<\/script>/g, '') } }, (t, e, n) => { n.d(e, { findScriptInDomBySrc: () => l, removeScriptsBySrc: () => u, runScript: () => c, runScripts: () => h }); const i = n(12); const r = n(6); const o = n(19); function a (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function s (t, e, n) { return (e = (function (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(e))) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var l = function (t) { for (let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, n = document.getElementsByTagName('script'), i = 0; i < n.length; i++) { const r = n[i]; let o = r.getAttribute('src') || ''; if (e.ignoreQueryParams) { const a = o.split('?'); o = a[0] } if (!e.scriptRegex && e.ignoreProtocol && (o = o.replace(/^https?:/, ''), t = t.replace(/^https?:/, '')), e.scriptRegex && e.scriptRegex.test(o)) return r; if (e.testStartsWith && o.indexOf(t) === 0) return r; if (o === t) return r } return null }; var u = function (t) { for (var e, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, i = function () { if (e && (e.onload = e.onreadystatechange = e.onerror = null, e.parentNode && (e.parentNode.removeChild, 1))) try { e.parentNode.removeChild(e) } catch (t) { setTimeout(function () { throw t }, 0) } }; e = l(t, n);)i() }; var c = function (t) { let e; let n; let i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 8e3; let r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; return i == null && (i = 8e3), r == null && (r = {}), new Promise(function (a) { !0 === r.once && (e = l(t)) && (n = !0), r.once && n ? e.readyState && !/loaded|complete/.test(e.readyState) || setTimeout(function () { a() }, 1) : (0, o.runScript)(t, i).then(a).catch(function (t) { a(t), setTimeout(function () { console.error(t) }, 1) }) }) }; var h = function () { for (var t, e = arguments.length, n = new Array(e), r = 0; r < e; r++)n[r] = arguments[r]; t = n[0] instanceof Array ? n[0] : n, t = d(t); const o = []; const l = []; const u = []; return t.forEach(function (t) { const e = (function (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? a(Object(n), !0).forEach(function (e) { s(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t }({}, t)); const n = new Promise(function (t) { e.resolve = t }); e.promise = n, u.push(e.promise), t.async ? o.push(e) : l.push(e) }), l.reduce(function (t, e) { if (e.fn) try { e.fn() } catch (t) { i.wlog.error(t) } finally { e.resolve() } else e.src && c(e.src, null, e).then(e.resolve); return t.then(e.promise) }, Promise.resolve()), setTimeout(function () { o.forEach(function (t) { if (t.fn) try { t.fn() } catch (t) { i.wlog.error(t) } finally { t.resolve() } else t.src && c(t.src, null, t).then(t.resolve) }) }, 1), Promise.all(u) }; var d = function (t) { for (var e = [], n = 0; n < t.length; n++) { const i = t[n]; typeof i === 'string' ? e.push({ src: i, async: !1 }) : (0, r.isObject)(i) ? e.push(i) : e.push({ fn: i, async: !1 }) } return e } }, (t, e, n) => { n.d(e, { runScript: () => i }); var i = function (t, e) { return new Promise(function (n, i) { let r; e == null && (e = 8e3), (r = document.createElement('script')).src = t, r.async = !0, r.type = 'text/javascript'; let o = null; let a = !1; const s = function () { r.onerror = r.onreadystatechange = r.onload = null, clearTimeout(o), clearTimeout(u), o = setTimeout(function () { r && r.parentNode && r.parentNode.removeChild(r) }, 500) }; const l = function () { const t = r.readyState; a || t && !/loaded|complete/.test(t) || (a = !0, setTimeout(function () { n(), s() }, 1)) }; var u = setTimeout(function () { a = !0, s(), i(new Error('timeout')) }, e); r.onerror = function (t) { a = !0, s(), i(t) }, r.onreadystatechange = l, r.onload = l, (document.body || document.head).appendChild(r) }) } }, (t, e, n) => { n.d(e, { seqId: () => r }); const i = n(3); var r = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'wistia_'; const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''; const n = i.Wistia._sequenceVal || 1; const r = ''.concat(t).concat(n).concat(e); return i.Wistia._sequenceVal = n + 1, r } }, (t, e, n) => { n.r(e), n.d(e, { cacheMedia: () => b, fetchFreshMediaDataJson: () => f, fetchMedia: () => y, mediaDataScriptRegExp: () => g, mediaDataUrl: () => m, mediaFromCache: () => P, transformResponse: () => v, uncacheMedia: () => _ }); const i = n(4); const r = n(3); const o = n(6); const a = n(12); const s = n(18); const l = n(22); const u = n(23); const c = n(26); const h = n(28); function d (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function p (t, e, n) { return (e = (function (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(e))) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t }r.Wistia._remoteData == null && (r.Wistia._remoteData = {}); var f = function (t, e) { const n = m(t, e); return fetch(n).then(function (t) { return t.json() }).catch(function (t) { a.wlog.error('error fetching mediaData', t) }) }; var y = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return new Promise(function (n, i) { const r = O(t, e); if (r) { a.wlog.info('fetchMedia', t, 'from local cache', r); n(r) } else { a.wlog.info('fetchMedia', t, 'fetching'); const o = m(t, e); const s = new window.URL(m(t, e)); e.password != null && s.searchParams.append('password', e.password), fetch(s).then(function (t) { return t.json() }).then(function (i) { let r = i; i.error ? (a.wlog.info('fetch', t, 'error', i), b(t, i)) : (r = v(i, e), b(t, i.media)), n(r) }).catch(function (t) { a.wlog.error('error out fetching '.concat(o)), (0, h.countMetric)('player/failure/fetch-media-failed'), i(t) }) } }) }; var v = function (t, e) { let n; const i = (function (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? d(Object(n), !0).forEach(function (e) { p(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t }({}, t)); const r = (0, o.merge)({}, (n = i.media) === null || void 0 === n ? void 0 : n.embedOptions, e); return i.error ? i : (delete i.media.unnamed_assets, (0, c.mediaDataTransforms)(i.media, r), i.media) }; var m = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = (0, u.mediaDataHost)(e); return ''.concat((0, u.eV1Protocol)(), '//').concat(n, '/embed/medias/').concat(t, '.json') }; var g = function (t) { const e = location.protocol === 'https:' ? 'https' : 'https?'; return new RegExp('^('.concat(e, ':)?//((').concat((0, u.cdnFastWistiaComHost)().replace('.', '\\.'), ')|(').concat((0, u.cdnFastWistiaNetHost)().replace('.', '\\.'), '))/embed/medias/').concat(t, '\\.jsonp\\??')) }; var b = function (t, e) { return (0, l.cacheMediaData)(t, e) }; var _ = function (t) { (0, l.uncacheMediaData)(t), w(t) }; var w = function (t) { window['wistiajsonp-/embed/medias/'.concat(t, '.json')] = null, (0, s.removeScriptsBySrc)(m(t), { scriptRegex: g(t) }) }; var P = function (t) { return O(t) }; var O = function (t) { const e = r.Wistia._remoteData['media_'.concat(t)]; if (e) return e; const n = i.root['wistiajsonp-/embed/medias/'.concat(t, '.json')]; return n != null && n.media ? n.media : null } }, (t, e, n) => { n.d(e, { cacheMediaData: () => r, uncacheMediaData: () => o }); const i = n(3); i.Wistia._remoteData == null && (i.Wistia._remoteData = {}); var r = function (t, e) { return i.Wistia._remoteData['media_'.concat(t)] = e }; var o = function (t) { i.Wistia._remoteData['media_'.concat(t)] = null, delete i.Wistia._remoteData['media_'.concat(t)] } }, (t, e, n) => { n.r(e), n.d(e, { VALID_FASTLY_HOSTS: () => P, appHost: () => h, cdnFastProtectedWistiaComHost: () => p, cdnFastWistiaCanaryHost: () => y, cdnFastWistiaComHost: () => d, cdnFastWistiaNetHost: () => f, deliveryHost: () => c, eV1Host: () => m, eV1HostWithPort: () => g, eV1Protocol: () => b, eV1Url: () => v, forceValidFastWistiaHost: () => k, mediaDataHost: () => _, metricsHost: () => w }); const i = n(4); const r = n(24); const o = n(25); const a = (0, o.appHostname)('app'); const s = (0, o.appHostname)('fast-protected'); const l = (0, o.appHostname)('fast'); const u = typeof window !== 'undefined' && i.root === window && i.root.location ? i.root.location.protocol : 'https:'; var c = function () { return (function (t, e, n) { return t === 'https:' ? e : n }(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : u, 'embed-ssl.wistia.com', 'embed.wistia.com')) }; var h = function () { return a }; var d = function (t) { return t || l }; var p = function () { return s }; var f = function () { return 'fast.wistia.net' }; var y = function () { return 'fast-canary.wistia.net' }; var v = (function () { for (let t = document.getElementsByTagName('script'), e = 0; e < t.length; e++) { const n = t[e]; if (n.src) { const i = new r.Url(n.src); const o = /\/assets\/external\/E-v1?\.js$/.test(i.rawPath); const a = i.host === d() || i.host === f() || i.host === y(); const s = location.protocol === 'https:' && i.protocol === 'https:'; const l = i.protocol === '' || i.protocol == null; const u = s || l || location.protocol === 'http:'; const c = !n.readyState || /loaded|complete/.test(n.readyState); if (o && a && u && c) return i } } return new r.Url(''.concat((0, r.proto)(), '//').concat(f(), '/E-v1.js')) }()); var m = function () { return v.host }; var g = function () { return v.port ? ''.concat(m(), ':').concat(v.port) : m() }; var b = function () { return v.protocol }; var _ = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return t.embedHost ? k(t.embedHost) : g() }; var w = function () { return 'pipedream.wistia.com' }; var P = [].concat(['wistia.net', 'wistia.com'], ['wistia.mx', 'wistia.dev', 'wistia.io', 'wistia.tech', 'wistia.st']); const O = new RegExp('('.concat(P.map(function (t) { return '\\.'.concat(t.replace('.', '\\.')) }).join('|'), ')$')); var k = function (t) { return t && O.test(t) ? t : g() } }, (t, e, n) => { n.r(e), n.d(e, { Url: () => f, brack: () => h, createUrl: () => v, debrack: () => d, joinPath: () => c, objectToQueryParams: () => l, parseUrl: () => m, proto: () => o, queryParamsToObject: () => a, splitPath: () => u, urlComponentToObject: () => s }); const i = n(6); const r = n(12); var o = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : location.href; return /^http:\/\//.test(t) ? 'http:' : 'https:' }; var a = function (t) { const e = {}; if (!t) return e; for (var n = t.split('&'), o = function () { const t = n[a].split('='); let o = t[0]; const l = t[1]; try { o = d(decodeURIComponent(o)) || '' } catch (t) { setTimeout(function () { r.wlog.notice(t) }, 50), o = '' }(0, i.cast)(o); const u = (0, i.getDeep)(e, o); if (u != null) if ((0, i.isArray)(u))u.push(s(l)); else { const c = [u]; c.push(s(l)), (0, i.setAndPreserveUndefined)(e, o, c) } else (0, i.setAndPreserveUndefined)(e, o, s(l)) }, a = 0; a < n.length; a++)o(); return e }; var s = function (t) { if (t == null) return t; let e; try { e = decodeURIComponent(t) } catch (n) { setTimeout(function () { r.wlog.notice(n) }, 50), e = t } return e }; var l = function (t) { const e = []; return (0, i.eachLeaf)(t, function (t, n) { t != null ? e.push(''.concat(encodeURIComponent(h(n)), '=').concat(encodeURIComponent(t))) : e.push(encodeURIComponent(h(n))) }), e.join('&') }; var u = function (t) { const e = []; if (t == null) return e; for (let n = t.split(/\/+/), i = 0; i < n.length; i++) { const r = n[i]; r != null && r !== '' && e.push(r) } return e }; var c = function (t) { return typeof t === 'string' && (t = t.split('/')), t == null ? '' : '/'.concat(t.join('/')) }; var h = function (t) { for (var e = t[0], n = 1; n < t.length; n++)e += '['.concat(t[n], ']'); return e }; var d = function (t) { return t.match(/([\w\-_]+)/g) }; const p = ['protocol', 'host', 'port', 'params', 'path']; var f = function (t) { const e = this; return e.params = {}, e.path = [], e.host = '', typeof t === 'object' ? e.fromOptions(t) : t && e.fromRaw(t), e }; const y = f.prototype; y.fromOptions = function (t) { for (let e = 0; e < p.length; e++) { const n = p[e]; t[n] != null && (this[n] = t[n]) } return this }, y.fromRaw = function (t) { let e; return this.rawUrl = t, (e = t.match(/^((?:https?:)|(?:file:)|(?:ftp:))?\/\//)) && (this.protocol = e[1] || void 0), (e = t.match(/\/\/([^:?#/]*)/)) && (this.host = e[1] || void 0), (e = t.match(/\/\/.*?(\/[^?#$]+)/) || t.match(/(^\/[^/][^?#$]+)/)) && this.setPath(e[1]), (e = t.match(/:(\d+)/)) && (this.port = parseInt(e[1], 10)), (e = t.match(/\?([^#]+)/)) && (this.rawParams = e[1], this.params = a(this.rawParams)), (e = t.match(/#(.*)$/)) && (this.anchor = e[1]), this }, y.clone = function () { return new f({ protocol: this.protocol, host: this.host, port: this.port, path: (0, i.clone)(this.path), params: (0, i.clone)(this.params), anchor: this.anchor }) }, y.ext = function (t) { if (t != null) { const e = this.ext(); const n = this.path.length - 1; const i = new RegExp('\\.'.concat(e), 'g'); return e && (this.path[n] = ''.concat(this.path[n].replace(i, ''))), this.path[n] = ''.concat(this.path[n], '.').concat(t) } const r = this.path[this.path.length - 1].match(/\.(.*)$/); return r != null && r[1] || null }, y.isRelative = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location; const e = this.protocol; const n = this.host; return !(e != null && e !== '' && e !== t.protocol || n && n !== t.hostname) }, y.toString = function () { return this.isRelative() ? this.relative() : this.absolute() }, y.absolute = function () { let t = ''; this.protocol != null && (t = this.protocol); let e = ''; return this.port != null && (e = ':'.concat(this.port)), ''.concat(t, '//').concat(this.host || location.host).concat(e).concat(this.relative()) }, y.relative = function () { let t = ''; this.path.length > 0 && (t = c(this.path), this._hasTrailingSlash && (t += '/')); let e = '?'.concat(l(this.params)); return e.length === 1 && (e = ''), ''.concat(t).concat(e).concat(this.relativeAnchor()) }, y.authority = function () { const t = this.port != null ? ':'.concat(this.port) : ''; return ''.concat(this.host).concat(t) }, y.relativeProtocol = function () { let t = ''; return this.port != null && (t = ':'.concat(this.port)), '//'.concat(this.host).concat(t).concat(this.relative()) }, y.relativeAnchor = function () { let t = ''; return this.anchor != null && (t = '#'.concat(this.anchor)), ''.concat(t) }, y.setPath = function (t) { this.rawPath = t, this._hasTrailingSlash = /\/$/.test(this.rawPath), this.path = u(this.rawPath) }, f.create = function (t) { return new f(t) }; var v = f.create; f.parse = function (t) { return new f(t) }; var m = f.parse }, (t, e, n) => { n.d(e, { appHostname: () => i }); var i = function () { return ''.concat(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'app', '.').concat('wistia.com') } }, (t, e, n) => { n.d(e, { mediaDataTransforms: () => c }); const i = n(6); const r = n(24); const o = n(11); const a = n(27); function s (t) { return (function (t) { if (Array.isArray(t)) return l(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return l(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return l(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function l (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const u = (0, o.cachedDetect)(); var c = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; let n = (0, i.assign)({}, t); return n = (function (t) { if (!0 !== (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).allowOriginalAsMp4) return t; const e = t.assets.filter(function (t) { return t.type === 'original' })[0]; return (0, a.readyPublicOver400)(t.assets).length > 0 || (t.assets = [].concat(s(t.assets), [(0, i.assign)({}, e, { display_name: ''.concat(e.display_name, ' copy'), container: 'mp4', codec: 'h264', type: 'mp4_video' })])), t }(n, e)), n = (function (t) { return t.assets && u.webp && (t.assets = t.assets.map(function (t) { if (t.type === 'still_image' && Object(t).url) { const e = new r.Url(t.url); e.ext('webp'), t.url = e.absolute() } return t })), t }(n)), n } }, (t, e, n) => { n.r(e), n.d(e, { BAKERY_HOSTS: () => D, FAILED: () => d, PROCESSING: () => f, QUEUED: () => p, READY: () => y, channelArtworkStill: () => A, filter: () => m, filterOver400: () => P, findClosestAssetByQuality: () => T, getStillWidth: () => R, iphone: () => q, isBakeryUrl: () => M, m3u8: () => F, moveToFront: () => Q, mp4: () => L, nearestOutsideRange: () => G, nonfailedPublicOver400: () => k, numericSizeSnapped: () => E, one: () => g, onePublicReadyWithContainer: () => I, original: () => N, originalAspect: () => U, playable: () => H, readyPublicM3u8s: () => w, readyPublicMp3s: () => b, readyPublicMp4s: () => _, readyPublicOver400: () => O, smallestNormalMp4: () => z, still: () => C, stillUrl: () => B, thumbnailAssets: () => j, urlWithCorrectHost: () => K, videoAspect: () => V, webm: () => W, withinQualityRange: () => S }); const i = n(6); const r = n(24); const o = n(11); const a = n(23); const s = n(12); const l = n(25); function u (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return c(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return c(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function c (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const h = Array.prototype.slice; var d = -1; var p = 0; var f = 1; var y = 2; const v = ['select', 'sortFn', 'sortBy', 'unique']; var m = function (t) { let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (!t) return []; t.assets && (t = t.assets), e.qualityMin == null && e.qualityMax == null || (t = S(t, e.qualityMin, e.qualityMax), e = (0, i.except)(e, ['qualityMin', 'qualityMax'])); const n = (0, i.only)(e, v); const r = n.select || (0, i.except)(e, v); r && (n.select = r); let o = n.select ? (0, i.select)(t, n.select) : (0, i.clone)(t); if ((n.sortFn || n.sortBy) && (o = (0, i.sort)(o, n.sortFn || n.sortBy)), n.unique) { for (var a = {}, s = 0; s < o.length; s++) { const l = o[s]; const u = l[''.concat(n.unique)] || '__undefined__'; a[u] || (a[u] = l) } for (const c in o = [], a)o.push(a[c]) } return o }; var g = function (t, e) { return m(t, e)[0] || null }; var b = function (t) { return m(t, { ext: 'mp3', status: y, public: !0 }) }; var _ = function (t) { return m(t, { container: 'mp4', status: y, public: !0 }) }; var w = function (t) { return m(t, { container: 'm3u8', status: y, public: !0 }) }; var P = function (t) { for (var e = [], n = 0; n < t.length; n++) { const i = t[n]; const r = i.opt_vbitrate != null && i.opt_vbitrate >= 500 && i.opt_vbitrate <= 1e5; const o = i.width != null && i.width > 400; (r || o) && e.push(i) } return e }; var O = function (t) { return P(m(t, { container: /mp4/, public: !0, status: y })) }; var k = function (t) { return P(m(t, { container: /mp4/, public: !0, status: function (t) { return t !== d } })) }; var S = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100; const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1e4; return m(t, { select: function (t) { const i = E(t.width, t.height); return e <= i && i <= n } }) }; var E = function (t, e) { if (e > t) { const n = t; t = e, e = n } const i = t / e; const r = t * e + 1; return r >= 3840 / i * 3840 ? 2160 : r >= 2560 / i * 2560 ? 1440 : r >= 1920 / i * 1920 ? 1080 : r >= 1280 / i * 1280 ? 720 : r >= 960 / i * 960 ? 540 : r >= 640 / i * 640 ? 360 : e }; var T = function (t, e) { let n; n = e === '4k' ? 2160 : parseInt(e, 10); const i = S(t, n, n)[0]; if (i) return i; const r = G(t, n, n); if (r.length === 1) return r[0]; const o = V(t); const a = Math.round(o * n); const s = u(r, 2); const l = s[0]; const c = s[1]; return Math.abs(l.width - a) < Math.abs(c.width - a) ? l : c }; var C = function (t) { let e = g(t, { type: /^still_image$/, sortBy: 'created_at desc' }); return e || (e = A(t)), e || (e = g(t, { container: /mp4/, sortBy: 'width desc' })), e }; var A = function (t) { return g(t, { type: /^channel_still_image$/, sortBy: 'created_at desc' }) }; var j = function (t, e) { if (e.stillUrl) return [{ height: null, url: e.stillUrl, width: null }]; const n = C(t); if (!n) return []; const i = n.width / n.height; return [320, 640, 960, 1280, 1920, 3840].map(function (e) { const n = Math.round(e / i); return { height: n, url: B(t, { videoWidth: e, videoHeight: n, playButton: !1 }), width: e } }) }; const x = (0, l.appHostname)('fast'); var B = function (t) { let e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = C(t); if (n) { if (n.status !== y) { const o = A(); return o && o.status === y ? o.url : '//'.concat(x, '/assets/images/blank.gif') } let a = (e = (0, i.merge)({ aspect: n.width / n.height || 1, stillUrl: n.url, playButton: !1, playerColor: e.playerColor || '636155', videoWidth: n.width || 640, videoHeight: n.height || 360, stillSnap: !0 }, e)).videoWidth; let s = e.videoHeight; const l = new r.Url(e.stillUrl); return e.retina && (l.params.image_play_button_size = '2x', a *= 2, s *= 2), e.stillSnap && (a = R({ videoWidth: a, stillAssetWidth: n.width || 640 }), s = Math.round(a / e.aspect)), M(e.stillUrl) ? (e.protocol === 'https:' && (l.protocol = 'https:', l.host = (e.embedHost === 'fast.wistia.com' || e.embedHost, 'embed-ssl.wistia.com')), l.params.image_crop_resized = ''.concat(a, 'x').concat(s), (e.playButton == null || e.playButton) && (l.params.image_play_button = 1, l.params.image_play_button_color = ''.concat(''.concat(e.playerColor).replace(/^#+/, ''), 'e0')), e.ext && l.ext(e.ext), l.ext() === 'bin' && l.ext('jpg'), l.absolute()) : e.stillUrl } }; var R = function (t) { const e = [640, 960, 1280, 1920, 3840]; t.stillAssetWidth < 3840 && e.push(t.stillAssetWidth); for (var n = [], i = 0; i < e.length; i++) { const r = e[i]; r <= t.stillAssetWidth && n.push(r) }n.sort(function (t, e) { return t - e }); for (let o = 0; o < n.length; o++) { const a = n[o]; if (t.videoWidth <= a) return a } return Math.max.apply(Math, n) }; var D = ['embed.wistia.com', 'embed-ssl.wistia.com', (0, l.appHostname)('embed'), (0, l.appHostname)('prime'), (0, l.appHostname)('mixergy-cdn'), (0, l.appHostname)('embed-fastly'), 'embed.wistia.com', 'embed-ssl.wistia.com', 'embed-fastly.wistia.com']; var M = function (t) { if (t == null) return !1; const e = new r.Url(t); return !!e.host && D.join(',').indexOf(e.host) >= 0 }; var I = function (t, e, n) { return n = (0, i.merge)({ container: e, public: !0, status: y }, n), g(t, n) }; var L = function (t, e) { return I(t, 'mp4', e) }; var W = function (t, e) { return I(t, 'webm', e) }; var F = function (t, e) { return I(t, 'm3u8', e) }; var N = function (t) { return g(t, { type: 'original' }) }; var H = function (t, e) { return (arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : (0, o.cachedDetect)()).video.webm && W(t, e) || L(t, e) }; var V = function (t) { const e = L(t) || F(t) || W(t) || N(t); return e && e.height ? e.width / e.height : 640 / 360 }; var U = function (t) { const e = V(t); const n = N(t); if (n && n.width && n.height) { const i = n.width / n.height; return i > 1 && e < 1 || i < 1 && e > 1 ? 1 / i : i } return e }; var q = function (t, e) { if (V(t) > 1) return e = (0, i.merge)({ width: 640 }, e), L(t, e) || z(t, e); const n = (0, i.merge)({ width: 320 }, e); const r = (0, i.merge)({ width: 640 }, e); return L(t, n) || L(t, r) || z(t, e) }; var z = function (t, e) { return e = (0, i.merge)({ sortBy: 'width asc', width: [640, 1920] }, e), L(t, e) }; var K = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : a.eV1Protocol(); const n = new r.Url(t); return M(t) && (e === 'https:' ? (n.host = a.deliveryHost(location.protocol), n.protocol = 'https:') : (n.host = a.deliveryHost(location.protocol), n.protocol = 'http:')), n.absolute() }; var G = function (t, e, n) { if (t.length === 0) return []; for (var i, r, o = h.call(t).sort(function (t, e) { return E(t.width, t.height) - E(e.width, e.height) }), a = 0; a < o.length; a++) { const l = o[a]; const u = E(l.width, l.height); if (u < e && (i = l), u >= n) { r = l; break } } const c = []; return i && c.push(i), r && c.push(r), c.length === 0 && (s.wlog.error('nearestOutsideRange: no nearby assets found, using first in list', o[0]), c.push(o[0])), c }; var Q = function (t, e) { if (!e) return t; for (var n = -1, i = 0; i < t.length; i++) { if (t[i].url === e.url) { n = i; break } } return n > 0 && (t.splice(n, 1), t.unshift(e)), t } }, (t, e, n) => { n.r(e), n.d(e, { _clearMetricsCache: () => d, countMetric: () => l, sampleMetric: () => c, sendMetric: () => h, sendMetrics: () => u }); const i = n(3); const r = n(7); const o = n(10); const a = n(29); i.Wistia._simpleMetricsCache == null && (i.Wistia._simpleMetricsCache = {}), i.Wistia._simpleMetricsDebounceInterval == null && (i.Wistia._simpleMetricsDebounceInterval = 500); const s = i.Wistia._simpleMetricsCache; var l = function (t) { return h('count', t, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}) }; var u = function () { if ((0, a.isVisitorTrackingEnabled)()) { for (var t = 'https://'.concat('pipedream.wistia.com', '/mput?topic=metrics'), e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; return fetch(t, { method: 'POST', mode: 'cors', headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, body: n.join('\n') }) } }; var c = function (t, e, n) { return h('sample', t, e, n) }; var h = function (t, e, n) { let l; const c = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}; if ((0, a.isVisitorTrackingEnabled)()) try { s.toMput == null && (s.toMput = []); const h = (0, r.assign)({ type: t, key: e, value: n != null ? n : null }, c); const d = JSON.stringify(h, (l = new WeakSet(), function (t, e) { if (typeof e === 'object' && e !== null) { if (l.has(e)) return '[Circular]'; l.add(e) } return e })); s.toMput.push(d), clearTimeout(i.Wistia._msendTimeout), i.Wistia._msendTimeout = setTimeout(function () { (0, o.pageLoaded)(function () { u.apply(undefined, s.toMput), s.toMput = [] }) }, i.Wistia._simpleMetricsDebounceInterval) } catch (t) { console.error(t.message), console.error(t.stack) } }; var d = function () { s.toMput = [] } }, (t, e, n) => { n.d(e, { isVisitorTrackingEnabled: () => c }); const i = n(3); const r = n(13); const o = n(30); function a (t) { return (function (t) { if (Array.isArray(t)) return s(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return s(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return s(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function s (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } let l; i.Wistia._visitorTrackingDomain || (i.Wistia._visitorTrackingDomain = location.hostname || ''), i.Wistia._visitorTracking || ((l = (0, o.getWistiaLocalStorage)().visitorTrackingEnabled) != null && ((0, o.updateWistiaLocalStorage)(function (t) { return delete t.visitorTrackingEnabled }), i.Wistia._visitorTracking = {}, i.Wistia._visitorTracking[i.Wistia._visitorTrackingDomain] = { isEnabled: l, updatedAt: Date.now() }, (0, o.updateWistiaLocalStorage)(function (t) { return t.visitorTracking = i.Wistia._visitorTracking })), i.Wistia._visitorTracking = (0, o.getWistiaLocalStorage)().visitorTracking || {}); i.Wistia.consent = function (t) { return t == null ? c() : u(t) }; var u = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : i.Wistia._visitorTrackingDomain; t === 'default' ? delete i.Wistia._visitorTracking[e] : i.Wistia._visitorTracking[e] = { isEnabled: ''.concat(t) === 'true', updatedAt: Date.now() }, (0, o.updateWistiaLocalStorage)(function (t) { return t.visitorTracking = i.Wistia._visitorTracking }), (0, r.globalTrigger)('visitortrackingchange', t) }; var c = function () { if (typeof i.Wistia._visitorTracking === 'boolean') return i.Wistia._visitorTracking; if (i.Wistia._visitorTracking) { const t = (function () { if (i.Wistia._visitorTrackingDomain) for (let t = i.Wistia._visitorTrackingDomain.split('.'); t.length > 0;) { const e = i.Wistia._visitorTracking[t.join('.')]; const n = e && e.isEnabled; if (n != null) return n; t.shift() } }()); if (t != null) return Boolean(t) } const e = []; if (i.Wistia.api && i.Wistia.api.all) try { e.push.apply(e, a(i.Wistia.api.all())) } catch (t) {} if (i.Wistia.channel && i.Wistia.channel.all) try { e.push.apply(e, a(i.Wistia.channel.all())) } catch (t) {} return !e.some(function (t) { return !0 === (t._mediaData || t._galleryData || {}).privacyMode }) } }, (t, e, n) => { n.d(e, { getWistiaLocalStorage: () => a, removeWistiaLocalStorage: () => s, updateWistiaLocalStorage: () => l }); const i = n(3); const r = n(31); const o = 'wistia'; var a = function () { return (0, r.getLocalStorage)(o) }; var s = function () { return i.Wistia._localStorage = (0, r.removeLocalStorage)(o), i.Wistia._localStorage }; var l = function (t) { return i.Wistia._localStorage = (0, r.updateLocalStorage)(o, t), i.Wistia._localStorage } }, (t, e, n) => { n.d(e, { getLocalStorage: () => l, removeLocalStorage: () => u, setLocalStorage: () => c, updateLocalStorage: () => h }); const i = n(3); const r = function (t) { setTimeout(function () { throw t }, 0) }; const o = '_namespacedLocalStorage'; const a = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'wistia-test-localstorage'; if (i.Wistia._localStorageWorks != null) return i.Wistia._localStorageWorks; try { const e = localStorage.getItem(t); localStorage.removeItem(t), localStorage.setItem(t, e), localStorage.removeItem(t), i.Wistia._localStorageWorks = !0 } catch (t) { i.Wistia._localStorageWorks = !1 } return i.Wistia._localStorageWorks }; const s = function () { return i.Wistia[o] == null && (i.Wistia[o] = {}), i.Wistia[o] }; var l = function (t) { if (!a()) return s()[t] || {}; if (localStorage[t]) try { return localStorage[t] === 'null' ? {} : JSON.parse(localStorage[t]) } catch (t) { r(t) } return {} }; var u = function (t) { if (a()) try { localStorage.removeItem(t) } catch (t) { r(t) } else s()[t] = {} }; var c = function (t, e) { if (!a()) return e != null && typeof e === 'object' && (s()[t] = e), e; try { s()[t] = e, localStorage[t] = JSON.stringify(e) } catch (t) { r(t) } return e }; var h = function (t, e) { const n = l(t); try { e(n) } catch (t) { r(t) } return c(t, n) } },, (t, e, n) => { n.d(e, { interFontFamily: () => i, interNumbersSemiBold: () => r }); var i = 'WistiaPlayerInter, Helvetica, Sans-Serif'; var r = 'WistiaPlayerInterNumbersSemiBold, Helvetica, Sans-Serif' },, (t, e, n) => { function i (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function r (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? i(Object(n), !0).forEach(function (e) { o(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : i(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function o (t, e, n) { return (e = (function (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(e))) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t }n.d(e, { standardSvgAttrs: () => a }); var a = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; const e = t.width; const n = t.height; const i = t.styleOverride; const o = void 0 === i ? {} : i; const a = t.ariaHidden; const s = void 0 !== a && a; return { x: '0px', y: '0px', viewBox: '0 0 '.concat(e, ' ').concat(n), 'enable-background': 'new 0 0 '.concat(e, ' ').concat(n), 'aria-hidden': ''.concat(!!s), style: r({ fill: '#ffffff', height: '100%', left: 0, strokeWidth: 0, top: 0, width: '100%' }, o) } } },, (t, e, n) => { n.d(e, { isMouseDown: () => u, isMouseDownRecently: () => c }); const i = n(3); const r = n(5); const o = (0, n(11).cachedDetect)(); if (i.Wistia._isMouseDown == null) { i.Wistia._isMouseDown = !1; const a = function (t) { i.Wistia._isMouseDown = !0, i.Wistia._lastMouseDownAt = Date.now(), setTimeout(function () { t.defaultPrevented && (i.Wistia._isMouseDown = !1) }, 0) }; const s = function () { i.Wistia._lastMouseUpAt = Date.now(), setTimeout(function () { i.Wistia._isMouseDown = !1 }, 0) }; o.touchScreen ? ((0, r.elemBind)(document, 'touchstart', a, !0), (0, r.elemBind)(document, 'touchend', function () { i.Wistia._lastMouseUpAt = Date.now(), setTimeout(function () { i.Wistia._isMouseDown = !1 }, 0) }, !0)) : ((0, r.elemBind)(document, 'mousedown', a, !0), (0, r.elemBind)(document, 'mouseup', s, !0)); const l = o.windows ? s : a; (0, r.elemBind)(document, 'contextmenu', l, !0) } var u = function () { return i.Wistia._mouseDownForceReturnVal != null ? i.Wistia._mouseDownForceReturnVal : i.Wistia._isMouseDown }; var c = function () { return i.Wistia._mouseDownForceReturnVal != null ? i.Wistia._mouseDownForceReturnVal : (t = 500, Math.max(i.Wistia._lastMouseDownAt || 0, (i.Wistia._lastMouseUpAt || 0) - 1) > Date.now() - t); let t } }, (t, e, n) => { n.d(e, { defineTranslations: () => d, getDefaultTranslation: () => m, getLanguage: () => h, getTranslation: () => y }); const i = n(3); const r = n(6); const o = n(39); const a = i.Wistia.languages = i.Wistia.languages || {}; const s = i.Wistia.translations = i.Wistia.translations || {}; i.Wistia._translationPromises || (i.Wistia._translationPromises = {}); let l; const u = ['ar', 'de', 'es', 'en-US', 'fr', 'it', 'ja', 'ko', 'pt', 'ru', 'zh-CN']; const c = function (t, e, n) { a[t] = { code: t, text: f(e) }, n && d(t, n) }; var h = function (t) { return a[t] }; var d = function (t, e) { if (a[t] == null) throw new Error('Must define a language with code '.concat(t, ' before defining its translations.')); const n = s[t]; n ? (0, r.merge)(n, e) : s[t] = (0, r.clone)(e) }; const p = i.Wistia.cachedDecodings = i.Wistia.cachedDecodings || {}; var f = function (t) { return l || (l = document.createElement('textarea')), p[t] != null ? p[t] : (l.innerHTML = t, p[t] = l.value, l.value) }; var y = function (t, e) { let n; return n = s[t] && s[t][e] ? s[t][e] : s['en-US'][e], f(function (t) { return t == null ? '?' : t }(n)) }; const v = function () { return navigator.languages || navigator.language ? i.Wistia.languagePreference = navigator.languages || [navigator.language] : i.Wistia.languagePreference = ['en-US'], i.Wistia.languagePreference }; var m = function () { let t = (function () { return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : v)().reduce(function (t, e) { const n = u.indexOf(e) !== -1; const i = e.split('-')[0]; const r = u.indexOf(i) !== -1; return n ? t.push(e) : r && t.push(i), t }, []) }())[0]; return t && t !== 'en' || (t = 'en-US'), s[t] ? Promise.resolve({ code: t, translations: s[t] }) : (function (t) { if (i.Wistia._translationPromises[t]) return i.Wistia._translationPromises[t]; const e = new Promise(function (e, n) { (0, o.dynamicImport)(['assets/external/translations/'.concat(t, '.js')]).then(function (n) { const i = n.languageCode; const r = n.languageLabel; const o = n.translations; c(i, r, o), e({ code: t, translations: o[t] }) }).catch(n) }); return i.Wistia._translationPromises[t] = e, e }(t)) }; c('en-US', 'English'), d('en-US', { PLAY: 'Play', PLAY_BUTTON_LIVE_NOT_STARTED: 'Livestream has not started', PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING: 'Play Video', PLAY_BUTTON_TITLE_WHEN_PLAYING: 'Pause', REWATCH: 'Rewatch', SKIP: 'Skip' }) }, (t, e, n) => { n.d(e, { dynamicImport: () => a }); const i = n(23); function r () { r = function () { return e }; let t; var e = {}; const n = Object.prototype; const i = n.hasOwnProperty; const o = Object.defineProperty || function (t, e, n) { t[e] = n.value }; const a = typeof Symbol === 'function' ? Symbol : {}; const s = a.iterator || '@@iterator'; const l = a.asyncIterator || '@@asyncIterator'; const u = a.toStringTag || '@@toStringTag'; function c (t, e, n) { return Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { c({}, '') } catch (t) { c = function (t, e, n) { return t[e] = n } } function h (t, e, n, i) { const r = e && e.prototype instanceof g ? e : g; const a = Object.create(r.prototype); const s = new x(i || []); return o(a, '_invoke', { value: T(t, n, s) }), a } function d (t, e, n) { try { return { type: 'normal', arg: t.call(e, n) } } catch (t) { return { type: 'throw', arg: t } } }e.wrap = h; const p = 'suspendedStart'; const f = 'suspendedYield'; const y = 'executing'; const v = 'completed'; const m = {}; function g () {} function b () {} function _ () {} let w = {}; c(w, s, function () { return this }); const P = Object.getPrototypeOf; const O = P && P(P(B([]))); O && O !== n && i.call(O, s) && (w = O); const k = _.prototype = g.prototype = Object.create(w); function S (t) { ['next', 'throw', 'return'].forEach(function (e) { c(t, e, function (t) { return this._invoke(e, t) }) }) } function E (t, e) { function n (r, o, a, s) { const l = d(t[r], t, o); if (l.type !== 'throw') { const u = l.arg; const c = u.value; return c && typeof c === 'object' && i.call(c, '__await') ? e.resolve(c.__await).then(function (t) { n('next', t, a, s) }, function (t) { n('throw', t, a, s) }) : e.resolve(c).then(function (t) { u.value = t, a(u) }, function (t) { return n('throw', t, a, s) }) }s(l.arg) } let r; o(this, '_invoke', { value: function (t, i) { function o () { return new e(function (e, r) { n(t, i, e, r) }) } return r = r ? r.then(o, o) : o() } }) } function T (e, n, i) { let r = p; return function (o, a) { if (r === y) throw new Error('Generator is already running'); if (r === v) { if (o === 'throw') throw a; return { value: t, done: !0 } } for (i.method = o, i.arg = a; ;) { const s = i.delegate; if (s) { const l = C(s, i); if (l) { if (l === m) continue; return l } } if (i.method === 'next')i.sent = i._sent = i.arg; else if (i.method === 'throw') { if (r === p) throw r = v, i.arg; i.dispatchException(i.arg) } else i.method === 'return' && i.abrupt('return', i.arg); r = y; const u = d(e, n, i); if (u.type === 'normal') { if (r = i.done ? v : f, u.arg === m) continue; return { value: u.arg, done: i.done } }u.type === 'throw' && (r = v, i.method = 'throw', i.arg = u.arg) } } } function C (e, n) { const i = n.method; const r = e.iterator[i]; if (r === t) return n.delegate = null, i === 'throw' && e.iterator.return && (n.method = 'return', n.arg = t, C(e, n), n.method === 'throw') || i !== 'return' && (n.method = 'throw', n.arg = new TypeError("The iterator does not provide a '" + i + "' method")), m; const o = d(r, e.iterator, n.arg); if (o.type === 'throw') return n.method = 'throw', n.arg = o.arg, n.delegate = null, m; const a = o.arg; return a ? a.done ? (n[e.resultName] = a.value, n.next = e.nextLoc, n.method !== 'return' && (n.method = 'next', n.arg = t), n.delegate = null, m) : a : (n.method = 'throw', n.arg = new TypeError('iterator result is not an object'), n.delegate = null, m) } function A (t) { const e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function j (t) { const e = t.completion || {}; e.type = 'normal', delete e.arg, t.completion = e } function x (t) { this.tryEntries = [{ tryLoc: 'root' }], t.forEach(A, this), this.reset(!0) } function B (e) { if (e || e === '') { const n = e[s]; if (n) return n.call(e); if (typeof e.next === 'function') return e; if (!isNaN(e.length)) { let r = -1; const o = function n () { for (;++r < e.length;) if (i.call(e, r)) return n.value = e[r], n.done = !1, n; return n.value = t, n.done = !0, n }; return o.next = o } } throw new TypeError(typeof e + ' is not iterable') } return b.prototype = _, o(k, 'constructor', { value: _, configurable: !0 }), o(_, 'constructor', { value: b, configurable: !0 }), b.displayName = c(_, u, 'GeneratorFunction'), e.isGeneratorFunction = function (t) { const e = typeof t === 'function' && t.constructor; return !!e && (e === b || (e.displayName || e.name) === 'GeneratorFunction') }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, _) : (t.__proto__ = _, c(t, u, 'GeneratorFunction')), t.prototype = Object.create(k), t }, e.awrap = function (t) { return { __await: t } }, S(E.prototype), c(E.prototype, l, function () { return this }), e.AsyncIterator = E, e.async = function (t, n, i, r, o) { void 0 === o && (o = Promise); const a = new E(h(t, n, i, r), o); return e.isGeneratorFunction(n) ? a : a.next().then(function (t) { return t.done ? t.value : a.next() }) }, S(k), c(k, u, 'Generator'), c(k, s, function () { return this }), c(k, 'toString', function () { return '[object Generator]' }), e.keys = function (t) { const e = Object(t); const n = []; for (const i in e)n.push(i); return n.reverse(), function t () { for (;n.length;) { const i = n.pop(); if (i in e) return t.value = i, t.done = !1, t } return t.done = !0, t } }, e.values = B, x.prototype = { constructor: x, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = 'next', this.arg = t, this.tryEntries.forEach(j), !e) for (const n in this)n.charAt(0) === 't' && i.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t) }, stop: function () { this.done = !0; const t = this.tryEntries[0].completion; if (t.type === 'throw') throw t.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; const n = this; function r (i, r) { return s.type = 'throw', s.arg = e, n.next = i, r && (n.method = 'next', n.arg = t), !!r } for (let o = this.tryEntries.length - 1; o >= 0; --o) { const a = this.tryEntries[o]; var s = a.completion; if (a.tryLoc === 'root') return r('end'); if (a.tryLoc <= this.prev) { const l = i.call(a, 'catchLoc'); const u = i.call(a, 'finallyLoc'); if (l && u) { if (this.prev < a.catchLoc) return r(a.catchLoc, !0); if (this.prev < a.finallyLoc) return r(a.finallyLoc) } else if (l) { if (this.prev < a.catchLoc) return r(a.catchLoc, !0) } else { if (!u) throw new Error('try statement without catch or finally'); if (this.prev < a.finallyLoc) return r(a.finallyLoc) } } } }, abrupt: function (t, e) { for (let n = this.tryEntries.length - 1; n >= 0; --n) { const r = this.tryEntries[n]; if (r.tryLoc <= this.prev && i.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var o = r; break } }o && (t === 'break' || t === 'continue') && o.tryLoc <= e && e <= o.finallyLoc && (o = null); const a = o ? o.completion : {}; return a.type = t, a.arg = e, o ? (this.method = 'next', this.next = o.finallyLoc, m) : this.complete(a) }, complete: function (t, e) { if (t.type === 'throw') throw t.arg; return t.type === 'break' || t.type === 'continue' ? this.next = t.arg : t.type === 'return' ? (this.rval = this.arg = t.arg, this.method = 'return', this.next = 'end') : t.type === 'normal' && e && (this.next = e), m }, finish: function (t) { for (let e = this.tryEntries.length - 1; e >= 0; --e) { const n = this.tryEntries[e]; if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), j(n), m } }, catch: function (t) { for (let e = this.tryEntries.length - 1; e >= 0; --e) { const n = this.tryEntries[e]; if (n.tryLoc === t) { const i = n.completion; if (i.type === 'throw') { var r = i.arg; j(n) } return r } } throw new Error('illegal catch attempt') }, delegateYield: function (e, n, i) { return this.delegate = { iterator: B(e), resultName: n, nextLoc: i }, this.method === 'next' && (this.arg = t), m } }, e } function o (t, e, n, i, r, o, a) { try { var s = t[o](a); var l = s.value } catch (t) { return void n(t) }s.done ? e(l) : Promise.resolve(l).then(i, r) } var a = (function () { let t; const e = (t = r().mark(function t (e) { let n; let o; const a = arguments; return r().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:o = (n = (a.length > 1 && void 0 !== a[1] ? a[1] : {}).host) !== null && void 0 !== n ? n : (0, i.eV1HostWithPort)(), t.next = 5; break; case 5:return t.abrupt('return', import(''.concat((0, i.eV1Protocol)(), '//').concat(o, '/').concat(e))); case 6:case 'end':return t.stop() } }, t) }), function () { const e = this; const n = arguments; return new Promise(function (i, r) { const a = t.apply(e, n); function s (t) { o(a, i, r, s, l, 'next', t) } function l (t) { o(a, i, r, s, l, 'throw', t) }s(void 0) }) }); return function (t) { return e.apply(this, arguments) } }()) },,,,,, (t, e, n) => { n.d(e, { base64Decode: () => s, base64Encode: () => l, parentFramesLength: () => u, poll: () => r.poll, throttle: () => o.throttle, unescapeHtml: () => a.unescapeHtml }); const i = n(3); var r = n(9); var o = n(46); var a = n(47); var s = function (t) { return decodeURIComponent(atob(t).split('').map(function (t) { return '%'.concat('00'.concat(t.charCodeAt(0).toString(16)).slice(-2)) }).join('')) }; var l = function (t) { return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g, function (t, e) { return String.fromCharCode('0x'.concat(e)) })) }; var u = function () { try { return parent.frames.length } catch (t) { return i.Wistia.warn(t), 1 } } }, (t, e, n) => { n.d(e, { throttle: () => i }); var i = function (t, e) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; let i = null; let r = null; let o = null; let a = null; let s = 0; const l = function () { s = !1 === n.leading ? 0 : (new Date()).getTime(), a = null, o = e.apply(i, r), a || (i = r = null) }; return function () { const u = (new Date()).getTime(); s || !1 !== n.leading || (s = u); const c = t - (u - s); return i = this, r = arguments, c <= 0 || c > t ? (clearTimeout(a), a = null, s = u, o = e.apply(i, r), a || (i = r = null)) : a || !1 === n.trailing || (a = setTimeout(l, c)), o } } }, (t, e, n) => { n.d(e, { unescapeHtml: () => r }); const i = {}; var r = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (!t) return ''; if (e.cache) { const n = i[t]; if (i[t]) return n } let r; const o = document.createElement('div'); return o.innerHTML = t.toString().replace(/</g, '&lt;').replace(/>/g, '&gt;'), r = o.childNodes.length > 0 ? o.childNodes[0].nodeValue : '', e.cache && (i[t] = r), r } },, (t, e, n) => { n.d(e, { globalEventLoop: () => l }); const i = n(12); const r = n(3); const o = i.wlog.getPrefixedFunctions('event_loop'); const a = function () { const t = this; const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; this._timeoutId = null, this._latency = e.latency != null ? e.latency : 100, this._blurLatency = e.blurLatency != null ? e.blurLatency : 2e3, this._functions = {}, this._paused = {}, window.addEventListener('blur', function () { return t.blur() }, !1), window.addEventListener('focus', function () { return t.focus() }, !1), this.start() }; const s = a.prototype; s.start = function () { const t = this; clearTimeout(this._timeoutId), this._loopFn = this._loopFn || function () { t.runFunctions(), t._timeoutId = setTimeout(t._loopFn, t._latency) }, this._loopFn() }, s.resync = function () { this.start() }, s.resyncNextTick = function () { const t = this; setTimeout(function () { t.resync() }, 0) }, s.stop = function () { clearTimeout(this._timeoutId) }, s.clear = function () { this._functions = {} }, s.runFunctions = function () { this._pausedDirty && this.updatePaused(); const t = []; for (const e in this._functions) { const n = this._functions[e]; const i = (new Date()).getTime(); const r = i - n.lastRanAt; if (!n.paused && r >= n.interval) { n.lastRanAt = i; try { n.fn() === this.remove && t.push(e) } catch (t) { o.error(t) } } } for (let a = 0; a < t.length; a++) this.remove(t[a]) }, s.add = function (t, e, n) { const i = (new Date()).getTime(); this._functions[t] = { addedAt: i, lastRanAt: -1, interval: e, fn: n }; const r = n(); this._functions[t] && (this._functions[t].lastRanAt = (new Date()).getTime()), this._functions[t] && r === this.remove ? delete this._functions[t] : this._pausedDirty = !0 }, s.remove = function (t) { const e = this; this.forEachMatchingKey(t, function (t) { delete e._functions[t] }) }, s.forEachMatchingKey = function (t, e) { for (const n in this._functions) { const i = this._functions[n]; this.key1IncludesKey2(t, n) && e(n, i) } }, s.latency = function (t) { if (t == null) return this._latency; this._latency = t }, s.interval = function (t, e) { if (e == null) return this._functions[t].interval; this._functions[t] == null ? o.notice('setting interval of ', t, 'to', e, 'failed because', t, 'is not defined') : this._functions[t].interval = e }, s.pause = function (t) { this._paused[t] = !0, this._pausedDirty = !0 }, s.unpause = function (t) { this._paused[t] = !1, this._pausedDirty = !0 }, s.isPaused = function (t) { for (const e in this.paused) { if (this._paused[e] && this.key1IncludesKey2(e, t)) return !0 } return !1 }, s.updatePaused = function () { for (const t in this._functions) { this._functions[t].paused = this.isPaused(t) } this._pausedDirty = !1 }, s.key1IncludesKey2 = function (t, e) { return typeof e.indexOf === 'function' && e.indexOf(t) === 0 && (e.length === t.length || e.charAt(t.length) === '.') }, s.blur = function () { this._blurred || (this._blurred = !0, this._savedLatency = this._latency, this._latency = this._blurLatency) }, s.focus = function () { this._blurred && (this._blurred = !1, this._latency = this._savedLatency, this.resync()) }, r.Wistia.eventLoop == null && (r.Wistia.eventLoop = new a({ latency: 100, blurLatency: 100 })); var l = r.Wistia.eventLoop },, (t, e, n) => { n.d(e, { embedOptionsFromQueryParams: () => s }); const i = n(24); const r = n(6); const o = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; const a = /^w_([^&]+)/; var s = function (t, e) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : a; e || (e = top !== self ? document.referrer || '' : location.href || ''); const s = new i.Url(e).params || {}; const l = {}; for (const u in s) if (o(s, u)) { const c = u.match(n); if (c) { const h = c[1]; (0, r.indexOf)(t, h) >= 0 && (l[h] = s[u]) } } return l } },,,,, (t, e, n) => { n.d(e, { cssResetForSelector: () => u }); const i = n(7); const r = { 'background-attachment': 'scroll', 'background-color': 'transparent', 'background-image': 'none', 'background-position': '0 0', 'background-repeat': 'no-repeat', 'background-size': '100% 100%' }; const o = { 'box-sizing': 'inherit', 'box-shadow': 'none', color: 'inherit', display: 'block', float: 'none', font: 'inherit', 'font-family': 'inherit', 'font-style': 'normal', 'font-weight': 'normal', 'font-size': 'inherit', 'letter-spacing': 0, 'line-height': 'inherit', margin: 0, 'max-height': 'none', 'max-width': 'none', 'min-height': 0, 'min-width': 0, padding: 0, position: 'static', 'text-decoration': 'none', 'text-transform': 'none', 'text-shadow': 'none', transition: 'none', 'word-wrap': 'normal', '-webkit-tap-highlight-color': 'rgba(0,0,0,0)', '-webkit-user-select': 'none', '-webkit-font-smoothing': 'antialiased' }; const a = { border: 0, 'border-radius': 0, outline: 'none', position: 'static' }; const s = function (t) { const e = []; for (const n in t) { const i = t[n]; e.push(''.concat(n, ':').concat(i)) } return e.join(';') }; const l = '\n&{font-size:14px;}\ndiv,span,ul,li,label,fieldset,button,img,a,svg,p{'.concat(s(o), '}\na{border:0;}\nh1{').concat(s((0, i.assign)({}, o, { 'font-size': '2em' })), '}\nh2{').concat(s((0, i.assign)({}, o, { 'font-size': '1.5em' })), '}\nh3{').concat(s((0, i.assign)({}, o, { 'font-size': '1.17em' })), '}\np{margin:1.4em 0;}\na,span,svg{display:inline;}\nul,ol,li{').concat(s((0, i.assign)({}, o, { 'list-style-type': 'none', position: 'static' })), '}\nul:before,ol:before,li:before{display:none}\nul:after,ol:after,li:after{display:none}\nlabel{').concat(s((0, i.assign)({}, r, { float: 'none', outline: 'none' })), '}\nbutton{').concat(s((0, i.assign)({}, r, a)), '}\nimg{').concat(s((0, i.assign)({}, { border: 0, display: 'inline-block', 'vertical-align': 'top' }, a)), '}\nbutton::-moz-focus-inner{border: 0;}\n'); var u = function (t, e) { return l.trim().split(/\n+/).map(function (n) { return (function (t, e, n) { const i = n.indexOf('{'); const r = n.substring(0, i); const o = n.substring(i, n.length); return r.split(/,\s*/).map(function (n) { return n.indexOf('&') >= 0 ? ''.concat(n.replace(/&/g, t)).concat(e).concat(o) : n.indexOf('::') >= 0 ? ''.concat(t).concat(e, ' ').concat(n).concat(o) : ''.concat(t).concat(n).concat(e).concat(o) }).join('\n') }(t, e, n)) }).join('\n') } }, (t, e, n) => { n.d(e, { CustomEventsWrapper: () => y }); const i = n(2); const r = n(11); const o = n(58); function a () { return a = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, a.apply(this, arguments) } function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, p(i.key), i) } } function l (t, e) { return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, l(t, e) } function u (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = h(t); if (e) { const r = h(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return c(t) }(this, n)) } } function c (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function h (t) { return h = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, h(t) } function d (t, e, n) { return (e = p(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function p (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const f = (0, r.cachedDetect)(); var y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && l(t, e) }(p, t)); let e; let n; let r; const h = u(p); function p () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)); for (var e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; return d(c(t = h.call.apply(h, [this].concat(n))), 'onSwipe', function (e, n) { const i = t.props.onSwipe; i && i(e, n) }), d(c(t), 'onPinch', function (e, n) { const i = t.props.onPinch; i && i(e, n) }), d(c(t), 'onLongPress', function (e, n) { const i = t.props.onLongPress; i && i(e, n) }), d(c(t), 'onCustomTouchMove', function (e, n) { const i = t.props.onCustomTouchMove; i && i(e, n) }), t } return e = p, (n = [{ key: 'render', value: function () { const t = this.props.tagName || 'div'; return (0, i.h)(t, a({}, this.props, { ref: this.props.elemRef }), this.props.children) } }, { key: 'componentDidMount', value: function () { this._savedBase = this.base, this.setupBindings() } }, { key: 'componentDidUpdate', value: function () { this.base !== this._savedBase && (this._savedBase = this.base, this.destroyBindings(), this.setupBindings()) } }, { key: 'componentWillUnmount', value: function () { this.destroyBindings() } }, { key: 'setupBindings', value: function () { if (this.unbinds = [], f.touchScreen) { const t = this.touchEvents = new o.default(this.base); t.on('swipe', this.onSwipe), t.on('pinch', this.onPinch), t.on('longpress', this.onLongPress), t.on('touchmove', this.onCustomTouchMove) } } }, { key: 'destroyBindings', value: function () { this.touchEvents && (this.touchEvents.destroy(), this.touchEvents = null), this.unbinds && (this.unbinds.map(function (t) { return t() }), this.unbinds = null) } }]) && s(e.prototype, n), r && s(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(i.Component)) }, (t, e, n) => { n.d(e, { default: () => c }); n(3); const i = n(15); const r = n(5); function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, s(i.key), i) } } function a (t, e, n) { return (e = s(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function s (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const l = (0, n(11).cachedDetect)(); const u = (function () { function t (e) { const n = this; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), a(this, 'onTouchStart', function (t) { n.rootWidth = (0, r.elemWidth)(n.rootElem), n.rootHeight = (0, r.elemHeight)(n.rootElem), n.rootOffset = (0, r.elemOffset)(n.rootElem), n.resetTouchContext(), t.touches[0] && (n.xDown = t.touches[0].clientX, n.yDown = t.touches[0].clientY), n.updatePinch(t), t.touches.length == 2 && n.touchesAreInsideRootElem() && t.preventDefault(), n.startedAt = Date.now(), (0, r.elemBind)(document, 'touchmove', n.onTouchMoveDocument, { passive: !1 }), (0, r.elemBind)(document, 'touchend', n.onTouchEndDocument), (0, r.elemBind)(n.rootElem, 'touchmove', n.onTouchMove, { passive: !1 }), (0, r.elemBind)(n.rootElem, 'touchend', n.onTouchEnd); const e = n.getTouchContext(t); n.trigger('touchstart', t, e), n.maybeTriggerMoreSpecificEvent(t, e) }), a(this, 'onTouchMove', function (t) { t._handledByTouchMove = !0; const e = t.touches[0].clientX; const i = t.touches[0].clientY; (n.xDiff = n.xDown - e, n.yDiff = n.yDown - i, n.updatePinch(t), n.isPinch) || (Math.sqrt(n.xDiff * n.xDiff + n.yDiff * n.yDiff) > 25 || Date.now() - n.startedAt > 300) && (n.isSwipe = !0); const r = n.getTouchContext(t); n.trigger('touchmove', t, r), n.maybeTriggerMoreSpecificEvent(t, r) }), a(this, 'onTouchMoveDocument', function (t) { t._handledByTouchMove || n.onTouchMove(t) }), a(this, 'onTouchEnd', function (t) { t._handledByTouchEnd = !0; const e = n.getTouchContext(t); n.trigger('touchend', t, e), n.maybeTriggerMoreSpecificEvent(t, e), setTimeout(function () { n.resetTouchContext(), n.unbindTouchEndAndTouchMove() }, 0) }), a(this, 'onTouchEndDocument', function (t) { t._handledByTouchEnd || n.onTouchEnd(t) }), this.rootElem = e, this.xDown = this.yDown = null, this.xDiff = this.yDiff = 0, this.isSwipe = !1, this.isPinch = !1, this.startedAt = null, this.initialPinchDistance = null, this.touch1 = this.touch2 = null, this.pinchDistance = 0, this.pinchScale = 0, (0, r.elemBind)(e, 'touchstart', this.onTouchStart, !!l.passiveSupported && { passive: !1 }) } let e, n, i; return e = t, (n = [{ key: 'updatePinch', value: function (t) { const e = this.rootOffset; return t.touches.length === 2 ? (this.touch1 = { left: t.touches[0].pageX - e.left, top: t.touches[0].pageY - e.top }, this.touch2 = { left: t.touches[1].pageX - e.left, top: t.touches[1].pageY - e.top }, this.pinchDistance = Math.sqrt(Math.pow(this.touch1.left - this.touch2.left, 2), Math.pow(this.touch1.top - this.touch2.top, 2)), this.initialPinchDistance == null && (this.initialPinchDistance = this.pinchDistance), this.pinchScale = this.pinchDistance / this.initialPinchDistance, this.pinchDelta = this.pinchDistance - this.initialPinchDistance, this.isPinch = !0, this.pinchScale) : 0 } }, { key: 'getTouchContext', value: function (t) { const e = this.rootOffset; const n = Date.now() - this.startedAt; const i = Object(t.touches[0]); return { xOffset: i.pageX - e.left, yOffset: i.pageY - e.top, xDelta: this.xDiff, yDelta: this.yDiff, absXDelta: Math.abs(this.xDiff), absYDelta: Math.abs(this.yDiff), delta: Math.sqrt(this.xDiff * this.xDiff + this.yDiff * this.yDiff), startedAt: this.startedAt, isSwipe: !this.isPinch && this.isSwipe, isTap: n < 1e3 && !this.isPinch && !this.isSwipe, isLongPress: n >= 1e3 && !this.isPinch && !this.isSwipe, isPinch: this.isPinch, timeDelta: n, pinchScale: this.pinchScale, pinchDistance: this.pinchDistance } } }, { key: 'touchIsInsideRootElem', value: function (t) { return t.left >= 0 && t.left < this.rootWidth && t.top >= 0 && t.top < this.rootHeight } }, { key: 'touchesAreInsideRootElem', value: function () { return this.touchIsInsideRootElem(this.touch1) && this.touchIsInsideRootElem(this.touch2) } }, { key: 'resetTouchContext', value: function () { this.xDown = this.yDown = null, this.xDiff = this.yDiff = 0, this.isSwipe = !1, this.isPinch = !1, this.startedAt = null, this.pinchDelta = 0, this.pinchDistance = 0, this.initialPinchDistance = null, this.touch1 = this.touch2 = null } }, { key: 'maybeTriggerMoreSpecificEvent', value: function (t, e) { e.isLongPress ? this.trigger('longpress', t, e) : e.isTap ? this.trigger('tap', t, e) : e.isSwipe ? this.trigger('swipe', t, e) : e.isPinch && this.trigger('pinch', t, e) } }, { key: 'destroy', value: function () { (0, r.elemUnbind)(this.rootElem, 'touchstart', this.onTouchStart), this.unbindTouchEndAndTouchMove(), this.rootElem = null } }, { key: 'unbindTouchEndAndTouchMove', value: function () { (0, r.elemUnbind)(document, 'touchmove', this.onTouchMoveDocument), (0, r.elemUnbind)(document, 'touchend', this.onTouchEndDocument), (0, r.elemUnbind)(this.rootElem, 'touchmove', this.onTouchMove), (0, r.elemUnbind)(this.rootElem, 'touchend', this.onTouchEnd) } }]) && o(e.prototype, n), i && o(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()); (0, i.bindify)(u.prototype); const c = u }, (t, e, n) => { n.d(e, { RawHTMLStub: () => l }); const i = n(2); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function o (t, e) { return o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, o(t, e) } function a (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = s(t); if (e) { const r = s(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function s (t) { return s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, s(t) } var l = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && o(t, e) }(u, t)); let e; let n; let s; const l = a(u); function u () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, u)), l.apply(this, arguments) } return e = u, (n = [{ key: 'shouldComponentUpdate', value: function () { return !1 } }, { key: 'render', value: function () { const t = this.props; return (0, i.h)('div', { class: t.class || 'w-html-stub', style: t.style, ref: t.stubRef, 'data-handle': t.handle }) } }, { key: 'componentDidMount', value: function () { const t = this.props.mount; t && t(this.base) } }, { key: 'componentWillUnmount', value: function () { const t = this.props.destroy; t && t() } }]) && r(e.prototype, n), s && r(e, s), Object.defineProperty(e, 'prototype', { writable: !1 }), u }(i.Component)) }, (t, e, n) => { n.d(e, { destroyControl: () => s }); n(7); const i = n(11); const r = (n(61), n(5)); const o = n(2); const a = (n(20), n(62), function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }); var s = ((0, i.cachedDetect)(), function (t) { t._destroyed = !0, (function (t) { t.unbinds instanceof Array && (t.unbinds.forEach(function (t) { try { typeof t === 'function' && t() } catch (t) { setTimeout(function () { throw t }, 1) } }), t.unbinds = null) }(t)), (function (t) { t.eventListeners instanceof Map && (t.eventListeners.forEach(function (e, n) { try { typeof e === 'function' && t.embedElement.removeEventListener(n, e) } catch (t) { setTimeout(function () { throw t }, 1) } }), t.eventListeners.clear()) }(t)), l(t), c(t), h(t) }); var l = function (t) { t.rootElem && (0, r.elemRemove)(Array.prototype.slice.call(t.rootElem.childNodes)) }; const u = function (t) { const e = t[0]; const n = t[1]; e && n && (0, o.render)((0, o.h)('nothing', null), e) }; var c = function (t) { const e = t.reactMounts; if (e) if (e instanceof Array)u(e); else for (const n in e)a(e, n) && e[n] && u(e[n]) }; var h = function (t) { for (const e in t)a(t, e) && ((n = e)[0] !== '_' || n[1] !== '_') && e !== 'mounted' && (t[e] = null); let n; t.__prevProps = null, t._destroyed = !0 } }, (t, e, n) => { n.r(e), n.d(e, { clearTimeouts: () => a, doTimeout: () => o }); const i = n(3); const r = n(6); i.Wistia; i.Wistia._timeouts == null && (i.Wistia._timeouts = {}); var o = function (t, e) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1; (0, r.isArray)(t) && (t = t.join('.')); const o = l(t); if (a(t, o), e) { let s = i.Wistia._timeouts[o]; s == null && (s = i.Wistia._timeouts[o] = {}); const u = setTimeout(function () { delete s[t], e() }, n); return s[t] = u, u } return i.Wistia._timeouts[o][t] }; var a = function (t) { let e; let n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null; if ((0, r.isArray)(t) && (t = t.join('.')), (n = n || l(t)) === '__global__' && (e = i.Wistia._timeouts[t])) for (const o in e) { const a = e[o]; clearTimeout(a), delete e[o] } if (e = i.Wistia._timeouts[n]) for (const u in e) { const c = e[u]; !u.indexOf || u.indexOf(t) !== 0 || u.length !== t.length && u.charAt(t.length) !== '.' || (clearTimeout(c), delete e[u]) }i.Wistia.blockSweepTimeouts || (i.Wistia.blockSweepTimeouts = !0, setTimeout(s, 0), setTimeout(function () { i.Wistia.blockSweepTimeouts = !1 }, 5e3)) }; var s = function () { for (const t in i.Wistia._timeouts) { const e = i.Wistia._timeouts[t]; (0, r.isEmpty)(e) && delete i.Wistia._timeouts[t] } }; var l = function (t) { const e = t.indexOf('.'); return e > 0 ? t.substring(0, e) : '__global__' } }, (t, e, n) => { n.d(e, { defineControl: () => o, getControlDefinitions: () => a }); const i = n(3); const r = n(28); i.Wistia._controlDefinitions == null && (i.Wistia._controlDefinitions = {}); var o = function (t) { t.handle != null ? i.Wistia._controlDefinitions[t.handle] == null && (i.Wistia._controlDefinitions[t.handle] = t, i.Wistia.trigger && i.Wistia.trigger('controldefined', t)) : console.error('Please specify a handle property for control', t) }; var a = function () { return i.Wistia._controlDefinitions || {} }; i.Wistia.defineControl = function (t) { (0, r.countMetric)('player/custom-control-definition', 1, { name: t.handle, location: location.origin + location.pathname }), o(t) } },,, (t, e, n) => { n.d(e, { accessibilityDuration: () => s, flexibleDuration: () => o, formattedDurationToSeconds: () => a, getSecondsRemaining: () => c, secondsConverter: () => u }); const i = n(66); const r = n(67); var o = function (t) { const e = u(t, 'hms'); const n = e.hours; const i = e.minutes; const r = e.seconds; return n === 0 ? ''.concat(i, ':').concat(l(r, 2)) : ''.concat(n, ':').concat(l(i, 2), ':').concat(l(r, 2)) }; var a = function (t) { if ((0, r.isNil)(t) || (0, r.isNumber)(t)) return t; try { const e = (0, i.parse)(t.toUpperCase()); return (0, i.toSeconds)(e) } catch (t) {} try { const n = (0, i.parse)('PT'.concat(t.toUpperCase())); return (0, i.toSeconds)(n) } catch (t) {} return t }; var s = function (t) { const e = u(t, 'hms'); const n = e.hours; const i = e.minutes; const r = e.seconds; const o = n === 0; const a = i === 0; if (o && a) return ''.concat(r, ' second').concat(r === 1 ? '' : 's'); const s = o ? '' : ''.concat(n, ' hour').concat(n === 1 ? '' : 's'); const l = a ? '' : ''.concat(i, ' minute').concat(n === 1 ? '' : 's'); return ''.concat(s, ' ').concat(l).trim() }; var l = function (t) { for (var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = ''.concat(t); n.length < e;)n = '0'.concat(n); return n }; var u = function (t, e) { let n = 0; let i = 0; let r = 0; const o = /h/.test(e); const a = /m/.test(e); return o && t > 0 && (n += Math.floor(t / 3600), t %= 3600), a && t > 0 && (i += Math.floor(t / 60), t %= 60), r = Math.round(t), o && i === 60 && (n += 1, i = 0), a && r === 60 && (i += 1, r = 0), { hours: n, minutes: i, seconds: r } }; var c = function (t, e) { return (e.getTime() - t.getTime()) / 1e3 } }, (t, e) => { e.toSeconds = e.end = e.parse = e.pattern = void 0; const n = '\\d+'; const i = ''.concat(n, '(?:[\\.,]').concat(n, ')?'); const r = '('.concat(n, 'Y)?(').concat(n, 'M)?(').concat(n, 'W)?(').concat(n, 'D)?'); const o = 'T('.concat(i, 'H)?(').concat(i, 'M)?(').concat(i, 'S)?'); const a = 'P(?:'.concat(r, '(?:').concat(o, ')?)'); const s = ['years', 'months', 'weeks', 'days', 'hours', 'minutes', 'seconds']; const l = Object.freeze({ years: 0, months: 0, weeks: 0, days: 0, hours: 0, minutes: 0, seconds: 0 }); e.pattern = new RegExp(a); e.parse = function (t) { const n = t.replace(/,/g, '.').match(e.pattern); if (!n) throw new RangeError('invalid duration: '.concat(t)); const i = n.slice(1); if (i.filter(function (t) { return t != null }).length === 0) throw new RangeError('invalid duration: '.concat(t)); if (i.filter(function (t) { return /\./.test(t || '') }).length > 1) throw new RangeError('only the smallest unit can be fractional'); return i.reduce(function (t, e, n) { return t[s[n]] = parseFloat(e || '0') || 0, t }, {}) }; e.end = function (t, e) { void 0 === e && (e = new Date()); const n = Object.assign({}, l, t); const i = e.getTime(); const r = new Date(i); r.setFullYear(r.getFullYear() + n.years), r.setMonth(r.getMonth() + n.months), r.setDate(r.getDate() + n.days); const o = 3600 * n.hours * 1e3; const a = 60 * n.minutes * 1e3; return r.setMilliseconds(r.getMilliseconds() + 1e3 * n.seconds + o + a), r.setDate(r.getDate() + 7 * n.weeks), r }; e.toSeconds = function (t, n) { void 0 === n && (n = new Date()); const i = Object.assign({}, l, t); const r = n.getTime(); const o = new Date(r); return ((0, e.end)(i, o).getTime() - o.getTime()) / 1e3 }, e.end, e.toSeconds, e.pattern, e.parse }, (t, e, n) => { n.d(e, { isNil: () => o, isNotNil: () => a, isNumber: () => s }); const i = t => t === null; const r = t => void 0 === t; const o = t => i(t) || r(t); const a = t => !o(t); const s = t => typeof t === 'number' },,,, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o }n.d(e, { Color: () => c }); const r = /^#?([0-9a-f]{3,4}|[0-9a-f]{6,8})$/i; const o = /^rgba?\((\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?),\s*(\d{1,3}(?:\.\d+)?%?)(?:,\s*([01]?\.?\d*))?\)$/; const a = /^\d+(\.\d+)*%$/; const s = /([0-9a-f])/gi; const l = function (t) { return a.test(t) ? 2.55 * parseFloat(t) : t }; const u = function (t, e, n) { return n < 0 && (n += 1), n > 1 && (n -= 1), n < 1 / 6 ? t + 6 * (e - t) * n : n < 0.5 ? e : n < 2 / 3 ? t + (e - t) * (2 / 3 - n) * 6 : t }; var c = (function () { function t (e) { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), e instanceof t ? (this.r = e.r, this.g = e.g, this.b = e.b, this.a = e.a) : e ? this.parse(e) : (this.r = this.g = this.b = 0, this.a = 1) } let e, n, a; return e = t, (n = [{ key: 'parse', value: function (t) { if (t = String(t), r.test(t)) { let e = t.replace(/^#/, ''); e.length !== 3 && e.length !== 4 || (e = e.replace(s, '$1$1')), this.r = parseInt(e.substr(0, 2), 16), this.g = parseInt(e.substr(2, 2), 16), this.b = parseInt(e.substr(4, 2), 16), e.length === 8 ? this.a = parseInt(e.substr(6, 2), 16) / 255 : this.a = 1 } else if (o.test(t)) { const n = t.match(o); this.r = parseFloat(l(n[1])), this.g = parseFloat(l(n[2])), this.b = parseFloat(l(n[3])), n[4] ? this.a = parseFloat(n[4]) : this.a = 1 } return this } }, { key: 'clone', value: function () { return new t(this) } }, { key: '_hslFromRgb', value: function () { const t = this.r / 255; const e = this.g / 255; const n = this.b / 255; const i = Math.max(t, e, n); const r = Math.min(t, e, n); const o = (i + r) / 2; i === r && (this._h = this._s = 0); let a; let s; const l = i - r; return l === 0 ? (this._h = 0, this._s = 0, this._l = 100 * t, this) : (a = o > 0.5 ? l / (2 - i - r) : l / (i + r), s = i === t ? (e - n) / l + (e < n ? 6 : 0) : i === e ? (n - t) / l + 2 : (t - e) / l + 4, s /= 6, this._h = 360 * s, this._s = 100 * a, this._l = 100 * o, this) } }, { key: '_rgbFromHsl', value: function () { const t = this._h / 360; const e = this._s / 100; const n = this._l / 100; const i = n < 0.5 ? n * (1 + e) : n + e - n * e; const r = 2 * n - i; return this.r = 255 * u(r, i, t + 1 / 3), this.g = 255 * u(r, i, t), this.b = 255 * u(r, i, t - 1 / 3), this } }, { key: 'blendChannel', value: function (t, e, n) { return this[t] = n * e + (1 - n) * this[t], this } }, { key: 'blend', value: function (e, n) { return e = new t(e), this.blendChannel('r', e.r, n), this.blendChannel('g', e.g, n), this.blendChannel('b', e.b, n), this } }, { key: 'lightenChannel', value: function (t, e) { return this[t] += e, this[t] < 0 ? this[t] = 0 : this[t] > 255 && (this[t] = 255), this } }, { key: 'lighten', value: function (t) { return this.looksLikePercent(t) ? this.lightness(this.lightness() + parseFloat(t)) : (this.lightenChannel('r', t), this.lightenChannel('g', t), this.lightenChannel('b', t)), this } }, { key: 'darken', value: function (t) { return typeof t === 'string' ? this.lighten('-'.concat(t)) : this.lighten(-t) } }, { key: 'looksLikePercent', value: function (t) { return /^-?\d+(\.\d+)?%$/.test(t) } }, { key: 'lightness', value: function (t) { return this._hslFromRgb(), t != null ? (this._l = Math.max(0, Math.min(100, t)), this._rgbFromHsl(), this) : this._l } }, { key: 'saturation', value: function (t) { return this._hslFromRgb(), t != null ? (this._s = Math.max(0, Math.min(100, t)), this._rgbFromHsl(), this) : this._s } }, { key: 'grayLevel', value: function () { return (0.299 * this.r + 0.587 * this.g + 0.114 * this.b) / 255 } }, { key: 'whiteLevel', value: function () { return Math.min(Math.min(this.r, this.g), this.b) } }, { key: 'isGrayscale', value: function () { return this.r === this.g && this.g === this.b } }, { key: 'distanceFrom', value: function (t) { return Math.sqrt(Math.pow(this.r - t.r, 2) + Math.pow(this.g - t.g, 2) + Math.pow(this.b - t.b, 2)) } }, { key: 'channelDominance', value: function () { const t = this; return ['r', 'g', 'b'].sort(function (e, n) { return t[n] - t[e] }) } }, { key: 'alpha', value: function (t) { return t != null ? (this.a = t, this) : this.a } }, { key: 'red', value: function (t) { return t != null ? (this.r = t, this) : this.r } }, { key: 'green', value: function (t) { return t != null ? (this.g = t, this) : this.g } }, { key: 'blue', value: function (t) { return t != null ? (this.b = t, this) : this.b } }, { key: 'toHex', value: function () { let t = Math.round(this.r).toString(16); let e = Math.round(this.g).toString(16); let n = Math.round(this.b).toString(16); return t.length === 1 && (t = '0'.concat(t)), e.length === 1 && (e = '0'.concat(e)), n.length === 1 && (n = '0'.concat(n)), ''.concat(t).concat(e).concat(n) } }, { key: 'toHexWithAlpha', value: function () { let t = Math.round(255 * this.a).toString(16); return t.length === 1 && (t = '0'.concat(t)), ''.concat(t).concat(this.toHex()) } }, { key: 'toRgb', value: function () { return 'rgb('.concat(Math.round(this.r), ',').concat(Math.round(this.g), ',').concat(Math.round(this.b), ')') } }, { key: 'toRgba', value: function () { return 'rgba('.concat(Math.round(this.r), ',').concat(Math.round(this.g), ',').concat(Math.round(this.b), ',').concat(this.a, ')') } }, { key: 'toRgbaOrHex', value: function () { return this.toRgba() } }, { key: 'toPercent', value: function () { return 'rgba('.concat(this.r / 255 * 100, '%,').concat(this.g / 255 * 100, '%,').concat(this.b / 255 * 100, '%,').concat(this.a, ')') } }, { key: 'toIeGradient', value: function () { return "progid:DXImageTransform.Microsoft.gradient(startColorStr='#".concat(this.toHexWithAlpha(), "', endColorStr='#").concat(this.toHexWithAlpha(), "')") } }, { key: 'toString', value: function () { return this.toPercent() } }]) && i(e.prototype, n), a && i(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) },, (t, e, n) => { n.d(e, { atOrNearBeginning: () => c, atOrNearEnd: () => u, getLastTime: () => o, getResumableKeyForVideo: () => s, setLastTime: () => a, setResumableKeyForVideo: () => l, shorterThanResumableThreshold: () => h, withinResumableTime: () => d }); const i = n(31); const r = function (t) { return 'wistia-video-progress-'.concat(t) }; var o = function (t) { return (0, i.getLocalStorage)(r(t)).lastTime }; var a = function (t, e) { (0, i.updateLocalStorage)(r(t), function (t) { t.lastTime = e }) }; var s = function (t) { return (0, i.getLocalStorage)(r(t)).resumableKey }; var l = function (t, e) { (0, i.updateLocalStorage)(r(t), function (t) { t.resumableKey = e }) }; var u = function (t, e) { return (o(t) || 0) + 5 > e }; var c = function (t) { return (o(t) || 0) < 10 }; var h = function (t) { return t < 300 }; var d = function (t, e) { return !c(t) && !u(t, e) } }, (t, e, n) => { n.d(e, { ProgressIndicator: () => l }); const i = n(2); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function o (t, e) { return o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, o(t, e) } function a (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = s(t); if (e) { const r = s(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function s (t) { return s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, s(t) } var l = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && o(t, e) }(u, t)); let e; let n; let s; const l = a(u); function u (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, u)), (e = l.call(this, t)).state = { filledWidth: 0, isDisplayNone: !0, isOpaque: !1, widthTransitionShouldDelay: !0 }, e } return e = u, (n = [{ key: 'componentDidMount', value: function () { this.maybeFadeInOrOut() } }, { key: 'componentDidUpdate', value: function (t, e) { const n = t.isVisible; this.maybeFadeInOrOut(n); const i = e.filledWidth; this.maybeChangeFilledWidth(i) } }, { key: 'fadeIn', value: function () { const t = this; const e = this.props.isVisible; clearTimeout(this.fadeTimeout), this.setState({ isDisplayNone: !1 }, function () { e && (t.fadeTimeout = setTimeout(function () { e && requestAnimationFrame(function () { t.setState({ isOpaque: !0 }) }) }, 0)) }) } }, { key: 'fadeOut', value: function () { const t = this; const e = this.props.isVisible; clearTimeout(this.fadeTimeout), this.setState({ isOpaque: !1 }, function () { e || (t.fadeTimeout = setTimeout(function () { e || t.setState({ isDisplayNone: !0 }) }, 200)) }) } }, { key: 'filledBarStyle', value: function () { const t = this.state; const e = t.widthTransitionShouldDelay; const n = t.filledWidth; const i = this.props.color; return { backgroundColor: '#'.concat(i), height: '100%', transition: 'width 500ms ease-out '.concat(e ? '500ms' : ''), width: ''.concat(n, '%') } } }, { key: 'maybeFadeInOrOut', value: function (t) { const e = this.props.isVisible; e !== t && (e ? this.fadeIn() : this.fadeOut()) } }, { key: 'maybeChangeFilledWidth', value: function (t) { const e = this; const n = this.props.percentWatched; n != null && n !== t && setTimeout(function () { requestAnimationFrame(function () { e.setState({ filledWidth: n }) }) }, 0) } }, { key: 'removeTransitionDelay', value: function () { this.setState({ widthTransitionShouldDelay: !1 }) } }, { key: 'unfilledBarStyle', value: function () { const t = this.state; const e = t.isDisplayNone; const n = t.isOpaque; return { backgroundColor: '#ffffff', bottom: 0, display: e ? 'none' : '', height: n ? ''.concat(6 * this.props.scale, 'px') : 0, opacity: n ? 0.8 : 0, transition: 'opacity 1s, height .5s', width: '100%' } } }, { key: 'render', value: function () { const t = this; return (0, i.h)('div', { style: this.unfilledBarStyle() }, (0, i.h)('div', { onTransitionEnd: function () { return t.removeTransitionDelay() }, style: this.filledBarStyle() })) } }]) && r(e.prototype, n), s && r(e, s), Object.defineProperty(e, 'prototype', { writable: !1 }), u }(i.Component)) },,,,,, (t, e, n) => { n(81), n(82), n(95), n(97), n(98) }, (t, e, n) => { const i = n(49); !(function (t) { if (!(t._initializers != null ? t._initializers.initEventLoop : void 0))t._initializers.initEventLoop = function () { return t.eventLoop = i.globalEventLoop }, t._destructors.destroyEventLoop = function () { return t.eventLoop != null && t.eventLoop.stop(), t.eventLoop = null } }(window.Wistia)) }, (t, e, n) => { !(function (t) { let e, i, r, o, a, s, l, u, c, h, d, p, f; if (t, !t.embed)e = n(83), d = n(21), s = d.fetchMedia, u = d.mediaFromCache, l = n(26).mediaDataTransforms, c = n(6).merge, i = n(7).assign, a = n(39).dynamicImport, r = n(28).countMetric, h = n(86).optionsFromElemClass, p = n(87).setEmbedOptionStore, f = n(91).translateEmbedOptionKeyValuePairForWebComponent, n(92).TranslationApi, t._embed = {}, t.embed = function (e, n) { let i, a, s, d, f, y, v, m; return n == null && (n = {}), t.info('Wistia.embed', e, n), typeof t.flushInitQueue === 'function' && t.flushInitQueue(), typeof e === 'string' ? s = e : (s = e.hashedId, v = c({}, e.embedOptions, n), l(e, v), t.cacheMedia(s, e)), n.container ? typeof n.container === 'string' ? d = document.getElementById(n.container) : (d = n.container, r('legacy/embed-with-container', 1, { hashedId: s, url: window.location.href })) : e.container ? typeof e.container === 'string' ? d = document.getElementById(n.container) : (d = e.container, r('legacy/embed-with-container', 1, { hashedId: s, url: window.location.href })) : (i = 'wistia_' + s, d = document.getElementById(i)), (a = h(d)).useWebComponent || ((f = u(s)) != null && (y = f.embedOptions) != null ? y.useWebComponent : void 0) ? ((m = o(s, Object.assign({}, n, a))).originalContainer = d, m.originalContainer._convertingToAurora = !0, m.uniqueId = m.originalContainer.uniqueId, m.originalContainer.uniqueId = void 0, d.append(m), m.api.translationApi, p('__' + m.uniqueId + '_dom_options__', a)) : new t.PublicApi(s, n) }, o = function (t, e) { let n; return (n = document.createElement('wistia-player')).setAttribute('media-id', t), Object.entries(e).forEach(function (t) { let e, i, r, o, a; return e = t[0], a = t[1], r = (i = f(e, a))[0], o = i[1], n.setAttribute(r, o) }), n }, t.embedEngine = function (n, o, u, h) { let d; return u == null && (u = {}), h == null && (h = {}), d = typeof o === 'string' ? o : o.hashedId, new Promise(function (p) { let f; return f = function (t) { let i, r; return i = e.buildContext(h), r = e.bestUsableEngine(i, t, u), a('assets/external/' + r).then(function (e) { let i; return i = new (0, e.default)(n, t, c({ duration: t.duration }, u)), p(i) }) }, typeof o === 'string' ? s(d, function (e) { return l(e, u), t.cacheMedia(d, e), f(e) }, i({}, u, { errorCallback: function () { return r('player/failure/embed-failed') } })) : f(o) }) } }(Wistia)) }, (t, e, n) => { n.r(e), n.d(e, { PLUGIN_CONFIGS: () => A, bestPlayer: () => j, bestUsableEngine: () => x, bestUsableEngineClass: () => B, buildContext: () => R, canPlayInline: () => D, canUsePlayer: () => M, choosePlayer: () => I, determinePlayerPreferenceFromInput: () => W, doesBrowserSupportHlsTools: () => F, enginesToLoad: () => N, getDefaultContext: () => H, hasAssetsForPlayer: () => U, hasEnoughReadyMp4Assets: () => K, hasSupportedHlsAssets: () => G, isBrowserInNativeAndroid: () => X, isBrowserOldChrome: () => $, isHlsEnabled: () => Z, isMobile: () => J, isNotPlayable: () => tt, isPasswordProtected: () => et, isSupportedPlayer: () => it, isValidPlayer: () => ot, logWarnings: () => at, playerPlugins: () => st, report: () => lt, shouldServeHls: () => ut, supportedPlayers: () => ct, urlHasBeenTamperedWith: () => dt, usablePlayers: () => ht, xhrHasBeenTamperedWith: () => yt }); const i = n(3); const r = n(6); const o = n(11); const a = n(84); const s = n(85); const l = n(4); const u = n(12); const c = n(27); function h (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function d (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? h(Object(n), !0).forEach(function (e) { p(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function p (t, e, n) { return (e = (function (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(e))) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } let f; const y = u.wlog.getPrefixedFunctions('judy'); const v = 'auto'; const m = 'external'; const g = 'hlsVideo'; const b = 'html5'; const _ = 'manualQualityVideo'; const w = 'nativeHlsVideo'; const P = 'notplayable'; const O = 'passwordprotected'; const k = 'simplehtml5'; const S = 'twoStrokeVideo'; const E = 'vulcan-v2'; const T = 'sphericalVideo'; const C = [E, b, k, m, P, O]; var A = { notPlayableVideo: { on: !0, initBeforeHasData: !0, async: !1, loadWeight: -1 }, vulcanV2Player: { on: !0, initBeforeHasData: !1, async: !1, loadWeight: -1 }, hlsVideo: { on: !0, initBeforeHasData: !1, async: !1, loadWeight: 0 }, nativeHlsVideo: { on: !0, initBeforeHasData: !1, async: !1, loadWeight: 0 }, passwordProtectedVideo: { on: !0, initBeforeHasData: !0, async: !1, loadWeight: -1 }, encodingProgress: { on: !0, initBeforeHasData: !1, async: !0, loadWeight: 100 }, externalPlayer: { on: !0, initBeforeHasData: !1, async: !1, loadWeight: -1 }, html5Player: { on: !0, initBeforeHasData: !1, async: !1, loadWeight: -1 } }; var j = function (t, e, n) { const i = t.detect; const r = t.logger; const o = e.assets; const a = nt({ mediaData: e, options: n }, i); return i.oldandroid ? (r.info('external on old android'), m) : M(t, E, o) && a || M(t, E, o) ? (r.info('default, ret', E), E) : e.mediaType === 'Audio' || e.mediaType === 'LiveStream' ? E : M(t, b, o) ? (r.info('default, ret', b), b) : (r.info('nothing left, use', m), m) }; var x = function (t, e) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const i = t.detect; const r = t.logger; r.info('bestUsableEngineClass'); const o = ut(t, e, n); const a = nt({ mediaData: e, options: n }, i); return n.engine ? n.engine : a ? (r.info(T), 'engines/spherical_video.js') : e.mediaType === 'Audio' ? 'engines/simple_audio.js' : rt(e) || n.secondaryVideoUrl ? (r.info(S), 'engines/two_stroke_video.js') : o && i.nativeHls ? (r.info(w), 'engines/native_hls_video.js') : o ? (r.info(g), 'engines/hls_video.js') : (r.info(_), 'engines/manual_quality_video.js') }; var B = function (t, e) { const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const r = t.detect; const o = t.logger; o.info('bestUsableEngineClass'); const a = ut(t, e, n); const s = i.Wistia.engines || {}; return e.mediaType === 'Audio' ? s.SimpleAudio : rt(e) && s.TwoStrokeVideo || n.secondaryVideoUrl && s.TwoStrokeVideo ? (o.info(S), s.TwoStrokeVideo) : a && r.nativeHls && s.NativeHlsVideo ? (o.info(w), s.NativeHlsVideo) : a && s.HlsVideo ? (o.info(g), s.HlsVideo) : (o.info(_), s.ManualQualityVideo) }; var R = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; const e = L(t); return d(d(d({}, H()), t), {}, { pageUrl: e }) }; var D = function (t) { const e = t.detect; return e.android || e.ios.version >= 10 }; var M = function (t, e, n) { return it(t, e) && U(t, e, n) }; var I = function (t, e, n) { const i = t.detect; const r = t.logger; const o = e.assets; let a = n.playerForce; r.info('choosePlayer input', e.hashedId); let s = W(t, e, n); if (a && !ot(t, a) && (r.error('Invalid playerForce option: "'.concat(a, '", ignoring')), a = null), s && s !== v && !ot(t, s) && (r.error('Invalid playerPreference option: "'.concat(s, '", ignoring')), s = v), r.info('playerPreference is', s), a) return r.info('"playerForce" used, return', a), a; if (et(t, n)) return r.info('return', O), O; if (tt(t, e)) return r.info('return', P), P; if (s !== v && M(t, s, o)) { const l = nt({ mediaData: e, options: n }, i); return s !== E && l ? (r.info("this player doesn't support spherical, return", E), E) : (r.info('"playerPreference" used, return', s), s) } return r.info('choosing player with no preference'), j(t, e, n) }; var L = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return t.pageUrl ? t.pageUrl : Object(window.FreshUrl).originalUrl ? window.FreshUrl.originalUrl : window.top === window.self ? location.href || '' : document.referrer || '' }; var W = function (t, e, n) { const i = n.playerPreference || n.platformPreference; return i && i !== v ? i === b ? J(t) ? b : E : i === k ? b : i : v }; var F = function (t) { const e = Boolean(window.Promise); return (t.mediaSource || t.nativeHls) && e }; var N = function t (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const o = e.detect; const a = e.logger; let s = []; a.info('enginesToLoad'); const l = ut(e, n, i); if (l && o.nativeHls ? (a.info(w), s.push(w)) : l ? (a.info(g), s.push(g)) : (a.info(_), s.push(_)), nt({ mediaData: n, options: i }, o) && (s.push(T), a.info(T)), rt(n)) { a.info(S), s.push(S); const u = (0, r.except)(i, ['twoStroke']); const c = t(e, n.secondaryMediaData, u); s = s.concat(c) } else i.secondaryVideoUrl && (a.info('secondaryVideoUrl', S), s.push(S)); const h = {}; s.forEach(function (t) { h[t] = !0 }); const d = []; for (const p in h)d.push(p); return d }; var H = function () { return f || (f = { detect: (0, r.clone)((0, o.cachedDetect)()), inIframe: top !== self, location: window.location, logger: y, pageUrl: location.href, silenceGlobalWarnings: l.root.wistiaSilenceGlobalWarnings, userAgent: navigator.userAgent }) }; const V = function (t, e) { const n = {}; return n[e] = A[e], n }; var U = function (t, e, n) { if (!ot(t, e)) return !1; if (e === P || e === O) return !0; if (e === E) return q(n) || z(n); if (e === b) return (0, c.readyPublicMp4s)(n).length > 0; if (e === m) return (0, c.readyPublicMp4s)(n).length > 0; throw new Error("Unhandled player type '".concat(e, "'")) }; var q = function (t) { return (0, c.readyPublicMp4s)(t).length > 0 || (0, c.readyPublicM3u8s)(t).length > 0 }; var z = function (t) { return (0, c.readyPublicMp3s)(t).length > 0 }; var K = function (t) { const e = (0, c.filter)(t, { container: 'mp4', metadata: function (t) { return t && t.max_bitrate }, public: !0, sortBy: 'width desc', status: c.READY, type: /\b(?!captioned_video)\S+/ }); return Boolean(e[0] && e[0].width >= 400) }; var G = function (t) { return K(t.assets) || (0, a.count)('player/originV2/media-has-no-metadata', 1, { hashedId: t.hashedId }), K(t.assets) }; const Q = function (t, e) { const n = t.pageUrl; const i = Y(n); if (i != null) return i; const r = (0, s.setOrGet)('forceHls'); return r != null ? r : e.hls }; var Y = function (t) { const e = t && t.match && t.match(/[&?]whls=([^&]+)/); const n = e && e[1]; return n != null ? (0, r.cast)(n) : null }; var X = function (t, e) { return t.android && (!1 === e.playsinline || !0 === e.nativeMode) }; var $ = function (t) { return t.chrome && parseInt(t.chrome.version, 10) < 50 }; var Z = function (t, e, n) { const i = Q(t, n); return !0 === i || !1 === i ? i : !1 !== e.hls_enabled }; var J = function (t) { const e = t.detect; return e.iphone || e.ipad || e.android }; var tt = function t (e, n) { const i = n.assets; const r = n.type === 'Audio' ? (0, c.readyPublicMp3s)(i).length == 0 : (0, c.readyPublicMp4s)(i).length == 0; return n.mediaType !== 'LiveStream' && (i.length === 0 || i.length === 1 && i[0].type === 'original' || r || (0, c.nonfailedPublicOver400)(i).length > 0 && (0, c.readyPublicOver400)(i).length === 0 || rt(n) && t(e, n.secondaryMediaData)) }; var et = function (t, e) { const n = (0, r.getDeep)(e, 'plugin.passwordProtectedVideo'); return n != null && !1 !== n.on }; var nt = function () { let t; let e; const n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if (n.options.overrideSpherical) return !1; const i = String((t = n.mediaData) === null || void 0 === t ? void 0 : t.spherical); const r = String((e = n.opts) === null || void 0 === e ? void 0 : e.spherical); return i === 'true' || r === 'true' }; var it = function (t, e) { return !!ot(t, e) && (0, r.indexOf)(ct(t), e) >= 0 }; var rt = function (t) { return !!t.secondaryMediaData }; var ot = function (t, e) { return (0, r.indexOf)(C, e) >= 0 }; var at = function (t) { const e = t.detect; const n = t.userAgent; const i = t.logger; if (!t.silenceGlobalWarnings) { const r = /phantomjs/i.test(n); yt() && (r || i.error('The XMLHttpRequest constructor has been tampered with. Because this affects CORS/Range XHR requests, HLS playback has been disabled. To enable HLS playback and other important features, please remove code that changes the definition of window.XMLHttpRequest.')), dt() && e.mediaSource && !r && i.error('window.URL.createObjectURL has been tampered with. Because this affects use of Media Source Extensions, HLS playback has been disabled. window.URL is a browser API that should not be clobbered. Its current value is:', window.URL) } }; var st = function (t, e, n, i) { const o = t.logger; const a = {}; o.info('playerPlugins input', e, n.hashedId, n, i), e === P ? (0, r.merge)(a, V(0, 'notPlayableVideo')) : e === O ? (0, r.merge)(a, V(0, 'passwordProtectedVideo')) : e === b ? (0, r.merge)(a, V(0, 'html5Player')) : e === m ? (0, r.merge)(a, V(0, 'externalPlayer')) : e === E && (0, r.merge)(a, V(0, 'vulcanV2Player')); const s = []; for (const l in a)s.push(l); return o.info.apply(o, ['playerPlugins output'].concat(s, [a])), a }; var lt = function (t, e, n) { return { bestPlayer: j(t, e, n), playerPreferenceFromInput: W(t, e, n), supportedPlayers: ct(t), usablePlayers: ht(t, e.assets) } }; var ut = function (t, e, n) { if (e.type === 'LiveStream') return !0; const i = t.detect; return F(i) && !$(i) && !X(i, n) && Z(t, e, n) && G(e) && (!yt(t) && !dt(t) || Q(t, n)) }; var ct = function (t) { const e = t.detect; const n = [P, O, m]; return (e.vulcanSupport || e.iphone || e.ipad || e.android) && n.push(E), e.video.h264 && n.push(b), n }; var ht = function (t, e) { for (var n = [], i = ct(t), r = 0; r < i.length; r++) { const o = i[r]; M(t, o, e) && n.push(o) } return n }; var dt = function () { return typeof (window.URL && window.URL.createObjectURL) !== 'function' }; const pt = /\s*function\s+XMLHttpRequest\(\)\s*{\s*\[native code\]\s*}\s*/m; const ft = /\[object XMLHttpRequestConstructor\]/m; var yt = function () { if (XMLHttpRequest && XMLHttpRequest.prototype && XMLHttpRequest.prototype.constructor) { const t = XMLHttpRequest.prototype.constructor.toString(); return !(pt.test(t) || ft.test(t)) } return !0 } }, (t, e, n) => { n.d(e, { count: () => f, sample: () => y, send: () => d }); const i = n(3); const r = n(61); const o = n(12); const a = n(6); const s = n(5); const l = n(24); const u = n(23); const c = n(29); i.Wistia; i.Wistia._metricsCache == null && (i.Wistia._metricsCache = {}); const h = i.Wistia._metricsCache; var d = function (t, e, n) { const i = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}; try { h.toMput == null && (h.toMput = []), h.requestId == null && (h.requestId = 0); const l = (0, a.merge)({ type: t, key: e, value: n != null ? n : null, request_id: h.requestId }, i); const u = JSON.stringify(l); o.wlog.debug('send metrics', u), h.toMput.push(u), (0, r.doTimeout)('metrics.debounce', function () { (0, s.pageLoaded)(function () { p.apply(undefined, h.toMput), h.toMput = [], h.requestId += 1 }) }, 500) } catch (t) { o.wlog.error(t) } }; var p = function () { if ((0, c.isVisitorTrackingEnabled)()) { for (var t = ''.concat((0, l.proto)(), '//').concat((0, u.metricsHost)(), '/mput?topic=metrics'), e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; return fetch(t, { method: 'POST', mode: 'cors', headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, body: n.join('\n') }) } }; var f = function (t) { return d('count', t, arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1, arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}) }; var y = function (t, e, n) { return d('sample', t, e, n) } }, (t, e, n) => { n.d(e, { removeLocalStorage: () => s, setOrGet: () => a }); const i = n(3); const r = n(30); const o = n(6); i.Wistia._localStorage || (i.Wistia._localStorage = (0, r.getWistiaLocalStorage)()); var a = function (t, e) { if (e != null) { const n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2] ? o.unsetDeep : o.setDeep; return i.Wistia._localStorage = (0, r.updateWistiaLocalStorage)(function (i) { return n(i, t, e) }), e } return t != null ? (0, o.getDeep)(i.Wistia._localStorage, t) : i.Wistia._localStorage }; var s = function (t) { return a(t, 'nada', !0) }; r.removeWistiaLocalStorage }, (t, e, n) => { n.d(e, { optionsFromElemClass: () => a }); const i = n(5); const r = n(24); const o = n(6); var a = function (t) { const e = []; (0, i.elemClasses)(t).forEach(function (t) { t.indexOf('=') > 0 && e.push(t) }); const n = (0, r.queryParamsToObject)(e.join('&')); return (0, o.cast)(n) } }, (t, e, n) => { n.r(e), n.d(e, { GLOBAL_ID_KEY: () => s, OPTION_PREFIX: () => a, getEmbedOptionStore: () => l, getOrSetEmbedOptionStore: () => c, setEmbedOptionStore: () => u }); const i = n(6); const r = n(88); const o = n(89); var a = 'wistia_embed_options_'; var s = '__global__'; var l = function (t) { if (void 0 !== (0, r.wData)([a, t])) return (0, r.wData)([a, t]); const e = (0, o.getOneApiHandle)(t); if (e === null || e === 'removed') return {}; if (void 0 !== (0, r.wData)(a)) { const n = Object.keys((0, r.wData)(a)).find(function (t) { return (0, o.getOneApiHandle)(t) === e }); if (void 0 !== (0, r.wData)([a, n])) return (0, r.wData)([a, n]) } return {} }; var u = function (t, e) { return e !== null ? (0, r.wData)([a, t], (0, i.cast)((0, i.clone)(e))) : {} }; var c = function (t, e) { let n = t; let l = e; if ((0, i.isObject)(n) && typeof n === 'object' && (l = n, n = s), l != null) return (0, r.wData)([a, n], (0, i.cast)((0, i.clone)(l))); if (void 0 !== n) { if (void 0 !== (0, r.wData)([a, t])) return (0, r.wData)([a, t]); const u = (0, o.getOneApiHandle)(n); if (u === null || u === 'removed') return {}; if (void 0 !== (0, r.wData)(a)) { const c = Object.keys((0, r.wData)(a)).find(function (t) { return (0, o.getOneApiHandle)(t) === u }); if (void 0 !== (0, r.wData)([a, c])) return (0, r.wData)([a, c]) } return {} } return (0, r.wData)(a) } }, (t, e, n) => { n.r(e), n.d(e, { wData: () => o, wRemoveData: () => a }); const i = n(3); const r = n(6); var o = function (t, e) { return (0, r.isArray)(t) || (t = t.split('.')), e != null && (0, r.setDeep)(i.Wistia, ['_data'].concat(t), e), (0, r.getDeep)(i.Wistia, ['_data'].concat(t)) }; var a = function (t) { return (0, r.isArray)(t) || (t = t.split('.')), (0, r.unsetDeep)(i.Wistia, ['_data'].concat(t)) } }, (t, e, n) => { n.d(e, { getAllApiHandlesByDomOrder: () => c, getOneApiHandle: () => u }); const i = n(90); const r = n(12); const o = n(88); function a (t) { return (function (t) { if (Array.isArray(t)) return s(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return s(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return s(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function s (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const l = function () { return (void 0 === (0, o.wData)('video') ? [] : Object.values((0, o.wData)('video'))).concat(void 0 === (0, o.wData)('iframe_api') ? [] : Object.values((0, o.wData)('iframe_api'))) }; var u = function (t) { let e, n, i; if (void 0 === t) return (i = l()[0]) !== null && void 0 !== i ? i : null; let o = null; if (typeof t === 'string') { let a; const s = t; if ((o = (a = document.querySelector("[unique-id='".concat(s, "']"))) !== null && void 0 !== a ? a : document.getElementById(s)) === null) { let u; const c = l().find(function (t) { let e, n; return (e = t.hashedId()) !== null && void 0 !== e && e.startsWith(s) || (n = t.container) !== null && void 0 !== n && n.id.startsWith(s) ? t : null }); if (c !== 'removed')o = (u = c == null ? void 0 : c.container) !== null && void 0 !== u ? u : null } } else if (typeof t === 'number') { let h = t; const d = l(); h < 0 && (h = d.length + h); let p; const f = d[h]; if (void 0 !== f && f !== 'removed')o = (p = f.container) !== null && void 0 !== p ? p : null } else t instanceof HTMLElement ? o = t : r.wlog.error('Unrecognized matcher', t); return ((e = o) === null || void 0 === e ? void 0 : e.tagName) === 'WISTIA-PLAYER' ? o.api : void 0 !== ((n = o) === null || void 0 === n ? void 0 : n.wistiaApi) && o.wistiaApi !== 'removed' ? o.wistiaApi : null }; var c = function () { const t = Array.from((0, i.getAllApiEmbedElements)('wistia_embed_initialized')).reduce(function (t, e) { return void 0 !== e.wistiaApi && e.wistiaApi !== 'removed' && t.push(e.wistiaApi), t }, []); const e = Array.from(document.querySelectorAll('wistia-player')).reduce(function (t, e) { return void 0 !== e.api && e.api !== 'removed' && t.push(e.api), t }, []); return [].concat(a(t), a(e)) } }, (t, e, n) => { n.d(e, { getAllApiEmbedElements: () => i }); var i = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'wistia_embed'; const e = document.querySelectorAll('div.'.concat(t, ',span.').concat(t)); return Array.from(e).map(function (t) { let e; return ((e = t.lastChild) === null || void 0 === e ? void 0 : e.nodeName) === 'WISTIA-PLAYER' ? t.lastChild : t }) } }, (t, e, n) => { n.d(e, { translateEmbedOptionKeyValuePairForWebComponent: () => i }); var i = function (t, e) { let n = t; let i = e; switch (e) { case 'true':i = !0; break; case 'false':i = !1 } switch (t) { case 'autoPlay':n = 'autoplay'; break; case 'controlsVisibleOnLoad':n = 'hide-controls-on-load', i = !i; break; case 'copyLinkAndThumbnailEnabled':n = 'hide-copy-link-and-thumbnail', i = !i; break; case 'fullscreenButton':n = 'fullscreen-control'; break; case 'playbar':n = 'play-bar-control'; break; case 'playButton':n = 'big-play-button'; break; case 'popover':n = 'wistia-popover'; break; case 'popoverDisableAutoPlay':n = 'popover-disable-autoplay'; break; case 'preload':typeof e === 'boolean' && e && (i = 'auto'), typeof e !== 'boolean' || e || (i = 'none'); break; case 'silentAutoPlay':n = 'silent-autoplay'; break; case 'smallPlayButton':n = 'play-pause-control'; break; case 'stillUrl':n = 'poster'; break; case 'wmode':n = 'transparent-letterbox', e === 'transparent' && (i = !0); break; default:n = t.replace(/[A-Z]+(?![a-z])|[A-Z]/g, function (t, e) { return (void 0 !== e ? '-' : '') + t.toLowerCase() }) } return [n, i] } }, (t, e, n) => { n.d(e, { TranslationApi: () => E }); const i = n(67); const r = n(93); const o = n(91); const a = n(94); function s (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return l(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return l(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function l (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function u (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function c (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? u(Object(n), !0).forEach(function (e) { h(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : u(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function h (t, e, n) { return (e = v(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function d () { d = function () { return e }; let t; var e = {}; const n = Object.prototype; const i = n.hasOwnProperty; const r = Object.defineProperty || function (t, e, n) { t[e] = n.value }; const o = typeof Symbol === 'function' ? Symbol : {}; const a = o.iterator || '@@iterator'; const s = o.asyncIterator || '@@asyncIterator'; const l = o.toStringTag || '@@toStringTag'; function u (t, e, n) { return Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { u({}, '') } catch (t) { u = function (t, e, n) { return t[e] = n } } function c (t, e, n, i) { const o = e && e.prototype instanceof g ? e : g; const a = Object.create(o.prototype); const s = new x(i || []); return r(a, '_invoke', { value: T(t, n, s) }), a } function h (t, e, n) { try { return { type: 'normal', arg: t.call(e, n) } } catch (t) { return { type: 'throw', arg: t } } }e.wrap = c; const p = 'suspendedStart'; const f = 'suspendedYield'; const y = 'executing'; const v = 'completed'; const m = {}; function g () {} function b () {} function _ () {} let w = {}; u(w, a, function () { return this }); const P = Object.getPrototypeOf; const O = P && P(P(B([]))); O && O !== n && i.call(O, a) && (w = O); const k = _.prototype = g.prototype = Object.create(w); function S (t) { ['next', 'throw', 'return'].forEach(function (e) { u(t, e, function (t) { return this._invoke(e, t) }) }) } function E (t, e) { function n (r, o, a, s) { const l = h(t[r], t, o); if (l.type !== 'throw') { const u = l.arg; const c = u.value; return c && typeof c === 'object' && i.call(c, '__await') ? e.resolve(c.__await).then(function (t) { n('next', t, a, s) }, function (t) { n('throw', t, a, s) }) : e.resolve(c).then(function (t) { u.value = t, a(u) }, function (t) { return n('throw', t, a, s) }) }s(l.arg) } let o; r(this, '_invoke', { value: function (t, i) { function r () { return new e(function (e, r) { n(t, i, e, r) }) } return o = o ? o.then(r, r) : r() } }) } function T (e, n, i) { let r = p; return function (o, a) { if (r === y) throw new Error('Generator is already running'); if (r === v) { if (o === 'throw') throw a; return { value: t, done: !0 } } for (i.method = o, i.arg = a; ;) { const s = i.delegate; if (s) { const l = C(s, i); if (l) { if (l === m) continue; return l } } if (i.method === 'next')i.sent = i._sent = i.arg; else if (i.method === 'throw') { if (r === p) throw r = v, i.arg; i.dispatchException(i.arg) } else i.method === 'return' && i.abrupt('return', i.arg); r = y; const u = h(e, n, i); if (u.type === 'normal') { if (r = i.done ? v : f, u.arg === m) continue; return { value: u.arg, done: i.done } }u.type === 'throw' && (r = v, i.method = 'throw', i.arg = u.arg) } } } function C (e, n) { const i = n.method; const r = e.iterator[i]; if (r === t) return n.delegate = null, i === 'throw' && e.iterator.return && (n.method = 'return', n.arg = t, C(e, n), n.method === 'throw') || i !== 'return' && (n.method = 'throw', n.arg = new TypeError("The iterator does not provide a '" + i + "' method")), m; const o = h(r, e.iterator, n.arg); if (o.type === 'throw') return n.method = 'throw', n.arg = o.arg, n.delegate = null, m; const a = o.arg; return a ? a.done ? (n[e.resultName] = a.value, n.next = e.nextLoc, n.method !== 'return' && (n.method = 'next', n.arg = t), n.delegate = null, m) : a : (n.method = 'throw', n.arg = new TypeError('iterator result is not an object'), n.delegate = null, m) } function A (t) { const e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function j (t) { const e = t.completion || {}; e.type = 'normal', delete e.arg, t.completion = e } function x (t) { this.tryEntries = [{ tryLoc: 'root' }], t.forEach(A, this), this.reset(!0) } function B (e) { if (e || e === '') { const n = e[a]; if (n) return n.call(e); if (typeof e.next === 'function') return e; if (!isNaN(e.length)) { let r = -1; const o = function n () { for (;++r < e.length;) if (i.call(e, r)) return n.value = e[r], n.done = !1, n; return n.value = t, n.done = !0, n }; return o.next = o } } throw new TypeError(typeof e + ' is not iterable') } return b.prototype = _, r(k, 'constructor', { value: _, configurable: !0 }), r(_, 'constructor', { value: b, configurable: !0 }), b.displayName = u(_, l, 'GeneratorFunction'), e.isGeneratorFunction = function (t) { const e = typeof t === 'function' && t.constructor; return !!e && (e === b || (e.displayName || e.name) === 'GeneratorFunction') }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, _) : (t.__proto__ = _, u(t, l, 'GeneratorFunction')), t.prototype = Object.create(k), t }, e.awrap = function (t) { return { __await: t } }, S(E.prototype), u(E.prototype, s, function () { return this }), e.AsyncIterator = E, e.async = function (t, n, i, r, o) { void 0 === o && (o = Promise); const a = new E(c(t, n, i, r), o); return e.isGeneratorFunction(n) ? a : a.next().then(function (t) { return t.done ? t.value : a.next() }) }, S(k), u(k, l, 'Generator'), u(k, a, function () { return this }), u(k, 'toString', function () { return '[object Generator]' }), e.keys = function (t) { const e = Object(t); const n = []; for (const i in e)n.push(i); return n.reverse(), function t () { for (;n.length;) { const i = n.pop(); if (i in e) return t.value = i, t.done = !1, t } return t.done = !0, t } }, e.values = B, x.prototype = { constructor: x, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = 'next', this.arg = t, this.tryEntries.forEach(j), !e) for (const n in this)n.charAt(0) === 't' && i.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t) }, stop: function () { this.done = !0; const t = this.tryEntries[0].completion; if (t.type === 'throw') throw t.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; const n = this; function r (i, r) { return s.type = 'throw', s.arg = e, n.next = i, r && (n.method = 'next', n.arg = t), !!r } for (let o = this.tryEntries.length - 1; o >= 0; --o) { const a = this.tryEntries[o]; var s = a.completion; if (a.tryLoc === 'root') return r('end'); if (a.tryLoc <= this.prev) { const l = i.call(a, 'catchLoc'); const u = i.call(a, 'finallyLoc'); if (l && u) { if (this.prev < a.catchLoc) return r(a.catchLoc, !0); if (this.prev < a.finallyLoc) return r(a.finallyLoc) } else if (l) { if (this.prev < a.catchLoc) return r(a.catchLoc, !0) } else { if (!u) throw new Error('try statement without catch or finally'); if (this.prev < a.finallyLoc) return r(a.finallyLoc) } } } }, abrupt: function (t, e) { for (let n = this.tryEntries.length - 1; n >= 0; --n) { const r = this.tryEntries[n]; if (r.tryLoc <= this.prev && i.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var o = r; break } }o && (t === 'break' || t === 'continue') && o.tryLoc <= e && e <= o.finallyLoc && (o = null); const a = o ? o.completion : {}; return a.type = t, a.arg = e, o ? (this.method = 'next', this.next = o.finallyLoc, m) : this.complete(a) }, complete: function (t, e) { if (t.type === 'throw') throw t.arg; return t.type === 'break' || t.type === 'continue' ? this.next = t.arg : t.type === 'return' ? (this.rval = this.arg = t.arg, this.method = 'return', this.next = 'end') : t.type === 'normal' && e && (this.next = e), m }, finish: function (t) { for (let e = this.tryEntries.length - 1; e >= 0; --e) { const n = this.tryEntries[e]; if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), j(n), m } }, catch: function (t) { for (let e = this.tryEntries.length - 1; e >= 0; --e) { const n = this.tryEntries[e]; if (n.tryLoc === t) { const i = n.completion; if (i.type === 'throw') { var r = i.arg; j(n) } return r } } throw new Error('illegal catch attempt') }, delegateYield: function (e, n, i) { return this.delegate = { iterator: B(e), resultName: n, nextLoc: i }, this.method === 'next' && (this.arg = t), m } }, e } function p (t, e, n, i, r, o, a) { try { var s = t[o](a); var l = s.value } catch (t) { return void n(t) }s.done ? e(l) : Promise.resolve(l).then(i, r) } function f (t) { return function () { const e = this; const n = arguments; return new Promise(function (i, r) { const o = t.apply(e, n); function a (t) { p(o, i, r, a, s, 'next', t) } function s (t) { p(o, i, r, a, s, 'throw', t) }a(void 0) }) } } function y (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, v(i.key), i) } } function v (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function m (t, e, n) { g(t, e), e.set(t, n) } function g (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') } function b (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n } function _ (t, e) { return (function (t, e) { if (e.get) return e.get.call(t); return e.value }(t, P(t, e, 'get'))) } function w (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, P(t, e, 'set'), n)), n } function P (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) } const O = new WeakMap(); const k = new WeakMap(); const S = new WeakSet(); var E = (function () { function t (e) { let n, i; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), g(n = this, i = S), i.add(n), m(this, O, { writable: !0, value: void 0 }), m(this, k, { writable: !0, value: void 0 }), w(this, k, e); const o = r.StopGo; w(this, O, new o()), _(this, O).call(this, !0) } let e, n, l, u, h; return e = t, n = [{ key: 'container', get: function () { return _(this, k) } }, { key: 'addToPlaylist', value: function (t, e, n) { let i, r; return (i = (r = _(this, k).api) === null || void 0 === r ? void 0 : r.addToPlaylist(t, e, n)) !== null && void 0 !== i ? i : [] } }, { key: 'aspect', value: function () { return _(this, k).aspect } }, { key: 'bind', value: function (t, e, n, i) { let r, o, a; switch (t) { case 'crosstime':return (r = _(this, k).api) === null || void 0 === r ? void 0 : r.bind(t, e, n); case 'betweentimes':return (o = _(this, k).api) === null || void 0 === o ? void 0 : o.bind(t, e, n, i); default:return (a = _(this, k).api) === null || void 0 === a ? void 0 : a.bind(t, e) } } }, { key: 'cancelFullscreen', value: function () { const t = this; return _(this, O).synchronize(function (e) { _(t, k).cancelFullscreen().then(function () { e() }).catch(function () { e() }) }), this } }, { key: 'duration', value: function () { return _(this, k).duration } }, { key: 'email', value: function (t) { let e; const n = this; return void 0 === t ? (e = _(this, k).email) !== null && void 0 !== e ? e : null : (_(this, O).synchronize(function (e) { _(n, k).email = t, e() }), this) } }, { key: 'embedded', value: function (t) { const e = this; return _(this, k).api ? t ? _(this, k).api.embedded(t) : _(this, k).api.embedded() : (_(this, k).addEventListener('legacypublicapicreated', function n () { let i; _(e, k).removeEventListener('legacypublicapicreated', n), (i = _(e, k).api) === null || void 0 === i || i.embedded(t) }), !1) } }, { key: 'eventKey', value: function () { return _(this, k).eventKey } }, { key: 'hasData', value: function (t) { const e = this; return _(this, k).api ? t ? _(this, k).api.hasData(t) : _(this, k).api.hasData() : (_(this, k).addEventListener('legacypublicapicreated', function n () { let i; _(e, k).removeEventListener('legacypublicapicreated', n), (i = _(e, k).api) === null || void 0 === i || i.hasData(t) }), !1) } }, { key: 'hashedId', value: function () { return _(this, k).mediaId } }, { key: 'height', value: function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (t != null && !Number.isNaN(t)) { if (_(this, k).style.height = ''.concat(t, 'px'), b(this, S, T).call(this, 'heightchange'), e.constrain) { const n = t * _(this, k).aspect; _(this, k).style.width = ''.concat(n, 'px'), b(this, S, T).call(this, 'widthchange') } return this } return _(this, k).getBoundingClientRect().height } }, { key: 'inFullscreen', value: function () { return _(this, k).inFullscreen } }, { key: 'isMuted', value: function () { return _(this, k).muted } }, { key: 'mute', value: function () { const t = this; return _(this, O).synchronize(function (e) { _(t, k).muted = !0, e() }), this } }, { key: 'name', value: function () { let t; return (t = _(this, k).name) !== null && void 0 !== t ? t : null } }, { key: 'pause', value: function () { const t = this; return _(this, O).synchronize(function (e) { _(t, k).pause().then(function () { e() }).catch(function () { e() }) }), this } }, { key: 'percentWatched', value: function () { return _(this, k).percentWatched } }, { key: 'play', value: function () { const t = this; return _(this, O).synchronize(function (e) { _(t, k).play().then(function () { e() }).catch(function () { e() }) }), this } }, { key: 'playbackRate', value: function (t) { const e = this; return void 0 === t ? _(this, k).playbackRate : (_(this, O).synchronize(function (n) { _(e, k).playbackRate = t, n() }), this) } }, { key: 'plugin', value: function (t, e) { const n = this; return e ? (_(this, O).synchronize(function (i) { e(_(n, k).getPlugin(t)), i() }), this) : _(this, k).getPlugin(t) } }, { key: 'ready', value: function (t) { const e = this; return _(this, k).api ? t ? _(this, k).api.ready(t) : _(this, k).api.ready() : (_(this, k).addEventListener('legacypublicapicreated', function n () { let i; _(e, k).removeEventListener('legacypublicapicreated', n), (i = _(e, k).api) === null || void 0 === i || i.ready(t) }), !1) } }, { key: 'releaseControls', value: (h = f(d().mark(function t (e) { return d().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', _(this, k).releaseControls(e)); case 1:case 'end':return t.stop() } }, t, this) })), function (t) { return h.apply(this, arguments) }) }, { key: 'remove', value: function (t) { let e; (e = _(this, k).api) === null || void 0 === e || e.remove(t) } }, { key: 'replaceWith', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return _(this, O).synchronize(function (i) { let r, l; b(e, S, T).call(e, 'beforereplace'); const u = document.createElement('wistia-player'); if (u.mediaId = t, n.plugin) { const h = c({}, n.plugin); Object.keys(h).forEach(function (t) { const e = (0, a.getSourceName)(t); u.definePlugin(e, h[t]).catch(function () { console.warn('could not add plugin') }) }) } const d = c({}, n); delete d.plugin, Object.keys(d).forEach(function (t) { const e = s((0, o.translateEmbedOptionKeyValuePairForWebComponent)(t, n[t]), 2); const i = e[0]; const r = e[1]; u.setAttribute(i, r.toString()) }), u.addEventListener('legacypublicapiready', function () { i() }), u._oldEngine = (r = _(e, k).api) === null || void 0 === r ? void 0 : r._impl.engine; const p = document.getElementsByTagName('head')[0]; const f = (l = _(e, k).shadowRoot) === null || void 0 === l ? void 0 : l.querySelector('video'); f && p.appendChild(f), u._fullscreenState = _(e, k)._fullscreenState, _(e, k).replaceWith(u), b(e, S, T).call(e, 'afterreplace'), w(e, k, u), _(e, k).dispatchEvent(new CustomEvent('afterreplace', { detail: { api: e } })) }), this } }, { key: 'requestControls', value: (u = f(d().mark(function t (e) { return d().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', _(this, k).requestControls(e)); case 1:case 'end':return t.stop() } }, t, this) })), function (t) { return u.apply(this, arguments) }) }, { key: 'requestFullscreen', value: function () { const t = this; return _(this, O).synchronize(function (e) { _(t, k).requestFullscreen().then(function () { e() }).catch(function () { e() }) }), this } }, { key: 'secondsWatched', value: function () { return _(this, k).secondsWatched } }, { key: 'secondsWatchedVector', value: function () { return _(this, k).secondsWatchedVector } }, { key: 'state', value: function () { return _(this, k).state } }, { key: 'time', value: function (t) { const e = this; return void 0 === t ? _(this, k).currentTime : (_(this, O).synchronize(function (n) { _(e, k).addEventListener('seeked', function t () { _(e, k).removeEventListener('seeked', t), n() }), _(e, k).currentTime = t }), this) } }, { key: 'unbind', value: function (t, e, n, i) { let r, o, a; switch (t) { case 'crosstime':return (r = _(this, k).api) === null || void 0 === r ? void 0 : r.unbind(t, e, n); case 'betweentimes':return (o = _(this, k).api) === null || void 0 === o ? void 0 : o.unbind(t, e, n, i); default:return (a = _(this, k).api) === null || void 0 === a ? void 0 : a.unbind(t, e) } } }, { key: 'unmute', value: function () { const t = this; return _(this, O).synchronize(function (e) { _(t, k).muted = !1, e() }), this } }, { key: 'videoHeight', value: function (t) { let e; let n; const r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return (0, i.isNumber)(t) && ((n = _(this, k).api) === null || void 0 === n || n._impl.videoHeight(t, r)), (e = _(this, k).api) === null || void 0 === e ? void 0 : e._impl.videoHeight() } }, { key: 'videoQuality', value: function (t) { const e = this; return void 0 === t ? _(this, k).videoQuality : (_(this, O).synchronize(function (n) { _(e, k).videoQuality = t, n() }), this) } }, { key: 'videoWidth', value: function (t) { let e; let n; const r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return (0, i.isNumber)(t) && ((n = _(this, k).api) === null || void 0 === n || n._impl.videoWidth(t, r)), (e = _(this, k).api) === null || void 0 === e ? void 0 : e._impl.videoWidth() } }, { key: 'visitorKey', value: function () { let t; return ((t = window.Wistia) === null || void 0 === t ? void 0 : t.visitorKey.value()) != null ? window.Wistia.visitorKey.value() : null } }, { key: 'volume', value: function (t) { const e = this; return void 0 === t ? _(this, k).volume : (_(this, O).synchronize(function (n) { _(e, k).volume = t, n() }), this) } }, { key: 'width', value: function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (t != null && !Number.isNaN(t)) { if (_(this, k).style.width = ''.concat(t, 'px'), b(this, S, T).call(this, 'widthchange'), e.constrain) { const n = t / _(this, k).aspect; _(this, k).style.height = ''.concat(n, 'px'), b(this, S, T).call(this, 'heightchange') } return this } return _(this, k).getBoundingClientRect().width } }], n && y(e.prototype, n), l && y(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()); function T (t) { let e; let n; const i = this; (e = _(this, k).api) !== null && void 0 !== e && (n = e._bindings) !== null && void 0 !== n && n[t] && _(this, k).api._bindings[t].forEach(function (t) { t(i) }) } }, (t, e, n) => { n.d(e, { StopGo: () => i }); let i; const r = n(61); (function () { const t = [].slice; i = (function () { function e () { let t; return this._queue = [], this._green = !1, this._lock = !1, this.allInOne = (t = this, function () { return t._allInOne.apply(t, arguments) }), this.defineMethodsOn(this.allInOne), this.allInOne } return e.prototype.defineMethodsOn = function (t) { let e, n, i, r; for (n in e = {}, this, i = [], this)r = this[n], i.push(function (n, i, r) { if (e.toString.call(i) === '[object Function]') return t[n] = function () { return r[n].apply(r, arguments) } }(n, r, this)); return i }, e.prototype.flush = function () { let e, n; if (e = arguments.length >= 1 ? t.call(arguments, 0) : [], !this._green) return this; for (this._lock = !0; this._queue.length > 0 && (n = this._queue.shift(), e.length || !this.goArgs ? this.tryAndReport(function () { return n.apply(null, e) }) : this.tryAndReport(function (t) { return function () { return n.apply(null, t.goArgs) } }(this)), !this._block && this._green););return this._lock = !1, this }, e.prototype._debug = function () { return typeof console !== 'undefined' && console !== null ? console.log.apply(console, arguments) : void 0 }, e.prototype.synchronize = function () { let e, n, i, r; for (i = 0, r = (n = arguments.length >= 1 ? t.call(arguments, 0) : []).length; i < r; i++)e = n[i], this.synchronizeFn(e); return this }, e.prototype.synchronizeFn = function (t) { let e, n, i, r; return n = null, r = this, e = function () { return clearTimeout(n), r._block = !1, r.go() }, i = (function (n) { return function () { return n._block = !0, n.stop(), t(e) } }(this)), n = setTimeout((function (n) { return function () { return n._debug('StopGo#synchronize timed out', t), e() } }(this)), 5e3), this.runFn(i), this }, e.prototype.tryAndReport = function (t) { let e; try { return t() } catch (t) { return (e = t).stack ? (typeof console !== 'undefined' && console !== null && console.log(e.message), typeof console !== 'undefined' && console !== null ? console.log(e.stack) : void 0) : typeof console !== 'undefined' && console !== null ? console.log(e) : void 0 } }, e.prototype.clearSynchronized = function () { return this.setQueue([]), this._block = !1, this._green = !0 }, e.prototype.filter = function (t) { let e; return this._queue = (function () { let n, i, r, o; for (o = [], n = 0, i = (r = this._queue).length; n < i; n++)e = r[n], t(e) && o.push(e); return o }.call(this)), this }, e.prototype.push = function (t) { return this._queue.push(t), this }, e.prototype.go = function () { let e; return e = arguments.length >= 1 ? t.call(arguments, 0) : [], this._green = !0, this.goArgs = e, this.flush.apply(this, e), this }, e.prototype.stop = function () { return this._green = !1, this }, e.prototype.run = function () { let e, n, i, r; for (i = 0, r = (n = arguments.length >= 1 ? t.call(arguments, 0) : []).length; i < r; i++)e = n[i], this.runFn(e); return this }, e.prototype.then = function () { return this.run.apply(this, arguments) }, e.prototype.runFn = function (t) { return this._green && !this._block ? this._lock ? this.tryAndReport(t) : (this.push(t), this.flush()) : this.push(t), this }, e.prototype.remove = function () { let e, n, i, r; for (i = 0, r = (n = arguments.length >= 1 ? t.call(arguments, 0) : []).length; i < r; i++)e = n[i], this.removeFn(e); return this }, e.prototype.removeFn = function (t) { return this.filter(function (e) { return t !== e }), this }, e.prototype.setQueue = function (t) { return this._queue = t, this }, e.prototype.getQueue = function () { return this._queue }, e.prototype._allInOne = function () { let e, n; return e = arguments[0], n = arguments.length >= 2 ? t.call(arguments, 1) : [], !0 === e ? this.go.apply(this, n) : !1 === e ? this.stop() : e != null ? e instanceof Array ? this.run.apply(this, e) : typeof e === 'string' ? this[e].apply(this, n) : this.run.apply(this, arguments) : this._green }, e }()), i.when = function () { let e, n, r, o, a, s, l, u; for (u = arguments.length >= 1 ? t.call(arguments, 0) : [], s = new i(), r = function () { return s.go.apply(s, arguments) }, e = function (t, e) { return r = function () { return e(function () { return t.apply(null, arguments) }) } }, n = 0, o = (a = u.reverse()).length; n < o; n++)l = a[n], e(r, l); return r(), s }, i._drainStopGosAsync = function (t, e, n) { let o; if (n == null && (n = 0), !(e.length < 1)) return (o = e.shift()).run(function () { return i._drainStopGosAsync(t, e, n + 1) }), (0, r.doTimeout)(''.concat(t, '.').concat(n), function () { return o.go() }, 0), o } }).call(void 0) }, (t, e, n) => { n.r(e), n.d(e, { allow3rdParty: () => m, getPluginsNotInList: () => h, getSourceName: () => v, pluginScriptsFromDefinedPlugins: () => p, pluginScriptsToLoad: () => d }); const i = n(3); const r = n(6); const o = n(83); const a = n(23); const s = n(11); const l = (0, s.cachedDetect)(); const u = 'Audio'; const c = ['airplay', 'audioChapters', 'audioShare', 'captions', 'captions-v1', 'chapters', 'cropFill', 'customizePreview', 'customerLogo', 'dimTheLights', 'dimthelights', 'encodingProgress', 'eventbrite', 'externalPlayer', 'facebookPixel', 'googleAnalytics4', 'hlsVideo', 'html5Player', 'hubspotForm', 'marketoForm', 'midrollLink-v1', 'midrollLink-v2', 'nativeHlsVideo', 'notPlayableVideo', 'passwordProtectedVideo', 'postRoll-v1', 'postRoll-v2', 'requireEmail-v1', 'share', 'share-v2', 'socialbar-v1', 'thumbnailTextOverlay', 'thumbnailTextOverlay-v2', 'turnstile', 'videoThumbnail', 'vulcanV2Player', 'watchNext', 'wistiaLogo']; var h = function () { return (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).reduce(function (t, e) { return c.indexOf(e.name) === -1 && t.push(e), t }, []) }; var d = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const s = o.buildContext(); const u = t.mediaType; const c = t.embedOptions; const h = Object(c).plugin; const d = e.plugin || h || {}; const m = (0, r.merge)({}, d, n); const g = o.choosePlayer(s, t, e); const b = p(m, e); if ((l.safari || l.iphone || l.ipad) && !1 !== e.airplayButton) { const _ = { name: 'airplay', options: m.airplay || {}, async: !0, src: ''.concat((0, a.eV1Protocol)(), '//').concat((0, a.eV1HostWithPort)(), '/assets/external/airplay.js') }; b.push(_) } const w = f(b, e, g, u); return g === 'vulcan-v2' && e.chaptersOn && !m.chapters && w.push({ name: v('chapters'), src: ''.concat((0, a.eV1Protocol)(), '//').concat((0, a.eV1HostWithPort)(), '/assets/external/chapters.js'), async: !0 }), e.showCustomerLogo && e.customerLogoImageUrl && t.enableCustomerLogo && w.push({ name: 'customerLogo', options: m.customerLogo || {}, async: !0, src: ''.concat((0, a.eV1Protocol)(), '//').concat((0, a.eV1HostWithPort)(), '/assets/external/customerLogo.js') }), !0 !== e.branding && !0 !== t.branding || w.push({ name: 'wistiaLogo', options: m.wistiaLogo || {}, async: !0, src: ''.concat((0, a.eV1Protocol)(), '//').concat((0, a.eV1HostWithPort)(), '/assets/external/wistiaLogo.js') }), g !== 'vulcan-v2' || i.Wistia.VulcanV2Player || w.push({ name: 'vulcanV2Player', options: {}, async: !1, src: ''.concat((0, a.eV1Protocol)(), '//').concat((0, a.eV1HostWithPort)(), '/assets/external/vulcanV2Player.js') }), y(w) }; var p = function (t, e) { const n = {}; return Object.keys(t).forEach(function (i) { if ((function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }(t, i)) && (function (t) { return t !== 'socialbar-v1' && t.indexOf('transcript') === -1 }(v(i)))) { const o = t[i]; if (o && !1 !== o.on) { const s = v(i); const l = { name: s, src: ''.concat((0, a.eV1Protocol)(), '//').concat((0, a.eV1HostWithPort)(), '/assets/external/').concat(s, '.js'), async: o.async != null ? o.async : !/^(requireEmail|captions|midrollLink|share|turnstile)/.test(i), options: o }; o.src && m(e) && (l.src = o.src); const u = n[s]; u ? (0, r.assign)(u, l) : n[s] = l } } }), Object.values(n) }; var f = function (t, e, n, i) { return t.map(function (t) { if (n === 'vulcan-v2') switch (t.name) { case 'captions-v1':t.name = 'captions', t.src = t.src.replace(/captions-v1/, 'captions'); break; case 'share':i === u ? (t.name = 'audioShare', t.src = t.src.replace(/share/, 'audioShare')) : (t.name = 'share-v2', t.src = t.src.replace(/share/, 'share-v2')); break; case 'chapters':i === u ? (t.name = 'audioChapters', t.src = t.src.replace(/chapters/, 'audioChapters')) : t.name = 'chapters'; break; case 'postRoll-v1':t.name = 'postRoll-v2', t.src = t.src.replace(/postRoll-v1/, 'postRoll-v2'); break; case 'midrollLink-v1':t.name = 'midrollLink-v2', t.src = t.src.replace(/midrollLink-v1/, 'midrollLink-v2'); break; case 'requireEmail-v1':e._inLegacyPlaylist || (t.name = 'turnstile', t.src = t.src.replace(/requireEmail-v1/, 'turnstile')) } return t }) }; var y = function (t) { const e = function (t) { let e = 0; return t && t.options && t.options.loadWeight && (e = t.options.loadWeight), e }; return t.sort(function (t, n) { return e(t) - e(n) }) }; var v = function (t) { switch (t) { case 'requireEmail':case 'requireEmail-v1':return 'turnstile'; case 'postRoll':return 'postRoll-v2'; case 'captions':return 'captions-v1'; default:return t } }; var m = function () { return !1 !== (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}).allowThirdParty && !/([\w_-]+\.)?wistia\.(com|st|io)$/.test(window.location.hostname) } }, (t, e, n) => { !(function (t) { let e, i, r, o, a, s, l, u, c, h, d, p, f, y, v, m, g, b; if (!t.embeds)t.embeds = {}, i = n(93).StopGo, b = n(12).wlog, d = n(8).onDocReady, o = n(96).asyncChain, g = n(45).throttle, (f = n(5)).elemClasses, s = f.elemHasClass, l = f.elemMutationObserver, n(24).queryParamsToObject, a = n(61).clearTimeouts, (y = n(6)).cast, h = y.isObject, r = y.assign, y.clone, p = n(86).optionsFromElemClass, u = n(90).getAllApiEmbedElements, c = (v = n(87)).getOrSetEmbedOptionStore, m = v.setEmbedOptionStore, e = v.GLOBAL_ID_KEY, n(92).TranslationApi, t.embeds.setup = function (e) { return t.embeds.notEmbedding(function () { let n; if (d(n = function () { let n, i, r, a, s, l, u, c, h; t.embeds.notEmbedding(!1), a = []; try { for ((e = t.embeds.uninitialized(e)) && e.length && e.length > 0 && t.info('initializing', e != null ? e.length : void 0, 'embedElems'), l = 0, u = e.length; l < u; l++) { r = e[l]; try { if (t.info('initializing elem', r), s = t.embeds.hashedIdForElem(r, { asyncOnly: !0 }), !document.body.contains(r)) continue; r.id ? document.getElementById(r.id) !== r && (c = t.embeds.genIdFor(s), t.error('Duplicate DOM ID found for container "' + r.id + '". Changing it to "' + c + '" to avoid issues.', r), r.id = c) : r.id = t.embeds.genIdFor(s), r.uniqueId = r.id, h = p(r), m('__' + r.id + '_dom_options__', h), (function (e, n) { a.push(function () { if (!t.embeds.containerIsInitialized(n)) return t.embed(e, { container: n.id }) }) }(s, r)) } catch (e) { n = e, t.error(n) } } } catch (e) { i = e, t.error(i) } return a.push(function () { return t.watchForInit() }), a.push(function () { return t.embeds.notEmbedding(!0) }), o('embeds_setup', a) }), t.detect.ios.version === 0 && !t.detect.safari) return n() }) }, t.embeds._setupThrottled = g(500, t.embeds.setup), t.embeds.hashedIdForElem = function (t, e) { let n, i, r, o, a, s; return e == null && (e = {}), t.tagName === 'WISTIA-PLAYER' ? t.mediaId : e.asyncOnly ? ((n = t.className) != null && (i = n.match(/wistia_async_([^\s]+)/)) != null ? i[1] : void 0) || null : ((r = t.className) != null && (o = r.match(/wistia_async_([^\s]+)/)) != null ? o[1] : void 0) || ((a = t.className) != null && (s = a.match(/wistia_([^\s]+)/)) != null ? s[1] : void 0) || null }, t.embeds.genIdFor = function (t) { let e, n, i; for (e = 'wistia-' + t, i = 1; n = e + '-' + i, document.getElementById(n) || document.querySelector('[unique-id=' + n + ']');)i += 1; return n }, t.options = c, t.embeds.uninitialized = function (e) { let n, i, r, o; for (e == null && (e = u()), o = [], i = 0, r = e.length; i < r; i++)n = e[i], t.embeds.hashedIdForElem(n, { asyncOnly: !0 }) && !t.embeds.containerIsInitialized(n) && o.push(n); return o }, t.embeds.containerIsInitialized = function (e) { return e && (e.wistiaApi || e.tagName === 'WISTIA-PLAYER' || e._convertingToAurora) && !(e.wistiaApi instanceof t.IframeApiProxy) }, t.embeds.initialized = function (e) { let n, i, r, o; for (o in r = [], i = t._data.video)n = i[o], r.push(n); return r }, t.embeds.observe = function () { let e, n; if (!t.embeds.initObserver) { if (t.embeds.initObserver = l(function (e) { let n, i, r, o, a, l, u, c, h, d; for (i = [], n = !1, r = 0, a = e.length; r < a; r++) for (((h = (u = e[r]).addedNodes) != null ? h.length : void 0) > 0 && (n = !0), o = 0, l = (d = u.addedNodes || []).length; o < l; o++)c = d[o], s(c, 'wistia_embed') && i.push(c); if (i.length > 0 && setTimeout(function () { return t.embeds.setup(i) }, 10), n) return t.embeds._setupThrottled() }), e = { subtree: !0, childList: !0 }, t.detect.ios.version > 0 || t.detect.safari) return d(function () { return t.embeds.initObserver.observe(document.body, e) }); try { return t.embeds.initObserver.observe(document.body, e) } catch (i) { return n = i, b.notice(n), d(function () { try { return t.embeds.initObserver.observe(document.body, e) } catch (t) { return n = t, b.error(n) } }) } } }, t.embeds.unobserve = function () { let e; return (e = t.embeds.initObserver) != null && e.disconnect(), t.embeds.initObserver = null }, t.embeds.poll = function (e) { return e == null && (e = 500), t.eventLoop.add('poll_setup_embeds', e, function () { return t.embeds.setup() }) }, t.embeds.unpoll = function () { let e; return (e = t.eventLoop) != null ? e.remove('poll_setup_embeds') : void 0 }, t.embeds.watch = function () { return t.embeds._dontWatch = !1, t.detect.mutationObserver ? (t.embeds.observe(), t.embeds.poll(2e3)) : t.embeds.poll() }, t.embeds.dontWatch = function () { return t.embeds._dontWatch = !0, t.embeds.unwatch() }, t.embeds.unwatch = function () { return t.embeds.unobserve(), t.embeds.unpoll() }, t.flushInit = function () { let e, n, i, r; if (window.wistiaInit) { if (wistiaInit instanceof Array) for (i = 0, r = wistiaInit.length; i < r; i++) { n = wistiaInit[i]; try { typeof n === 'function' && n(t) } catch (t) { e = t, b.error(e) } } else typeof wistiaInit === 'function' && wistiaInit(t); return window.wistiaInit = null } }, t.addQueue = function (e) { return t._queueNames.push(e), t.watchForInit() }, t._queueNames = ['_wq', 'wistiaInitQueue'], t._wqBoundListeners = [], t.flushInitQueue = function () { let n, i, r, o, a, s, l, u, c, d, p, f, y, v, g; if (!t._isFlushingInitQueue) { t._isFlushingInitQueue = !0; try { for (n = function (t) { return t.translationApi ? t.translationApi : t }, v = t._queueNames, s = 0, c = v.length; s < c; s++) if (f = v[s], (p = window[f]) && p instanceof Array && p.length > 0) { for (a = []; p.length > 0;) if (g = p.shift(), h(g)) if (g.revoke && t.revokeQueueListener(g.revoke), g.__unbinds || (g.__unbinds = []), g.id)y = !1, g.options && (g.id === '_all' ? (m(e, g.options), y = !0) : (m(g.id, g.options), y = !0)), (function (e) { let i, r; r = e.id === '_all' ? [] : [e.id], e.onFind && (i = r.concat([function (t) { return e.onFind(n(t)) }]), e.__unbinds = e.__unbinds.concat(t.api.apply(t, i)), y = !0), e.onHasData && (i = r.concat([function (t) { return t.hasData(function () { return e.onHasData(n(t)) }) }]), e.__unbinds = e.__unbinds.concat(t.api.apply(t, i)), y = !0), e.onEmbedded && (i = r.concat([function (t) { return t.embedded(function () { return e.onEmbedded(n(t)) }) }]), e.__unbinds = e.__unbinds.concat(t.api.apply(t, i)), y = !0), e.onReady && (i = r.concat([function (t) { return t.ready(function () { return e.onReady(n(t)) }) }]), e.__unbinds = e.__unbinds.concat(t.api.apply(t, i)), y = !0), y ? t._wqBoundListeners.push(e) : t.error('No initialization function provided for ID ' + e.id, e) }(g)); else for (u in o = function (i, r, o) { let s, l; return typeof o === 'function' ? (l = function (t) { return t.hasData(function () { return o(n(t)) }) }, s = function () { return i.__unbinds = r === '_all' ? i.__unbinds.concat(t.api(l)) : i.__unbinds.concat(t.api(r, l)), t._wqBoundListeners.push(i) }, a.push(s)) : h(o) ? (s = r === '_all' ? function () { return m(e, o) } : function () { return m(r, o) }, a.push(s)) : r !== '__unbinds' && r !== 'revoke' ? t.error('Unknown initialization object:', o, 'Expected Object or Function.') : void 0 }, g)o(g, u, g[u]); else typeof g === 'function' ? (function (e) { let n; n = function () { return e(t) }, a.push(n) }(g)) : t.notice(f + ": Don't know what to do with " + g + ', ignoring.'); for (l = 0, d = a.length; l < d; l++) { r = a[l]; try { typeof r === 'function' && r(t) } catch (t) { i = t, b.error(i) } }p.length = 0 } } catch (t) { i = t, b.error(i) } return t._isFlushingInitQueue = !1 } }, t.getInitQueueListeners = function () { return r([], t._wqBoundListeners) }, t.revokeQueueListener = function (e) { let n, i, r, o, a, s, l, u; for (s = [], n = 0, r = (l = e instanceof Array ? e : [e]).length; n < r; n++) { if ((e = l[n]).__unbinds) { for (i = 0, o = (a = e.__unbinds).length; i < o; i++) typeof (u = a[i]) === 'function' && u(); delete e.__unbinds }s.push(t._wqBoundListeners = t._wqBoundListeners.filter(function (t) { return t !== e })) } return s }, t.watchForInit = function () { if (t._pollInit == null && (t._pollInit = function () { return t.flushInitQueue(), t.flushInit() }), t._pollInit(), t.eventLoop) return t.eventLoop.unpause('poll_init'), t.eventLoop.add('poll_init', 500, t._pollInit) }, t.api = function (e, n) { let i, r, o, a, s, l, u, c, h, d, p; if (e != null) { if (n) return t.api.onFind(e, n); if (typeof e === 'function') return t.api.onFind(e); if (typeof e === 'string') { if (c = e, !(o = document.querySelector("[unique-id='" + c + "']") || document.getElementById(c))) for (l = 0, u = (r = t.api.all()).length; l < u; l++) if (((h = (a = r[l]).hashedId()) != null ? h.indexOf(c) : void 0) === 0 || ((d = a.container.id) != null ? d.indexOf(c) : void 0) === 0) { o = a.container; break } } else typeof e === 'number' ? (s = e, i = t.api.all(), s < 0 && (s = i.length + s), o = ((p = i[s]) != null ? p.container : void 0) || null) : window.HTMLElement && e instanceof HTMLElement ? o = e : t.error('Wistia.api: Unrecognized matcher', e); return (o != null ? o.wistiaApi : void 0) && (o.wistiaApi instanceof t.PublicApi || t.IframeApi && o.wistiaApi instanceof t.IframeApi) ? o.wistiaApi : (o != null ? o.tagName : void 0) === 'WISTIA-PLAYER' && (o != null ? o.translationApi : void 0) ? o.translationApi : null } return t.api.all()[0] || null }, t.api.all = function () { return t.api._apiHandles().concat(t.api._iframeHandles()) }, t.api._apiHandles = function () { return t.embeds.initialized() }, t.api._iframeHandles = function () { let e, n, i, r; for (r in i = [], n = t._data.iframe_api)e = n[r], i.push(e); return i }, t.api.onFind = function (e, n) { let i, r; return typeof e === 'function' && (n = e, e = null), i = function (i) { return (e === null || t.api(e) === i) && (n(i), !0) }, wistiaEmbeds.each(i), r = [wistiaEmbeds.on('initembed', i), wistiaEmbeds.on('afterreplace', i)], function () { let t, e, n, i; for (n = [], t = 0, e = r.length; t < e; t++)i = r[t], n.push(i()); return n } }, t._asyncInitSoonAfterLoad = function (e) { return e == null && (e = 10), setTimeout(function () { let e; try { return t.embeds.setup(), t.embeds._dontWatch || t.embeds.watch(), t.watchForInit() } catch (t) { return e = t, b.error(e) } }, e) }, t._initializers.initAsyncEmbeds = function () { let e, n, r; return t.embeds.notEmbedding = new i(), t.embeds.notEmbedding(!0), t._data == null && (t._data = {}), (e = t._data).video == null && (e.video = {}), (n = t._data).iframe_api == null && (n.iframe_api = {}), window._inWistiaIframe ? setTimeout(function () { return t.watchForInit() }, 10) : (t._asyncInitSoonAfterLoad(), t._asyncInitSoonAfterLoad(500), (r = t.eventLoop) != null ? r.pause('poll_init') : void 0) }, t._destructors.destroyAsyncEmbeds = function () { let e, n; return a('embeds_setup'), (e = t.eventLoop) != null && e.remove('poll_init'), (n = t.embeds) != null ? n.unwatch() : void 0 } }(Wistia)) }, (t, e, n) => { n.d(e, { asyncChain: () => l }); const i = n(93); const r = n(12); const o = n(61); function a (t, e) { let n = typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (!n) { if (Array.isArray(t) || (n = (function (t, e) { if (!t) return; if (typeof t === 'string') return s(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return s(t, e) }(t))) || e && t && typeof t.length === 'number') { n && (t = n); let i = 0; const r = function () {}; return { s: r, n: function () { return i >= t.length ? { done: !0 } : { done: !1, value: t[i++] } }, e: function (t) { throw t }, f: r } } throw new TypeError('Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') } let o; let a = !0; let l = !1; return { s: function () { n = n.call(t) }, n: function () { const t = n.next(); return a = t.done, t }, e: function (t) { l = !0, o = t }, f: function () { try { a || n.return == null || n.return() } finally { if (l) throw o } } } } function s (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } var l = function (t, e) { let n; const s = []; const l = a(e); try { for (l.s(); !(n = l.n()).done;) { !(function (t) { s.push((new i.StopGo()).run(function () { try { return t() } catch (t) { return r.wlog.error(t) } })) }(n.value)) } } catch (t) { l.e(t) } finally { l.f() } const u = s[s.length - 1]; i.StopGo._drainStopGosAsync(t, s); const c = new i.StopGo(); return u.then(function () { return (0, o.doTimeout)(''.concat(t, '.last'), function () { return c.go() }, 0) }), c } }, (t, e, n) => { const i = n(12); const r = n(88); const o = n(61); const a = n(20); function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function l (t) { const e = h(); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function u (t) { const e = typeof Map === 'function' ? new Map() : void 0; return u = function (t) { if (t === null || !(function (t) { try { return Function.toString.call(t).indexOf('[native code]') !== -1 } catch (e) { return typeof t === 'function' } }(t))) return t; if (typeof t !== 'function') throw new TypeError('Super expression must either be null or a function'); if (void 0 !== e) { if (e.has(t)) return e.get(t); e.set(t, n) } function n () { return c(t, arguments, p(this).constructor) } return n.prototype = Object.create(t.prototype, { constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 } }), d(n, t) }, u(t) } function c (t, e, n) { return c = h() ? Reflect.construct.bind() : function (t, e, n) { const i = [null]; i.push.apply(i, e); const r = new (Function.bind.apply(t, i))(); return n && d(r, n.prototype), r }, c.apply(null, arguments) } function h () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } } function d (t, e) { return d = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, d(t, e) } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) }!(function (t) { if (!t.EmbedListener)t.EmbedListener = (function (e) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && d(t, e) }(p, e)); let n; let u; let c; const h = l(p); function p () { let t; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), (t = h.call(this)).uuid = (0, a.seqId)(), t.logger = i.wlog.getPrefixedFunctions('EmbedShepherd'), t.bindHandles(), t.bind('down', function () { return t.logger.info('got down event, prune and rebind handles'), (0, o.doTimeout)('prune_zombies_later', function () { return t.pruneZombies(), t.bindHandles() }) }), t.bind('up', function (e) { return t.logger.info('got up event, set _bound=false for', e), e._bound = !1, t.bindHandles() }), t } return n = p, (u = [{ key: 'bindHandles', value: function () { const t = this; const e = this.allUnboundHandles(); return this.logger.info('bindHandles', e), (function () { for (var n = [], i = 0, r = Array.from(e); i < r.length; i++) { const o = r[i]; t.logger.info('bind to all events for', o), o._bound = !0, n.push(t.push(o)) } return n }()) } }, { key: 'pruneZombies', value: function () { let t; const e = this; this.logger.info('pruneZombies'); for (var n = [], i = 0, r = Array.from(this.allBoundHandles()); i < r.length; i++)(t = r[i]).looksDown() ? this.logger.info('prune zombie', t) : n.push(t); for (let o = 0, a = this.length, s = a >= 0; s ? o <= a : o >= a; s ? o++ : o--) delete this[o]; return this.length = 0, (function () { for (var i = [], r = 0, o = Array.from(n); r < o.length; r++)t = o[r], i.push(e.push(t)); return i }()) } }, { key: 'allBoundHandles', value: function () { for (var t = [], e = 0, n = Array.from(this.allHandles()); e < n.length; e++) { const i = n[e]; i._bound && t.push(i) } return t } }, { key: 'allUnboundHandles', value: function () { for (var t = [], e = 0, n = Array.from(this.allHandles()); e < n.length; e++) { const i = n[e]; i._bound || t.push(i) } return t } }, { key: 'allHandles', value: function () { return this.apiHandles().concat(this.iframeApiHandles()) } }, { key: 'iframeApiHandles', value: function () { this.iframes || (this.iframes = document.getElementsByTagName('iframe')); for (var e = [], n = 0, i = Array.from(this.iframes); n < i.length; n++) { const r = i[n]; !r.wistiaApi || r.wistiaApi instanceof t.IframeApiProxy || r.wistiaApi === 'removed' || e.push(r.wistiaApi) } return e } }, { key: 'apiHandles', value: function () { const t = []; if (window.Wistia) { const e = (0, r.wData)('video'); for (const n in e) { const i = e[n]; t.push(i) } } return t } }, { key: 'each', value: function (t) { return Array.from(this.allBoundHandles()).map(function (e) { return t(e) }) } }, { key: 'onFind', value: function (t) { const e = this; const n = function (n) { return n.up(function () { return e.logger.info('onFind', n), t(n), n.unbind }) }; return this.each(n), this.bind('initembed', n) } }]) && s(n.prototype, u), c && s(n, c), Object.defineProperty(n, 'prototype', { writable: !1 }), p }(u(Array))), t.mixin(t.EmbedListener.prototype, t.bindable), t._initializers.initEmbedShepherd = function () { let e, n, r, o; window.wistiaEmbeds ? (i.wlog.info('EmbedShepherd window.wistiaEmbeds already exists, call bindHandles'), (r = (o = window.wistiaEmbeds).bindHandles) === null || void 0 === r || r.call(o)) : (i.wlog.info('EmbedShepherd initialize embed shepherd'), window.wistiaEmbeds = new t.EmbedListener()); return i.wlog.info('EmbedShepherd call window.wistiaEmbedShepherdReady()'), (e = (n = window).wistiaEmbedShepherdReady) === null || void 0 === e ? void 0 : e.call(n) }, t._destructors.destroyEmbedShepherd = function () { let t; return (t = window.wistiaEmbeds) === null || void 0 === t || t.each(function (t) { return t._bound = !1 }), window.wistiaEmbeds = null } }(window.Wistia)) }, (t, e, n) => { const i = n(39); const r = n(99); !(function (t) { t.mux || (t.mux = {}), t._initializers.initMux = function () { if (!t.mux._setup) { let e; const n = window.crypto || window.msCrypto; if (void 0 !== n) { e = n.getRandomValues(new Uint32Array(1))[0] / 4294967296 >= 0.1 } else { const o = Math.random(); e = Number(o >= 0.1) }e ? t.mux._disabled = !0 : (t.mux._setup = !0, t.mux._disabled = !1, (0, r.onFindApiHandle)(r.ALL_API_HANDLES_KEY, function (e) { const n = function () { return window.wistiaDisableMux }; n() || t.mux._disabled || e.iframe || e._opts && !1 === e._opts.mux || (0, i.dynamicImport)('assets/external/wistia-mux.js').then(function (t) { e.embedded(function () { n() || t.init(e) }) }) })) } }, t._destructors.destroyMux = function () { t.mux._disabled = !0; for (let e = t.api.all(), n = 0; n < e.length; n++) { var i; (i = e[n].mux) === null || void 0 === i || i.destroy() } } }(window.Wistia)) }, (t, e, n) => { n.d(e, { ALL_API_HANDLES_KEY: () => p, onFindApiHandle: () => b }); const i = n(9); const r = n(89); const o = n(90); const a = n(5); const s = n(8); const l = n(12); function u (t) { return (function (t) { if (Array.isArray(t)) return c(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return c(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return c(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function c (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const h = 'initembed'; const d = 'afterreplace'; var p = '_all'; let f = null; const y = []; const v = []; const m = function (t, e) { let n; let i; const r = (n = (i = t.wistiaApi) !== null && void 0 !== i ? i : t.api) !== null && void 0 !== n ? n : null; r !== null && r !== 'removed' && e(r) }; const g = function (t, e) { return t.addEventListener(h, e), t.addEventListener(d, e), [function () { return t.removeEventListener(h, e) }, function () { return t.removeEventListener(d, e) }] }; var b = function (t, e) { const n = function (n) { return (t === p || (0, r.getOneApiHandle)(t) === n) && (e(n), !0) }; const c = function (t) { const n = t.detail.api; n !== 'removed' && e(n) }; y.push(n), v.push(c), f === null && (f = (0, a.elemMutationObserver)(function (t) { t.forEach(function (t) { t.addedNodes.forEach(function (t) { if (t.tagName === 'WISTIA-PLAYER' || (0, a.elemHasClass)(t, 'wistia_embed')) { const e = t; y.forEach(function (t) { m(e, t) }), v.forEach(function (t) { g(e, t) }) } }) }) }), (0, s.onDocReady)(function () { if (f !== null) try { f.observe(document.body, { subtree: !0, childList: !0 }) } catch (t) { l.wlog.error(t) } })); const h = function () { const t = (function (t, e) { const n = Array.from((0, o.getAllApiEmbedElements)()); const i = Array.from(document.getElementsByTagName('wistia-player')); return n.concat(i).reduce(function (n, i) { return m(i, t), [].concat(u(n), u(g(i, e))) }, []) }(n, c)); return function () { return t.map(function (t) { return t() }) } }; h(), (0, i.poll)(s.isDocReady, h, 300, 1e4) } }, (t, e, n) => { n(101) }, (t, e, n) => { const i = n(23); const r = n(102); const o = n(39); const a = n(5); const s = n(87); const l = n(103); const u = n(104); const c = n(30); const h = n(12); n(105), n(143), n(144); function d (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return p(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return p(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function p (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function f (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function y (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? f(Object(n), !0).forEach(function (e) { j(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : f(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function v () { v = function () { return e }; let t; var e = {}; const n = Object.prototype; const i = n.hasOwnProperty; const r = Object.defineProperty || function (t, e, n) { t[e] = n.value }; const o = typeof Symbol === 'function' ? Symbol : {}; const a = o.iterator || '@@iterator'; const s = o.asyncIterator || '@@asyncIterator'; const l = o.toStringTag || '@@toStringTag'; function u (t, e, n) { return Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }), t[e] } try { u({}, '') } catch (t) { u = function (t, e, n) { return t[e] = n } } function c (t, e, n, i) { const o = e && e.prototype instanceof g ? e : g; const a = Object.create(o.prototype); const s = new x(i || []); return r(a, '_invoke', { value: T(t, n, s) }), a } function h (t, e, n) { try { return { type: 'normal', arg: t.call(e, n) } } catch (t) { return { type: 'throw', arg: t } } }e.wrap = c; const d = 'suspendedStart'; const p = 'suspendedYield'; const f = 'executing'; const y = 'completed'; const m = {}; function g () {} function b () {} function _ () {} let w = {}; u(w, a, function () { return this }); const P = Object.getPrototypeOf; const O = P && P(P(B([]))); O && O !== n && i.call(O, a) && (w = O); const k = _.prototype = g.prototype = Object.create(w); function S (t) { ['next', 'throw', 'return'].forEach(function (e) { u(t, e, function (t) { return this._invoke(e, t) }) }) } function E (t, e) { function n (r, o, a, s) { const l = h(t[r], t, o); if (l.type !== 'throw') { const u = l.arg; const c = u.value; return c && typeof c === 'object' && i.call(c, '__await') ? e.resolve(c.__await).then(function (t) { n('next', t, a, s) }, function (t) { n('throw', t, a, s) }) : e.resolve(c).then(function (t) { u.value = t, a(u) }, function (t) { return n('throw', t, a, s) }) }s(l.arg) } let o; r(this, '_invoke', { value: function (t, i) { function r () { return new e(function (e, r) { n(t, i, e, r) }) } return o = o ? o.then(r, r) : r() } }) } function T (e, n, i) { let r = d; return function (o, a) { if (r === f) throw new Error('Generator is already running'); if (r === y) { if (o === 'throw') throw a; return { value: t, done: !0 } } for (i.method = o, i.arg = a; ;) { const s = i.delegate; if (s) { const l = C(s, i); if (l) { if (l === m) continue; return l } } if (i.method === 'next')i.sent = i._sent = i.arg; else if (i.method === 'throw') { if (r === d) throw r = y, i.arg; i.dispatchException(i.arg) } else i.method === 'return' && i.abrupt('return', i.arg); r = f; const u = h(e, n, i); if (u.type === 'normal') { if (r = i.done ? y : p, u.arg === m) continue; return { value: u.arg, done: i.done } }u.type === 'throw' && (r = y, i.method = 'throw', i.arg = u.arg) } } } function C (e, n) { const i = n.method; const r = e.iterator[i]; if (r === t) return n.delegate = null, i === 'throw' && e.iterator.return && (n.method = 'return', n.arg = t, C(e, n), n.method === 'throw') || i !== 'return' && (n.method = 'throw', n.arg = new TypeError("The iterator does not provide a '" + i + "' method")), m; const o = h(r, e.iterator, n.arg); if (o.type === 'throw') return n.method = 'throw', n.arg = o.arg, n.delegate = null, m; const a = o.arg; return a ? a.done ? (n[e.resultName] = a.value, n.next = e.nextLoc, n.method !== 'return' && (n.method = 'next', n.arg = t), n.delegate = null, m) : a : (n.method = 'throw', n.arg = new TypeError('iterator result is not an object'), n.delegate = null, m) } function A (t) { const e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e) } function j (t) { const e = t.completion || {}; e.type = 'normal', delete e.arg, t.completion = e } function x (t) { this.tryEntries = [{ tryLoc: 'root' }], t.forEach(A, this), this.reset(!0) } function B (e) { if (e || e === '') { const n = e[a]; if (n) return n.call(e); if (typeof e.next === 'function') return e; if (!isNaN(e.length)) { let r = -1; const o = function n () { for (;++r < e.length;) if (i.call(e, r)) return n.value = e[r], n.done = !1, n; return n.value = t, n.done = !0, n }; return o.next = o } } throw new TypeError(typeof e + ' is not iterable') } return b.prototype = _, r(k, 'constructor', { value: _, configurable: !0 }), r(_, 'constructor', { value: b, configurable: !0 }), b.displayName = u(_, l, 'GeneratorFunction'), e.isGeneratorFunction = function (t) { const e = typeof t === 'function' && t.constructor; return !!e && (e === b || (e.displayName || e.name) === 'GeneratorFunction') }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, _) : (t.__proto__ = _, u(t, l, 'GeneratorFunction')), t.prototype = Object.create(k), t }, e.awrap = function (t) { return { __await: t } }, S(E.prototype), u(E.prototype, s, function () { return this }), e.AsyncIterator = E, e.async = function (t, n, i, r, o) { void 0 === o && (o = Promise); const a = new E(c(t, n, i, r), o); return e.isGeneratorFunction(n) ? a : a.next().then(function (t) { return t.done ? t.value : a.next() }) }, S(k), u(k, l, 'Generator'), u(k, a, function () { return this }), u(k, 'toString', function () { return '[object Generator]' }), e.keys = function (t) { const e = Object(t); const n = []; for (const i in e)n.push(i); return n.reverse(), function t () { for (;n.length;) { const i = n.pop(); if (i in e) return t.value = i, t.done = !1, t } return t.done = !0, t } }, e.values = B, x.prototype = { constructor: x, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = 'next', this.arg = t, this.tryEntries.forEach(j), !e) for (const n in this)n.charAt(0) === 't' && i.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = t) }, stop: function () { this.done = !0; const t = this.tryEntries[0].completion; if (t.type === 'throw') throw t.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; const n = this; function r (i, r) { return s.type = 'throw', s.arg = e, n.next = i, r && (n.method = 'next', n.arg = t), !!r } for (let o = this.tryEntries.length - 1; o >= 0; --o) { const a = this.tryEntries[o]; var s = a.completion; if (a.tryLoc === 'root') return r('end'); if (a.tryLoc <= this.prev) { const l = i.call(a, 'catchLoc'); const u = i.call(a, 'finallyLoc'); if (l && u) { if (this.prev < a.catchLoc) return r(a.catchLoc, !0); if (this.prev < a.finallyLoc) return r(a.finallyLoc) } else if (l) { if (this.prev < a.catchLoc) return r(a.catchLoc, !0) } else { if (!u) throw new Error('try statement without catch or finally'); if (this.prev < a.finallyLoc) return r(a.finallyLoc) } } } }, abrupt: function (t, e) { for (let n = this.tryEntries.length - 1; n >= 0; --n) { const r = this.tryEntries[n]; if (r.tryLoc <= this.prev && i.call(r, 'finallyLoc') && this.prev < r.finallyLoc) { var o = r; break } }o && (t === 'break' || t === 'continue') && o.tryLoc <= e && e <= o.finallyLoc && (o = null); const a = o ? o.completion : {}; return a.type = t, a.arg = e, o ? (this.method = 'next', this.next = o.finallyLoc, m) : this.complete(a) }, complete: function (t, e) { if (t.type === 'throw') throw t.arg; return t.type === 'break' || t.type === 'continue' ? this.next = t.arg : t.type === 'return' ? (this.rval = this.arg = t.arg, this.method = 'return', this.next = 'end') : t.type === 'normal' && e && (this.next = e), m }, finish: function (t) { for (let e = this.tryEntries.length - 1; e >= 0; --e) { const n = this.tryEntries[e]; if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), j(n), m } }, catch: function (t) { for (let e = this.tryEntries.length - 1; e >= 0; --e) { const n = this.tryEntries[e]; if (n.tryLoc === t) { const i = n.completion; if (i.type === 'throw') { var r = i.arg; j(n) } return r } } throw new Error('illegal catch attempt') }, delegateYield: function (e, n, i) { return this.delegate = { iterator: B(e), resultName: n, nextLoc: i }, this.method === 'next' && (this.arg = t), m } }, e } function m (t, e, n, i, r, o, a) { try { var s = t[o](a); var l = s.value } catch (t) { return void n(t) }s.done ? e(l) : Promise.resolve(l).then(i, r) } function g (t) { return function () { const e = this; const n = arguments; return new Promise(function (i, r) { const o = t.apply(e, n); function a (t) { m(o, i, r, a, s, 'next', t) } function s (t) { m(o, i, r, a, s, 'throw', t) }a(void 0) }) } } function b (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, x(i.key), i) } } function _ (t) { const e = k(); return function () { let n; const i = E(t); if (e) { const r = E(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return w(t) }(this, n)) } } function w (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function P (t) { const e = typeof Map === 'function' ? new Map() : void 0; return P = function (t) { if (t === null || !(function (t) { try { return Function.toString.call(t).indexOf('[native code]') !== -1 } catch (e) { return typeof t === 'function' } }(t))) return t; if (typeof t !== 'function') throw new TypeError('Super expression must either be null or a function'); if (void 0 !== e) { if (e.has(t)) return e.get(t); e.set(t, n) } function n () { return O(t, arguments, E(this).constructor) } return n.prototype = Object.create(t.prototype, { constructor: { value: n, enumerable: !1, writable: !0, configurable: !0 } }), S(n, t) }, P(t) } function O (t, e, n) { return O = k() ? Reflect.construct.bind() : function (t, e, n) { const i = [null]; i.push.apply(i, e); const r = new (Function.bind.apply(t, i))(); return n && S(r, n.prototype), r }, O.apply(null, arguments) } function k () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } } function S (t, e) { return S = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, S(t, e) } function E (t) { return E = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, E(t) } function T (t, e) { A(t, e), e.add(t) } function C (t, e, n) { A(t, e), e.set(t, n) } function A (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') } function j (t, e, n) { return (e = x(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function x (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function B (t, e) { return (function (t, e) { if (e.get) return e.get.call(t); return e.value }(t, M(t, e, 'get'))) } function R (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n } function D (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, M(t, e, 'set'), n)), n } function M (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) } const I = ['media-id']; const L = ['aspect', 'autoplay', 'big-play-button', 'do-not-track', 'email', 'end-video-behavior', 'fullscreen-control', 'hide-controls-on-load', 'hide-copy-link-and-thumbnail', 'muted', 'playback-rate-control', 'play-bar-control', 'player-color', 'playlist-links', 'playlist-loop', 'play-pause-control', 'play-pause-notifier', 'popover-content', 'popover-disable-autoplay', 'poster', 'preload', 'quality-control', 'quality-max', 'quality-min', 'resumable', 'seo', 'settings-control', 'silent-autoplay', 'transparent-letterbox', 'volume', 'volume-control', 'wistia-popover']; const W = ['big-play-button-border-radius', 'control-bar-border-radius', 'embed-host', 'hls', 'page-url', 'player-border-radius', 'player-force', 'rounded-player', 'stats-url', 'unique-id', 'use-web-component']; const F = { autoplay: !1, bigPlayButton: !0, bigPlayButtonBorderRadius: 0, controlBarBorderRadius: 0, controlsVisibleOnLoad: !0, copyLinkAndThumbnail: !0, doNotTrack: !1, endVideoBehavior: 'default', fullscreenControl: !0, hls: !0, playBarControl: !0, playerBorderRadius: 0, playerColor: '636155', playPauseControl: !0, playPauseNotifier: !0, playbackRateControl: !0, playlistLinks: '', playlistLoop: !1, popoverContent: void 0, poster: '', qualityControl: !0, qualityMax: void 0, qualityMin: void 0, resumable: 'auto', roundedPlayer: 0, seo: !0, settingsControl: !0, silentAutoplay: !1, state: 'beforeplay', statsUrl: null, transparentLetterbox: !1, volume: 1, volumeControl: !0, wistiaPopover: !1 }; const N = new WeakMap(); const H = new WeakMap(); const V = new WeakMap(); const U = new WeakMap(); const q = new WeakMap(); const z = new WeakMap(); const K = new WeakMap(); const G = new WeakMap(); const Q = new WeakMap(); const Y = new WeakMap(); const X = new WeakMap(); const $ = new WeakMap(); const Z = new WeakMap(); const J = new WeakSet(); const tt = new WeakSet(); const et = new WeakSet(); const nt = new WeakSet(); const it = new WeakSet(); const rt = new WeakSet(); const ot = new WeakSet(); const at = new WeakSet(); const st = new WeakSet(); const lt = new WeakSet(); const ut = new WeakSet(); const ct = new WeakSet(); const ht = new WeakSet(); const dt = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && S(t, e) }(x, t)); let e; let n; let i; let s; let u; let d; let p; let f; let y; let m; let P; let O; let k; let E; const A = _(x); function x () { let t, e; ((function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, x)), T(w(t = A.call(this)), ht), T(w(t), ct), T(w(t), ut), T(w(t), lt), T(w(t), st), T(w(t), at), T(w(t), ot), T(w(t), rt), T(w(t), it), T(w(t), nt), T(w(t), et), T(w(t), tt), T(w(t), J), C(w(t), Z, { get: void 0, set: yt }), C(w(t), $, { get: ft, set: void 0 }), C(w(t), X, { get: pt, set: void 0 }), j(w(t), 'plugin', void 0), C(w(t), N, { writable: !0, value: void 0 }), C(w(t), H, { writable: !0, value: void 0 }), C(w(t), V, { writable: !0, value: {} }), C(w(t), U, { writable: !0, value: void 0 }), C(w(t), q, { writable: !0, value: void 0 }), C(w(t), z, { writable: !0, value: !1 }), C(w(t), K, { writable: !0, value: !1 }), C(w(t), G, { writable: !0, value: '' }), C(w(t), Q, { writable: !0, value: {} }), C(w(t), Y, { writable: !0, value: '' }), t.attachShadow({ mode: 'open' }), t.dispatchEvent(new CustomEvent('loadstart')), D(w(t), H, {}), D(w(t), U, h.wlog.getPrefixedFunctions('WistiaPlayer')), R(w(t), lt, St).call(w(t)), R(w(t), ut, Et).call(w(t)), window.Wistia && void 0 === window.Wistia.wistia) && (window.Wistia.wistia = Date.now(), window.wistiaOptions = (e = window.wistiaOptions) !== null && void 0 !== e ? e : {}); return t } return e = x, n = [{ key: '_fullscreenState', get: function () { return B(this, V) }, set: function (t) { D(this, V, t) } }, { key: '_oldEngine', get: function () { return B(this, q) }, set: function (t) { D(this, q, t) } }, { key: 'api', get: function () { return B(this, N) } }, { key: 'aspect', get: function () { let t, e, n; return (t = (e = (n = this.api) === null || void 0 === n ? void 0 : n._impl.aspect()) !== null && void 0 !== e ? e : B(this, H).aspect) !== null && void 0 !== t ? t : this.offsetWidth / this.offsetHeight }, set: function (t) { let e; B(this, U).info('set aspect', t.toString()), R(this, ct, Tt).call(this, 'aspect', t), (e = this.api) === null || void 0 === e || e._impl.width((0, a.elemWidth)(this), { constrain: !0 }) } }, { key: 'authorization', set: function (t) { R(this, ct, Tt).call(this, 'authorization', t) } }, { key: 'autoplay', get: function () { return R(this, nt, bt).call(this, 'autoplay') }, set: function (t) { typeof t === 'boolean' && (B(this, U).info('set autoplay', t.toString()), R(this, ct, Tt).call(this, 'autoplay', t), t ? this.setAttribute('autoplay', '') : this.removeAttribute('autoplay')) } }, { key: 'bigPlayButton', get: function () { return R(this, nt, bt).call(this, 'bigPlayButton') }, set: function (t) { let e; B(this, U).info('set bigPlayButton', t.toString()), (e = this.api) === null || void 0 === e || e._impl.bigPlayButtonEnabled(t), R(this, ct, Tt).call(this, 'bigPlayButton', t) } }, { key: 'bigPlayButtonBorderRadius', get: function () { return R(this, nt, bt).call(this, 'bigPlayButtonBorderRadius') }, set: function (t) { let e; B(this, U).info('set bigPlayButtonBorderRadius', t.toString()), (e = this.api) === null || void 0 === e || e._impl.setBigPlayButtonBorderRadius(Number(t)), R(this, ct, Tt).call(this, 'bigPlayButtonBorderRadius', t) } }, { key: 'buffered', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.getStandardBuffered()) !== null && void 0 !== t ? t : {} } }, { key: 'controlBarBorderRadius', get: function () { return R(this, nt, bt).call(this, 'controlBarBorderRadius') }, set: function (t) { let e; B(this, U).info('set controlBarBorderRadius', t.toString()), (e = this.api) === null || void 0 === e || e._impl.setControlBarBorderRadius(Number(t)), R(this, ct, Tt).call(this, 'controlBarBorderRadius', t) } }, { key: 'controlsVisibleOnLoad', get: function () { return R(this, nt, bt).call(this, 'controlsVisibleOnLoad') }, set: function (t) { let e; B(this, U).info('set controlsVisibleOnLoad', t.toString()), (e = this.api) === null || void 0 === e || e._impl.renderUI(), R(this, ct, Tt).call(this, 'controlsVisibleOnLoad', t) } }, { key: 'copyLinkAndThumbnail', get: function () { return R(this, nt, bt).call(this, 'copyLinkAndThumbnail') }, set: function (t) { B(this, U).info('set copyLinkAndThumbnail', t.toString()); const e = this.copyLinkAndThumbnail; R(this, ct, Tt).call(this, 'copyLinkAndThumbnail', t), e !== t && this.dispatchEvent(new CustomEvent('copy-link-and-thumbnail-change', { detail: { copyLinkAndThumbnail: t } })) } }, { key: 'currentTime', get: function () { let t, e, n; return (t = (e = (n = this.api) === null || void 0 === n ? void 0 : n._impl.time()) !== null && void 0 !== e ? e : B(this, H).currentTime) !== null && void 0 !== t ? t : 0 }, set: function (t) { let e; const n = this; B(this, U).info('set currentTime', t.toString()), ((e = B(this, N)) === null || void 0 === e ? void 0 : e._impl.time(t)).then(function () { n.dispatchEvent(new CustomEvent('seeked')) }).catch(function () { n.dispatchEvent(new CustomEvent('seeked')) }), R(this, ct, Tt).call(this, 'currentTime', t) } }, { key: 'doNotTrack', get: function () { return R(this, nt, bt).call(this, 'doNotTrack') }, set: function (t) { B(this, U).info('set doNotTrack', t.toString()), R(this, ct, Tt).call(this, 'doNotTrack', t) } }, { key: 'duration', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.duration()) !== null && void 0 !== t ? t : 0 } }, { key: 'email', get: function () { let t, e, n, i; return (t = (e = (n = (0, l.extractEmailFromParams)(B(this, $))) !== null && void 0 !== n ? n : (i = (0, c.getWistiaLocalStorage)()[B(this, $)]) === null || void 0 === i ? void 0 : i.trackEmail) !== null && void 0 !== e ? e : B(this, H).email) !== null && void 0 !== t ? t : void 0 }, set: function (t) { this.email !== t && (B(this, U).info('set email', t), R(this, ht, Ct).call(this, t), R(this, ct, Tt).call(this, 'email', t)) } }, { key: 'embedHost', get: function () { let t; return (t = this.getAttribute('embed-host')) !== null && void 0 !== t ? t : '' }, set: function (t) { B(this, U).info('set embedHost', t), this.setAttribute('embed-host', t) } }, { key: 'embedOptions', get: function () { return B(this, X).embedOptions } }, { key: 'ended', get: function () { let t; return ((t = this.api) === null || void 0 === t ? void 0 : t._impl.state()) === 'ended' } }, { key: 'endVideoBehavior', get: function () { return R(this, nt, bt).call(this, 'endVideoBehavior') }, set: function (t) { let e, n; B(this, U).info('set endVideoBehavior', t), t === 'loop' ? (e = this.api) === null || void 0 === e || e._impl.addLoopBehavior() : (n = this.api) === null || void 0 === n || n._impl.removeLoopBehavior(), R(this, ct, Tt).call(this, 'endVideoBehavior', t) } }, { key: 'eventKey', get: function () { let t; return (t = this.api) === null || void 0 === t ? void 0 : t._impl.eventKey() } }, { key: 'fullscreenControl', get: function () { return R(this, nt, bt).call(this, 'fullscreenControl') }, set: function (t) { let e; B(this, U).info('set fullscreenControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.fullscreenControlEnabled(t), R(this, ct, Tt).call(this, 'fullscreenControl', t) } }, { key: 'hls', get: function () { return R(this, nt, bt).call(this, 'hls') }, set: function (t) { B(this, U).info('set hls', t.toString()), R(this, ct, Tt).call(this, 'hls', t) } }, { key: 'inFullscreen', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.inFullscreen()) !== null && void 0 !== t && t } }, { key: 'mediaId', get: function () { let t; return (t = this.getAttribute('media-id')) !== null && void 0 !== t ? t : '' }, set: function (t) { this.mediaId !== t && (B(this, U).info('set mediaId', t), this.setAttribute('media-id', t)) } }, { key: 'muted', get: function () { let t, e, n; return (t = (e = (n = B(this, N)) === null || void 0 === n ? void 0 : n._impl.isMuted()) !== null && void 0 !== e ? e : B(this, H).muted) !== null && void 0 !== t && t }, set: function (t) { B(this, U).info('set muted', t.toString()), this.api && (t ? this.api._impl.mute() : this.api._impl.unmute()), R(this, ct, Tt).call(this, 'muted', t) } }, { key: 'name', get: function () { let t, e, n, i; return (t = (e = B(this, Q).name) !== null && void 0 !== e ? e : (n = this.api) === null || void 0 === n || (i = n._mediaData) === null || void 0 === i ? void 0 : i.name) !== null && void 0 !== t ? t : void 0 } }, { key: 'paused', get: function () { let t; return ((t = this.api) === null || void 0 === t ? void 0 : t._impl.state()) === 'paused' } }, { key: 'percentWatched', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.percentWatched()) !== null && void 0 !== t ? t : 0 } }, { key: 'playbackRate', get: function () { let t, e, n; return (t = (e = (n = this.api) === null || void 0 === n ? void 0 : n._impl.playbackRate()) !== null && void 0 !== e ? e : B(this, H).playbackRate) !== null && void 0 !== t ? t : 1 }, set: function (t) { let e; B(this, U).info('set playbackRate', t.toString()), (e = this.api) === null || void 0 === e || e._impl.playbackRate(t), R(this, ct, Tt).call(this, 'playbackRate', t) } }, { key: 'playbackRateControl', get: function () { return R(this, nt, bt).call(this, 'playbackRateControl') }, set: function (t) { let e; B(this, U).info('set playbackRateControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.playbackRateControlEnabled(t), R(this, ct, Tt).call(this, 'playbackRateControl', t) } }, { key: 'playBarControl', get: function () { return R(this, nt, bt).call(this, 'playBarControl') }, set: function (t) { let e; B(this, U).info('set playBarControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.playbarControlEnabled(t), R(this, ct, Tt).call(this, 'playBarControl', t) } }, { key: 'playerBorderRadius', get: function () { return R(this, nt, bt).call(this, 'playerBorderRadius') }, set: function (t) { let e; B(this, U).info('set playerBorderRadius', t.toString()), (e = this.api) === null || void 0 === e || e._impl.setPlayerBorderRadius(Number(t)), R(this, ct, Tt).call(this, 'playerBorderRadius', t) } }, { key: 'playerColor', get: function () { return R(this, nt, bt).call(this, 'playerColor') }, set: function (t) { let e; B(this, U).info('set playerColor', t), (e = this.api) === null || void 0 === e || e._impl.playerColor(t), R(this, ct, Tt).call(this, 'playerColor', t) } }, { key: 'playerForce', get: function () { let t; return (t = this.getAttribute('player-force')) !== null && void 0 !== t ? t : void 0 }, set: function (t) { B(this, U).info('set playerForce', t), this.setAttribute('player-force', t) } }, { key: 'playlistLinks', get: function () { return R(this, nt, bt).call(this, 'playlistLinks') }, set: function (t) { B(this, U).info('set playlistLinks', t.toString()), R(this, ct, Tt).call(this, 'playlistLinks', t) } }, { key: 'playlistLoop', get: function () { return R(this, nt, bt).call(this, 'playlistLoop') }, set: function (t) { B(this, U).info('set playlistLoop', t.toString()), R(this, ct, Tt).call(this, 'playlistLoop', t) } }, { key: 'playPauseControl', get: function () { return R(this, nt, bt).call(this, 'playPauseControl') }, set: function (t) { let e; B(this, U).info('set playPauseControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.playPauseControlEnabled(t), R(this, ct, Tt).call(this, 'playPauseControl', t) } }, { key: 'playPauseNotifier', get: function () { return R(this, nt, bt).call(this, 'playPauseNotifier') }, set: function (t) { let e; B(this, U).info('set playPauseNotifier', t.toString()), (e = this.api) === null || void 0 === e || e._impl.playPauseNotifierEnabled(t), R(this, ct, Tt).call(this, 'playPauseNotifier', t) } }, { key: 'popoverContent', get: function () { return R(this, nt, bt).call(this, 'popoverContent') }, set: function (t) { B(this, U).info('set popoverContent', t), R(this, ct, Tt).call(this, 'popoverContent', t) } }, { key: 'popoverDisableAutoplay', get: function () { return R(this, nt, bt).call(this, 'popoverDisableAutoplay') }, set: function (t) { B(this, U).info('set popoverDisableAutoplay', t.toString()), R(this, ct, Tt).call(this, 'popoverDisableAutoplay', t) } }, { key: 'poster', get: function () { return R(this, nt, bt).call(this, 'poster') }, set: function (t) { if (this.poster !== t) { B(this, U).info('set poster', t); const e = this.poster; R(this, ct, Tt).call(this, 'poster', t), this.setAttribute('poster', t), e !== t && this.dispatchEvent(new CustomEvent('thumbnailchange')) } } }, { key: 'preload', get: function () { let t, e, n; return (t = (e = (n = this.api) === null || void 0 === n ? void 0 : n._impl.preloadValue()) !== null && void 0 !== e ? e : B(this, H).preload) !== null && void 0 !== t ? t : void 0 }, set: function (t) { this.preload !== t && (B(this, U).info('set preload', t), R(this, ct, Tt).call(this, 'preload', t), this.setAttribute('preload', t)) } }, { key: 'qualityControl', get: function () { return R(this, nt, bt).call(this, 'qualityControl') }, set: function (t) { let e; B(this, U).info('set qualityControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.qualityControlEnabled(t), R(this, ct, Tt).call(this, 'qualityControl', t) } }, { key: 'qualityMax', get: function () { return R(this, nt, bt).call(this, 'qualityMax') }, set: function (t) { let e; B(this, U).info('set qualityMax', t.toString()), (e = this.api) === null || void 0 === e || e._impl.qualityMax(t), R(this, ct, Tt).call(this, 'qualityMax', t) } }, { key: 'qualityMin', get: function () { return R(this, nt, bt).call(this, 'qualityMin') }, set: function (t) { let e; B(this, U).info('set qualityMin', t.toString()), (e = this.api) === null || void 0 === e || e._impl.qualityMin(t), R(this, ct, Tt).call(this, 'qualityMin', t) } }, { key: 'readyState', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.getReadyState()) !== null && void 0 !== t ? t : 0 } }, { key: 'resumable', get: function () { return R(this, nt, bt).call(this, 'resumable') }, set: function (t) { let e; B(this, U).info('set resumable', t.toString()), (e = this.api) === null || void 0 === e || e._impl.setResumable(t), R(this, ct, Tt).call(this, 'resumable', t) } }, { key: 'roundedPlayer', get: function () { return R(this, nt, bt).call(this, 'roundedPlayer') }, set: function (t) { let e; B(this, U).info('set roundedPlayer', t.toString()), (e = this.api) === null || void 0 === e || e._impl.setRoundedPlayer(Number(t)), R(this, ct, Tt).call(this, 'roundedPlayer', t) } }, { key: 'secondsWatched', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.secondsWatched()) !== null && void 0 !== t ? t : 0 } }, { key: 'secondsWatchedVector', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e._impl.secondsWatchedVector()) !== null && void 0 !== t ? t : [] } }, { key: 'seo', get: function () { return R(this, nt, bt).call(this, 'seo') }, set: function (t) { B(this, U).info('set seo', t.toString()), R(this, ct, Tt).call(this, 'seo', t) } }, { key: 'settingsControl', get: function () { return R(this, nt, bt).call(this, 'settingsControl') }, set: function (t) { let e; B(this, U).info('set settingsControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.settingsControlEnabled(t), R(this, ct, Tt).call(this, 'settingsControl', t) } }, { key: 'silentAutoplay', get: function () { return R(this, nt, bt).call(this, 'silentAutoplay') }, set: function (t) { B(this, U).info('set silentAutoplay', t.toString()), R(this, ct, Tt).call(this, 'silentAutoplay', t) } }, { key: 'state', get: function () { let t, e; return (t = (e = this.api) === null || void 0 === e ? void 0 : e.state()) !== null && void 0 !== t ? t : F.state } }, { key: 'statsUrl', get: function () { return R(this, nt, bt).call(this, 'statsUrl') }, set: function (t) { B(this, U).info('set statsUrl', t), R(this, ct, Tt).call(this, 'statsUrl', t) } }, { key: 'transparentLetterbox', get: function () { return R(this, nt, bt).call(this, 'transparentLetterbox') }, set: function (t) { B(this, U).info('set transparentLetterbox', t.toString()), R(this, ct, Tt).call(this, 'transparentLetterbox', t) } }, { key: 'uniqueId', get: function () { let t; return (t = this.getAttribute('unique-id')) !== null && void 0 !== t ? t : '' }, set: function (t) { this.setAttribute('unique-id', t) } }, { key: 'useWebComponent', get: function () { return this.getAttribute('use-web-component') === 'true' }, set: function (t) { t ? this.setAttribute('use-web-component', String(t)) : this.removeAttribute('use-web-component') } }, { key: 'usingFullscreenContainer', get: function () { return B(this, z) } }, { key: 'videoQuality', get: function () { let t, e, n; return (t = (e = (n = this.api) === null || void 0 === n ? void 0 : n._impl.getVideoQuality()) !== null && void 0 !== e ? e : B(this, H).videoQuality) !== null && void 0 !== t ? t : 'auto' }, set: function (t) { let e; B(this, U).info('set videoQuality', t.toString()), (e = this.api) === null || void 0 === e || e._impl.setVideoQuality(t), R(this, ct, Tt).call(this, 'videoQuality', t) } }, { key: 'volume', get: function () { return R(this, nt, bt).call(this, 'volume') }, set: function (t) { let e; B(this, U).info('set volume', t.toString()), (e = this.api) === null || void 0 === e || e._impl.volume(t), R(this, ct, Tt).call(this, 'volume', t) } }, { key: 'volumeControl', get: function () { return R(this, nt, bt).call(this, 'volumeControl') }, set: function (t) { let e; B(this, U).info('set volumeControl', t.toString()), (e = this.api) === null || void 0 === e || e._impl.volumeControlEnabled(t), R(this, ct, Tt).call(this, 'volumeControl', t) } }, { key: 'wistiaPopover', get: function () { return R(this, nt, bt).call(this, 'wistiaPopover') }, set: function (t) { B(this, U).info('set wistiaPopover', t.toString()), R(this, ct, Tt).call(this, 'wistiaPopover', t) } }, { key: 'addToPlaylist', value: (E = g(v().mark(function t (e, n, i) { return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:if (!this.api) { t.next = 3; break } return this.api.addToPlaylist(e, n, i), t.abrupt('return', Promise.resolve()); case 3:return t.abrupt('return', Promise.reject(new Error('Playlist cannot be accessed'))); case 4:case 'end':return t.stop() } }, t, this) })), function (t, e, n) { return E.apply(this, arguments) }) }, { key: 'cancelFullscreen', value: (k = g(v().mark(function t () { let e; let n; const i = this; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return D(this, Z, !1), n = this.parentNode, t.abrupt('return', (e = this.api) === null || void 0 === e ? void 0 : e._impl.cancelFullscreen().then(function () { n.wistiaFullscreenContainer && !n.classList.contains('wistia_embed') && n.replaceWith(i) })); case 3:case 'end':return t.stop() } }, t, this) })), function () { return k.apply(this, arguments) }) }, { key: 'definePlugin', value: (O = g(v().mark(function t (e, n) { let i; const r = this; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:if (i = (function () { const t = g(v().mark(function t () { let i, o; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', (i = (o = r.api) === null || void 0 === o ? void 0 : o.addPlugin(e, n)) !== null && void 0 !== i ? i : Promise.reject(new Error('plugin '.concat(e, ' cannot be defined')))); case 1:case 'end':return t.stop() } }, t) })); return function () { return t.apply(this, arguments) } }()), !this.api) { t.next = 3; break } return t.abrupt('return', i()); case 3:return t.abrupt('return', new Promise(function (t, e) { r.addEventListener('legacypublicapiready', function n () { r.removeEventListener('legacypublicapiready', n), i().then(function (e) { return t(e) }).catch(function (t) { e(t) }) }) })); case 4:case 'end':return t.stop() } }, t, this) })), function (t, e) { return O.apply(this, arguments) }) }, { key: 'getPlugin', value: (P = g(v().mark(function t (e) { return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:if (!this.api) { t.next = 2; break } return t.abrupt('return', this.api.plugin(e)); case 2:return t.abrupt('return', Promise.reject(new Error('plugin '.concat(e, ' is not yet defined')))); case 3:case 'end':return t.stop() } }, t, this) })), function (t) { return P.apply(this, arguments) }) }, { key: 'importMediaData', value: (m = g(v().mark(function t (e, n) { return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:if (!(0, r.getWistiaOptions)(this.mediaId).mediaData) { t.next = 2; break } return t.abrupt('return', Promise.resolve((0, r.getWistiaOptions)(this.mediaId))); case 2:return t.abrupt('return', (0, o.dynamicImport)('embed/'.concat(String(e), '.js'), n)); case 3:case 'end':return t.stop() } }, t, this) })), function (t, e) { return m.apply(this, arguments) }) }, { key: 'pause', value: (y = g(v().mark(function t () { let e; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', (e = this.api) === null || void 0 === e ? void 0 : e._impl.pause()); case 1:case 'end':return t.stop() } }, t, this) })), function () { return y.apply(this, arguments) }) }, { key: 'play', value: (f = g(v().mark(function t () { let e; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', (e = this.api) === null || void 0 === e ? void 0 : e._impl.play()); case 1:case 'end':return t.stop() } }, t, this) })), function () { return f.apply(this, arguments) }) }, { key: 'releaseControls', value: (p = g(v().mark(function t (e) { let n; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', (n = this.api) === null || void 0 === n ? void 0 : n._impl.releaseControls(e)); case 1:case 'end':return t.stop() } }, t, this) })), function (t) { return p.apply(this, arguments) }) }, { key: 'replaceWithMedia', value: (d = g(v().mark(function t (e) { let n; const i = this; const r = arguments; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return n = r.length > 1 && void 0 !== r[1] ? r[1] : {}, t.abrupt('return', new Promise(function (t, r) { let o; i.api || r(new Error('api not ready to replace')), (o = i.api) === null || void 0 === o || o.replaceWith(e, n), t() })); case 2:case 'end':return t.stop() } }, t) })), function (t) { return d.apply(this, arguments) }) }, { key: 'requestControls', value: (u = g(v().mark(function t (e) { let n; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return t.abrupt('return', (n = this.api) === null || void 0 === n ? void 0 : n._impl.requestControls(e)); case 1:case 'end':return t.stop() } }, t, this) })), function (t) { return u.apply(this, arguments) }) }, { key: 'requestFullscreen', value: (s = g(v().mark(function t () { let e, n; return v().wrap(function (t) { for (;;) switch (t.prev = t.next) { case 0:return this.useWebComponent && this.parentNode ? (this.parentNode.wistiaFullscreenContainer = !0, D(this, Z, !0)) : this.parentNode && ((n = document.createElement('div')).wistiaFullscreenContainer = !0, D(this, Z, !0), this.parentNode.insertBefore(n, this), n.appendChild(this)), t.abrupt('return', (e = this.api) === null || void 0 === e ? void 0 : e._impl.requestFullscreen()); case 2:case 'end':return t.stop() } }, t, this) })), function () { return s.apply(this, arguments) }) }, { key: 'attributeChangedCallback', value: function (t, e, n) { if (B(this, K) && e !== n && (e !== null || n !== '')) { let i = n; switch (n) { case 'true':i = !0; break; case 'false':i = !1 } this[R(this, ot, Pt).call(this, t)] = i } } }, { key: 'connectedCallback', value: function () { const t = this; if (!B(this, K)) { const e = this.getAttribute('media-id'); if (e == null) throw new Error('media-id attribute is required'); if (D(this, U, h.wlog.getPrefixedFunctions('WistiaPlayer '.concat(e))), this.useWebComponent)B(this, U).info('initialize translated legacy embed'), R(this, rt, wt).call(this, e, { container: this }); else { B(this, U).info('initialize embed'), this.uniqueId = R(this, et, gt).call(this, e), R(this, at, Ot).call(this), R(this, st, kt).call(this); const n = {}; R(this, it, _t).call(this, 'embed-host') !== null && (n.host = this.embedHost), this.importMediaData(e, n).then(function (n) { const i = n.mediaData; D(t, Q, i), R(t, rt, wt).call(t, e, { mediaData: B(t, X), container: t.uniqueId }) }).catch(function (t) { throw new Error(t.message) }) } this.shadowRoot && this.shadowRoot.appendChild(R(this, tt, mt).call(this).content.cloneNode(!0)), D(this, K, !0) } } }], i = [{ key: 'observedAttributes', get: function () { return [].concat(I, L, W) } }], n && b(e.prototype, n), i && b(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), x }(P(HTMLElement))); function pt () { const t = y({}, B(this, Q)); const e = (0, r.getWistiaOptions)(this.mediaId); const n = e.mediaData ? {} : e; return t.embedOptions = y(y(y({}, t.embedOptions), n), {}, { videoFoam: !(this.style.width || this.style.height) }), t } function ft () { let t; return (t = this.getAttribute('page-url')) !== null && void 0 !== t ? t : (0, u.inferPageUrl)() } function yt (t) { D(this, z, t) } function vt (t) { return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g, function (t, e) { return (void 0 !== e ? '-' : '') + t.toLowerCase() }) } function mt () { const t = document.createElement('template'); const e = (0, i.cdnFastWistiaComHost)(this.embedHost); const n = 'https://'.concat(e, '/embed/medias/').concat(this.mediaId, '/swatch'); const r = B(this, Y) !== '0px' ? B(this, Y) : B(this, G); const o = this.useWebComponent || r === '0px' ? '100%' : r; const a = R(this, nt, bt).call(this, 'popoverContent'); const s = void 0 === a || a === '' || a === 'thumbnail' ? '\n      <div\n        style="height: 100%; left: 0; position: absolute; top: 0; width: 100%"\n        class="wistia_swatch"\n      >\n        <div\n          style="height: 100%; position: relative; width: 100%"\n        >\n          <div\n            style="\n              height: 100%;\n              left: 0;\n              overflow: hidden;\n              position: absolute;\n              top: 0;\n              width: 100%;\n            "\n          >\n            <img\n              src="'.concat(n, '"\n              style="filter: blur(5px); height: 100%; object-fit: contain; width: 100%"\n              alt=""\n              aria-hidden="true"\n              onload="this.parentNode.style.opacity=1;"\n            />\n          </div>\n        </div>\n      </div>\n    ') : ''; return t.innerHTML = '\n      <style>\n        :host {\n          display: block;\n          position: relative;\n          width: 100%;\n          height: '.concat(o, ';\n        }\n      </style>\n\n      ').concat(s, '\n  '), t } function gt (t) { for (var e = 1, n = 'wistia-'.concat(t, '-').concat(e); (i = document.querySelector('[unique-id='.concat(n, ']'))) !== null && void 0 !== i ? i : document.querySelector('#'.concat(n));) { var i; e += 1, n = 'wistia-'.concat(t, '-').concat(e) } return n } function bt (t) { let e, n; return this.api && t in this.api._attrs ? this.api._attrs[t] : (e = (n = B(this, H)[t]) !== null && void 0 !== n ? n : R(this, it, _t).call(this, R(this, J, vt).call(this, t))) !== null && void 0 !== e ? e : F[t] } function _t (t) { if (!this.hasAttribute(t)) return null; switch (this.getAttribute(t)) { case 'true':case '':return !0; case 'false':return !1; default:return this.getAttribute(t) } } function wt (t, e) { let n; const i = this; const r = window.Wistia; if (r == null || !r.PublicApi) throw new Error('Wistia.PublicApi is not defined'); D(this, N, new r.PublicApi(t, e)), (n = this.api) === null || void 0 === n || n.ready(function () { i.dispatchEvent(new CustomEvent('legacypublicapiready', { detail: { mediaId: t, api: B(i, N) } })), i.api && Object.entries(i.api._attrs).forEach(function (t) { const e = d(t, 2); const n = e[0]; const r = e[1]; B(i, H)[n] = r }) }) } function Pt (t) { return t.replace(/-./g, function (t) { return t[1].toUpperCase() }) } function Ot () { R(this, it, _t).call(this, 'email') !== null && R(this, ht, Ct).call(this, R(this, it, _t).call(this, 'email')) } function kt () { const t = this; const e = y(y({}, Object.fromEntries(Object.entries(this.attributes).map(function (e) { const n = d(e, 2)[1]; return [R(t, ot, Pt).call(t, n.name), R(t, it, _t).call(t, n.name)] }))), B(this, H)); (0, s.setEmbedOptionStore)('__'.concat(this.uniqueId, '_dom_options__'), e) } function St () { D(this, G, getComputedStyle(this).height) } function Et () { D(this, Y, getComputedStyle(this)['padding-top']) } function Tt (t, e) { this.api && (this.api._attrs[t] = e), B(this, H)[t] = e } function Ct (t) { const e = this; (0, c.updateWistiaLocalStorage)(function (n) { n[B(e, $)] = y(y({}, n[B(e, $)]), {}, { trackEmail: t }) }), this.dispatchEvent(new CustomEvent('emailchange', { detail: { email: t } })) } void 0 === customElements.get('wistia-player') && customElements.define('wistia-player', dt) }, (t, e, n) => { n.d(e, { getWistiaOptions: () => l }); const i = ['mediaData']; function r (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function o (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? r(Object(n), !0).forEach(function (e) { a(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function a (t, e, n) { return (e = (function (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(e))) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function s (t, e) { if (t == null) return {}; let n; let i; const r = (function (t, e) { if (t == null) return {}; let n; let i; const r = {}; const o = Object.keys(t); for (i = 0; i < o.length; i++)n = o[i], e.indexOf(n) >= 0 || (r[n] = t[n]); return r }(t, e)); if (Object.getOwnPropertySymbols) { const o = Object.getOwnPropertySymbols(t); for (i = 0; i < o.length; i++)n = o[i], e.indexOf(n) >= 0 || Object.prototype.propertyIsEnumerable.call(t, n) && (r[n] = t[n]) } return r } var l = function (t) { let e, n; if (!window.wistiaOptions) return {}; const r = (e = window.wistiaOptions._all) !== null && void 0 !== e ? e : {}; const a = (n = window.wistiaOptions[t]) !== null && void 0 !== n ? n : {}; if (a.mediaData) { const l = a.mediaData; const u = s(a, i); return { mediaData: o(o({}, l), {}, { embedOptions: o(o(o({}, r), l.embedOptions), u) }) } } return o(o({}, r), a) } }, (t, e, n) => { n.d(e, { extractEmailFromParams: () => r }); const i = n(45); var r = function (t) { let e; let n; const r = (e = /wemail=([^&#]+)/.exec(t)) !== null && void 0 !== e ? e : null; if (r) return r[1]; const o = (n = /wkey=([^&#]+)/.exec(t)) !== null && void 0 !== n ? n : null; if (o) { const a = o[1]; return (0, i.base64Decode)(a) } return null } }, (t, e, n) => { n.d(e, { inferPageUrl: () => i }); var i = function () { let t; return ((t = window.FreshUrl) === null || void 0 === t ? void 0 : t.originalUrl) != null ? window.FreshUrl.originalUrl : window.top === window.self ? window.location.href || '' : document.referrer || '' } }, (t, e, n) => { n(14), n(13), n(106), n(107), n(108), n(123), n(125), n(126), n(127), n(131), n(133), n(134), n(135), n(136), n(116), n(137), n(138), n(139), n(140), n(142) }, (t, e, n) => { const i = n(12); const r = n(24); function o (t) { return (function (t) { if (Array.isArray(t)) return a(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return a(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function a (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i }!(function (t) { const e = t; if (!t.wlog)t.wlog = i.wlog, t.log = i.wlog.error, t.error = i.wlog.error, t.warn = i.wlog.warn, t.notice = i.wlog.notice, t.info = i.wlog.info, t.debug = i.wlog.debug, t.logLevels = i.LOG_LEVELS, t.stacktrace = function () { try { throw new Error('stacktrace') } catch (t) { return t.stack } }, t.logHelpers = { _log: function (t) { for (var n = arguments.length, i = new Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++)i[r - 1] = arguments[r]; const a = e[t]; return i = [].concat(this._logPrefix()).concat(i), a.apply(void 0, o(Array.from(i || []))) }, _logPrefix: function () { return [this.constructor.name] }, error: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return this._log.apply(this, ['error'].concat(o(Array.from(e)))) }, warn: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return this._log.apply(this, ['notice'].concat(o(Array.from(e)))) }, notice: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return this._log.apply(this, ['notice'].concat(o(Array.from(e)))) }, info: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return this._log.apply(this, ['info'].concat(o(Array.from(e)))) }, debug: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return this._log.apply(this, ['debug'].concat(o(Array.from(e)))) }, log: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return this._log.apply(this, ['error'].concat(o(Array.from(e)))) } }, t._initializers.initWLog = function () { let t; let e; let n; let o; let a; let s; let l; let u; let c; let h; let d; let p; let f; const y = (0, r.parseUrl)(location.href); if (document.referrer && (d = (0, r.parseUrl)(document.referrer)), ((h = y == null || (t = y.params) === null || void 0 === t ? void 0 : t.wlog) || top !== self && (h = (e = d) === null || void 0 === e || (n = e.params) === null || void 0 === n ? void 0 : n.wlog)) && i.wlog.setLevel(h), ((p = y == null || (o = y.params) === null || void 0 === o ? void 0 : o.wgrep) || (p = (a = d) === null || void 0 === a || (s = a.params) === null || void 0 === s ? void 0 : s.wgrep)) && i.wlog.setGrep(new RegExp(p, 'i')), (f = y == null || (l = y.params) === null || void 0 === l ? void 0 : l.wgrepv) || (f = (u = d) === null || void 0 === u || (c = u.params) === null || void 0 === c ? void 0 : c.wgrepv)) return i.wlog.setGrepv(new RegExp(f, 'i')) }, t._destructors.destroyWLog = function () { return i.wlog === null || void 0 === i.wlog ? void 0 : i.wlog.reset() } }(window.Wistia)) }, (t, e, n) => { const i = n(11); !(function (t) { t._initializers.initDetect = function () { if (!t.detect) return t.detect = (0, i.cachedDetect)() } }(window.Wistia)) }, (t, e, n) => { const i = function (t, e) { return function () { return t.apply(e, arguments) } }; const r = [].slice; !(function (t) { let e, o, a, s, l, u, c, h, d, p, f, y, v, m, g, b, _, w, P, O, k, S, E, T, C, A, j, x, B, R, D, M, I, L, W, F, N, H, V, U, q, z, K, G, Q, Y, X, $, Z, J, tt, et, nt, it, rt, ot, at, st, lt, ut, ct, ht, dt, pt, ft, yt, vt, mt, gt, bt, _t, wt, Pt, Ot, kt, St, Et, Tt, Ct, At, jt, xt, Bt, Rt; if (t, !t.PublicApi)o = n(83), a = n(93).StopGo, Ot = n(4).root, ct = n(94), st = ct.pluginScriptsToLoad, q = ct.getPluginsNotInList, ut = n(109).prefetchEngineAndPlugins, ht = n(110), X = ht.injectJsonLd, Pt = ht.removeInjectedJsonLd, (ft = n(24)).proto, at = ft.parseUrl, l = ft.Url, yt = n(88), Bt = yt.wData, Rt = yt.wRemoveData, vt = n(61), y = vt.doTimeout, d = vt.clearTimeouts, Tt = n(20).seqId, u = n(7).assign, mt = n(6), p = mt.clone, rt = mt.merge, Z = mt.isEmpty, h = mt.cast, Ct = mt.setDeep, V = mt.getDeep, J = mt.isObject, gt = n(28), f = gt.countMetric, kt = gt.sampleMetric, lt = n(45).poll, L = n(103).extractEmailFromParams, Q = n(104).inferPageUrl, z = n(114).getViewerPreferences, v = n(39).dynamicImport, n(115).getChannelStorage, tt = n(116).maybeLoadAndSetupEmbedLinksThrottled, N = n(65).formattedDurationToSeconds, Y = n(117).inferQualityRangeFromOpts, H = n(118).generateRelativeBlockCss, bt = n(87), U = bt.getEmbedOptionStore, e = bt.GLOBAL_ID_KEY, _t = n(21), W = _t.fetchMedia, it = _t.mediaDataUrl, et = _t.mediaDataScriptRegExp, jt = _t.transformResponse, c = _t.cacheMedia, F = n(18).findScriptInDomBySrc, St = n(119).sanePlayerColor, s = n(92).TranslationApi, t.Judy = o, t.Assets = n(27), wt = n(5), D = wt.elemUnbindAllInside, M = wt.elemWidth, b = wt.elemAddClass, wt.elemAfter, _ = wt.elemAnimate, w = wt.elemAppend, P = wt.elemBefore, O = wt.elemFromObject, k = wt.elemHasClass, S = wt.elemHeight, E = wt.elemInDom, T = wt.elemIsHidden, C = wt.elemOffset, wt.elemPrepend, A = wt.elemRebind, j = wt.elemRemove, x = wt.elemStyle, B = wt.elemUnbind, R = wt.elemUnbindAll, G = wt.inUserEventContext, Et = n(120).scrollTop, dt = n(23), g = dt.eV1Protocol, m = dt.eV1HostWithPort, K = n(13).globalTrigger, xt = n(121).uniqId, n(45).throttle, pt = n(122), $ = pt.insertIntoArray, At = pt.toArray, nt = n(26).mediaDataTransforms, I = n(51).embedOptionsFromQueryParams, t.PublicApi = (function () { function n (e, n) { let r, o, s, u; this._definePluginMethod = i(this._definePluginMethod, this), this._doResize = i(this._doResize, this), this._doMonitor = i(this._doMonitor, this), this._initWithMediaData = i(this._initWithMediaData, this), this._allocEmbedSlot = i(this._allocEmbedSlot, this), this.on('problem', (u = this, function (t) { return t.video = u, K('problem', t) })), this.info('initialize'), this._hasImpl = new a(), this._notReplacing = new a(), this._notReplacing(!0), this.hasPlugins = new a(), this.up = new a(), this.up(!0), this.down = new a(), this.down(!1), this.inViewport = new a(), this.inViewport(!1), this._implVersion = 0, this._playlistIndex = 0, this._attrs = {}, this.params = {}, this.options = {}, this.controls = {}, this._pluginStopGos = {}, this.plugins = {}, this.data = {}, this._definePluginMethod(), this.hashedId(e), this._givenOptions = n, this._playlist = [], this._setupContainer(), this._setupTranslationApiForLegacyEmbeds(), this._validate(), this._inferPropertiesBeforeMediaData(), this._dedupContainer(), this._addToGlobalCache(), this._setupBindings(), this.supportedPlayers = [], this.addToPlaylist(this.hashedId(), n), this.down(this.looksDown()), this.up(this.looksUp()), this._hasImpl(function (t) { return function () { if (t._wvideoInUrl()) return t._scrollToContainer(), t.popover ? t.embedded(function () { return t.popover.showAndPlay() }) : t.play() } }(this)), (s = window.wistiaEmbeds) != null && s.bindHandles(), this.monitor(), this.embedded(function (t) { return function () { return t.monitor() } }(this)), this.ready(function (t) { return function () { return t.monitor() } }(this)), r = (function (t) { return function () { return t._onInitializable(function () { return t._withFreeEmbedSlots(function () { let n, i, r, o, a; return t._initTime = (new Date()).getTime(), t.hasData(function () { return t._hasDataTime = (new Date()).getTime() }), t.embedded(function () { return t._embeddedTime = (new Date()).getTime() }), t.ready(function () { return t._readyTime = (new Date()).getTime(), t.removeSwatch() }), o = t._gatherOptions(), r = it(e, t._gatherOptions()).replace(/\.json(?!p)/, '.jsonp').replace(/&$/, ''), i = F(r, { ignoreProtocol: !0, scriptRegex: et(e) }), o.mediaData ? t._initWithMediaData(o.mediaData) : i ? (a = new l(r), n = 'wistiajsonp-' + a.relative(), lt(function () { return Ot[n] !== null && void 0 !== Ot[n] }, function () { let i, r; return r = Ot[n], i = jt(r, t._gatherOptions()), c(e, i), t._initWithMediaData(i) }, 15, 3e4)) : W(t.hashedId(), t._gatherOptions()).then(function (e) { return t._initWithMediaData(e) }).catch(function () { return f('player/failure/init-failed') }) }) }) } }(this)), this._shouldBePopover() ? (this.popover = { show: (function (t) { return function () { return t._hasImpl(function () { return t.popover.show() }) } }(this)), hide: (function (t) { return function () { return t._hasImpl(function () { return t.popover.hide() }) } }(this)), height: (function (t) { return function (e, n) { return e != null ? t._hasImpl(function () { return t.popover.height(e, n) }) : 0 } }(this)), width: (function (t) { return function (e, n) { return e != null ? t._hasImpl(function () { return t.popover.width(e, n) }) : 0 } }(this)) }, v('assets/external/popover.js').then(function (e) { return function () { return e.popover = new t.Popover(e), r() } }(this))) : r(), this.trigger('initembed'), this.container.dispatchEvent(new CustomEvent('initembed', { detail: { api: this } })), tt(), performance.mark('player_init_complete'); try { kt('player/initembed-latency', performance.measure('player_init_latency', 'player_init_start', 'player_init_complete').duration) } catch (t) { o = t, setTimeout(function () { throw o }, 0) }setTimeout((function (t) { return function () { return t.container.dispatchEvent(new CustomEvent('legacypublicapicreated')) } }(this)), 0) } return n.prototype._defaultPlayerBorderRadius = function () { return this._opts.roundedPlayer ? this._opts.roundedPlayer : this._opts.playerBorderRadius ? this._opts.playerBorderRadius : 0 }, n.prototype._defaultBigPlayButtonBorderRadius = function () { return this._opts.bigPlayButtonBorderRadius ? this._opts.bigPlayButtonBorderRadius : this._opts.roundedPlayer ? 0.75 * this._opts.roundedPlayer : 0 }, n.prototype._defaultControlBarBorderRadius = function () { return this._opts.controlBarBorderRadius ? this._opts.controlBarBorderRadius : this._opts.roundedPlayer ? 0.75 * this._opts.roundedPlayer : this._opts.floatingControlBar ? 18 : 0 }, n.prototype._defaultControlBarDistance = function () { return this._opts.roundedPlayer ? this._opts.roundedPlayer / 4 : this._opts.controlBarBorderRadius ? this._opts.controlBarBorderRadius / 2 : this._opts.floatingControlBar ? 6 : 0 }, n.prototype._withFreeEmbedSlots = function (e) { let n, i; return this._setupEmbedSlots(), n = null, this.embedded((i = this, function () { return clearTimeout(n), n = setTimeout(function () { return i._freeEmbedSlot() }, i._embedSlotThrottleInterval()) })), this._freeEmbedSlotOnError == null && (this._freeEmbedSlotOnError = (function (t) { return function () { return t._freeEmbedSlot(), t.unbind } }(this))), this.rebind('servererror', this._freeEmbedSlotOnError), t._embedSlotFree(function (t) { return function () { return t._allocEmbedSlot(), n = setTimeout(function () { return t._freeEmbedSlot() }, 1e3), e() } }(this)) }, n.prototype._onInitializable = function (e) { return this.popover && T(this.container) ? (this.info('popover, delaying init until container is visible'), t.eventLoop.add(this.uuid + '.wait_for_container_visible', 500, (n = this, function () { let i; if (!T(n.container)) { n.info('container became visible, initializing'); try { e() } catch (e) { i = e, t.error(i) } return t.eventLoop.remove } }))) : e(); let n }, n.prototype._setupEmbedSlots = function () { if (t._embedSlots == null && (t._embedSlots = []), !t._embedSlotFree) return t._embedSlotFree = new a(), t._embedSlotFree(!0) }, n.prototype._maxEmbedSlots = function () { let t, e; return (e = (function () { let e, n; for (t in n = [], e = Bt('video'))e[t], n.push(t); return n }()).length) > 20 ? 5 : e > 10 ? 8 : 13 }, n.prototype._embedSlotThrottleInterval = function () { return 500 }, n.prototype._freeEmbedSlot = function () { let e; if (this._setupEmbedSlots(), t._embedSlots = (function () { let n, i, r, o; for (o = [], n = 0, i = (r = t._embedSlots).length; n < i; n++)(e = r[n]) !== this && o.push(e); return o }.call(this)), t._embedSlots.length < this._maxEmbedSlots()) return t._embedSlotFree(!0) }, n.prototype._allocEmbedSlot = function () { if (this._setupEmbedSlots(), t._embedSlots.push(this), t._embedSlots.length >= this._maxEmbedSlots()) return t._embedSlotFree(!1) }, n.prototype._shouldLazyLoad = function () { let t; return t = this._gatherOptions(), !window._inWistiaIframe && parent === self && (t.lazyLoad || this.popover && !1 !== t.lazyLoad) }, n.prototype._initWithMediaData = function (e) { let n, i, r, a, s, l; this.info('_initWithMediaData', e); try { t.Player.assets(e, { public: !0 }).length === 0 && t.Metrics.videoCount(this, 'player/no-public-assets') } catch (t) { n = t, this.debug(n) } if (!this.isRemoved()) return e.error ? (this.notice('display error message from server'), this._displayServerError(e), void this.trigger('servererror')) : (this.hashedId(e.hashedId), this._originalMediaData = p(e), this._mediaData = e, this._mediaData = nt(e, this._gatherOptions()), this.data.media = e, a = this._optionSources(), this.info('_optionSources', a), ((s = a.inline) != null ? s.container : void 0) instanceof HTMLElement && (a.inline = u({}, a.inline, { container: a.inline.container.uniqueId || a.inline.container.id || 'container-with-no-id' })), f('player/option-sources', 1, { optionSources: a, hashedId: this._hashedId, url: window.location.href }), this._opts = this._gatherOptions(), this.info('_opts', p(this._opts)), rt(this._mediaData, this._opts.mergeMediaData), this._inferPropertiesAfterMediaData(), r = o.choosePlayer(this.judyCtx(), this._mediaData, this._opts), this._playerPlugins = o.playerPlugins(this.judyCtx(), r, this._mediaData, this._opts), o.logWarnings(this.judyCtx(), r, this._mediaData, this._opts), this._implVersion += 1, i = this._implVersion, this._execPlugins().then((l = this, function () { let e, n, a; if (l._implVersion === i) { l.hasPlugins(!0), n = t.PublicApi.classFor(r), l.supportedPlayers = o.supportedPlayers(l.judyCtx(), l._mediaData.assets); try { l._impl = new n(l).init() } catch (t) { throw e = t, l.error('Failed to initialize impl of class', n, 'preferred', r, 'supported', l.supportedPlayers), e } return l.grid = l._impl.setupGrid({ initDimensions: !1 }), l._hasImpl(!0), l.hasData(!0), ((a = l._embedContainer) != null ? a.parentNode : void 0) ? (l._runMethodsFromOptions(), l._impl.embed(), l._getFadeInTime() > 0 && x(l._impl.gridChildren(), { opacity: 0 }), l._impl.embedded(function () { return l._getFadeInTime() > 0 ? _(l._impl.gridChildren(), { opacity: 1 }, { time: l._getFadeInTime(), callback: function () { return l.trigger('transitiondone') } }) : l.trigger('transitiondone') }), y(l.uuid + '.prefetch_next_media', function () { return l.prefetchNextMedia() }, 2e3), l._injectJsonLd()) : l.notice('embed(): container removed, giving up') }l.notice('_initWithMediaData(): impl changed from', i, 'to', l._implVersion, 'not completing init') }))); this.notice('abort, video already removed') }, n.prototype._getFadeInTime = function () { return this._opts.fadeInTime != null ? this._opts.fadeInTime : 200 }, n.prototype.judyCtx = function () { return this._judyCtx || (this._judyCtx = o.buildContext({ pageUrl: this._attrs.pageUrl })) }, n.prototype._wvideoInUrl = function () { return !this._opts._inIframe && at(this._attrs.pageUrl).params.wvideo === this.hashedId() }, n.prototype._scrollToContainer = function () { let t; return t = C(this.container), Et(t.top - 100) }, n.prototype._injectJsonLd = function () { if (this._jsonLdId && Pt(this._jsonLdId), this.playerType !== 'notplayable' && this.playerType !== 'passwordprotected' && !1 !== this._attrs.seo) return this._jsonLdId = 'w-json-ld' + this._impl.uuid, X(this._jsonLdId, this._mediaData, { videoWidth: this.videoWidth(), videoHeight: this.videoHeight(), embedOptions: this._opts }) }, n.prototype._setDeprecatedProperties = function () { return this.options = p(this._opts), this.params = p(this._opts), rt(this.params, this._attrs), this._attrs.email && (this.params.trackEmail = this._attrs.email), this._hasImpl((t = this, function () { let e; return t.playerType = t.embedType = (e = t._impl) != null ? e.playerType : void 0 })); let t }, n.prototype.elem = function () { let t; return (t = this._impl) != null && typeof t.elem === 'function' ? t.elem() : void 0 }, n.prototype._execPlugins = function () { let e; return this._pluginScripts = st(this._mediaData, this._opts, this._playerPlugins), t.plugin._setFnForDefinedPlugins(this, this._pluginScripts), (e = q(this._pluginScripts)).length > 0 && f('custom-plugin-exec', 1, { customPlugins: e, hashedId: this._hashedId, url: window.location.href }), this.info('_execPlugins', this._pluginScripts), t.plugin._execQueue(this, this._pluginScripts) }, n.prototype._optionSources = function (t) { let n, i, r, o, a, s, l, u, c; if (t == null && (t = {}), (o = (t = rt({ givenOptions: p(this._givenOptions), mediaData: p(this._mediaData), hashedId: this._hashedId, container: this.container }, t)).givenOptions).version === 'v1' ? i = {} : t.mediaData ? delete (i = p(t.mediaData.embedOptions)).stillUrl : i = {}, s = I(['autoPlay', 'deliveryCdn', 'hls', 'techInfo'], this._inferPageUrl()), n = t.container.uniqueId || t.container.id, r = {}, u = { customize: i, global: U(e), hashedId: U(t.hashedId), dom: U('__' + n + '_dom_options__'), container: U(n), inline: o, inferredOptions: r, viewerPreferences: z(), channelPreferences: o.channelPreferences || {}, queryParamOptions: s, override: t.override || {} }, o.optionSourceOverrides) for (a in l = o.optionSourceOverrides)c = l[a], u.hasOwnProperty(a) && (u[a] = c); for (a in u)c = u[a], Z(c) && delete u[a]; return u }, n.prototype._mergeSources = function (t, e) { let n, i, r, o, a; for (n in i = {}, t)a = t[n], ((r = e.only) != null ? r.indexOf(n) : void 0) >= 0 || ((o = e.except) != null ? o.indexOf(n) : void 0) < 0 ? rt(i, a) : e.only || e.except || rt(i, a); return i }, n.prototype._gatherOptions = function (t) { let e, n; return t == null && (t = {}), n = this._optionSources(t), (e = this._mergeSources(n, t)).version === 'v1' && (n.customize = {}, e = this._mergeSources(n, t)), h(e), this._normalizeOptions(e), e }, n.prototype.hashedId = function (t) { return t != null ? (this._hashedId = t, this) : this._hashedId }, n.prototype.isAudio = function () { return this._mediaData.mediaType === 'Audio' }, n.prototype.isLiveMedia = function () { return this._mediaData.mediaType === 'LiveStream' }, n.prototype._normalizeOptions = function (t) { return t.twitter && (this.info('twitter detected'), V(t, 'plugin.socialbar-v1') && (this.info('disabled socialbar'), Ct(t, 'plugin.socialbar-v1.on', !1))), t.playButtonVisible != null && (t.playButton = h(t.playButtonVisible), delete t.playButtonVisible), t }, n.prototype._setupContainer = function () { let t, e, n, i, r, o, a, s, l, u; if (this._containerId = this._givenOptions.container ? this._givenOptions.container : 'wistia_' + this.hashedId(), typeof this._containerId === 'string' ? this.container = document.getElementById(this._containerId) : this.container = this._containerId, this.container) { if (this.container.tagName === 'WISTIA-PLAYER' && this._shouldBePopover()) { for (this.webComponentParent = this.container.parentNode, this._startingHtml = this.webComponentParent.cloneNode(!0), e = 0, i = (s = Array.prototype.slice.call(this._startingHtml.childNodes)).length; e < i; e++)(t = s[e]).tagName === 'WISTIA-PLAYER' && j(t); for (this._startingHtml = this._startingHtml.innerHTML, n = 0, r = (l = Array.prototype.slice.call(this.webComponentParent.childNodes)).length; n < r; n++)t = l[n], k(t, 'wistia_swatch') || t.tagName === 'WISTIA-PLAYER' || j(t) } else if (this.container.tagName !== 'WISTIA-PLAYER') { for (this.container.wistiaApi = this, this._startingHtml = this.container.innerHTML, a = 0, o = (u = Array.prototype.slice.call(this.container.childNodes)).length; a < o; a++)t = u[a], k(t, 'wistia_swatch') || j(t); b(this.container, 'wistia_embed_initialized') } } else typeof this._containerId === 'string' && (this.container = document.querySelector("[unique-id='" + this._containerId + "']"), this._startingHtml = this.container.innerHTML); return this.info('container', this.container) }, n.prototype._setupTranslationApiForLegacyEmbeds = function () { if (this.container && this.container.tagName === 'WISTIA-PLAYER' && this.container.getAttribute('use-web-component')) return this.translationApi = new s(this.container), this.container.translationApi = this.translationApi }, n.prototype._inferPropertiesBeforeMediaData = function () { let e; if (this.chrome = O({ id: Tt('wistia_chrome_'), class: 'w-chrome', style: H, tabindex: -1 }), x(this.chrome, { outline: 'none', overflow: 'hidden', boxSizing: 'content-box', mozBoxSizing: 'content-box', webkitBoxSizing: 'content-box' }), e = this._gatherOptions(), this._shouldBePopover() ? (this._popoverContainer = O({ role: 'dialog', id: this.container.id + '_popover_container' }), t.detect.safari || t.detect.iphone || t.detect.ipad || this._popoverContainer.setAttribute('aria-modal', !0), this._embedContainer = O({ id: this.container.id + '_popover', style: { height: this._popoverSize(e).height + 'px', width: this._popoverSize(e).width + 'px' } }), w(this._popoverContainer, this._embedContainer), w(document.body, this._popoverContainer)) : this._embedContainer = this.container, w(this._embedContainer, this.chrome), e.uuid ? this.uuid = e.uuid : this.uuid = Tt(), this.info('uuid', this.uuid), e.playlistLoop != null && (this._attrs.playlistLoop = e.playlistLoop), this._embedContainer) return this._attrs.startingWidth = M(this._embedContainer), this._attrs.startingHeight = S(this._embedContainer) }, n.prototype._shouldBePopover = function () { let t; return !(t = this._gatherOptions())._inIframe && (!0 === t.wistiaPopover || !0 === t.popover || t.popover === 'v2') }, n.prototype._popoverSize = function (t) { let e, n, i, r, o; return t == null && (t = this._opts), t == null && (t = {}), t.popoverSize ? (o = (r = ((i = t.popoverSize) != null ? i.split('x') : void 0) || [640, 360])[0], e = r[1], o = parseInt(o), e = parseInt(e)) : this._mediaData && (n = this.asset({ container: 'mp4', width: [0, 960], sortBy: 'width desc' })) ? (o = n.width, e = n.height) : (o = 640, e = 360), { width: o, height: e } }, n.prototype._inferPropertiesAfterMediaData = function () { let e, n, i, r, o, a, s; return this._opts.authorization && (this._attrs.authorization = this._opts.authorization), this._attrs.shouldTrack = !this._opts.doNotTrack, this._attrs.seekThreshold = this._opts.seekThreshold || 1.5, r = (o = Y(this._opts, this._mediaData))[0], i = o[1], this._attrs.qualityMin = r, this._attrs.qualityMax = i, this._opts.videoQuality && f('legacy/video-quality-set', 1, { hashedId: this._hashedId, videoQuality: this._opts.videoQuality, url: window.location.href }), this._attrs.qualityMax < this._attrs.qualityMin && (this.error('qualityMax ' + this._attrs.qualityMax + ' is less than qualityMin ' + this._attrs.qualityMin + '. Setting qualityMax to ' + this._attrs.qualityMin + '.'), this._attrs.qualityMax = this._attrs.qualityMin), this._attrs.pageUrl || (this._attrs.pageUrl = this._inferPageUrl()), this._attrs.referrerUrl || (this._attrs.referrerUrl = ((a = this._opts) != null ? a.referrerUrl : void 0) || document.referrer), this._opts.trackEmail != null && (this._attrs.email = this._opts.trackEmail), !this._attrs.email && this._attrs.shouldTrack && (s = L(this._attrs.pageUrl)) && (this._attrs.email = s), !this._attrs.email && t.localStorage([this._attrs.pageUrl, 'trackEmail']) && (this._attrs.email = t.localStorage([this._attrs.pageUrl, 'trackEmail'])), n = (e = this._attrs.playerColor) && e !== this._opts.playerColor, this._attrs.playerColor = St(this._opts.playerColor || '636155'), n && this.container.dispatchEvent(new CustomEvent('playercolorchange', { detail: { color: this._attrs.playerColor, prevColor: e } })), this._attrs.aspect = this._opts.aspect, this._opts.autoplay !== null && void 0 !== this._opts.autoplay ? this._attrs.autoplay = this._opts.autoplay : this._attrs.autoplay = this._opts.autoPlay, this._opts.bigPlayButton !== null && void 0 !== this._opts.bigPlayButton ? this._attrs.bigPlayButton = this._opts.bigPlayButton : this._attrs.bigPlayButton = this._opts.playButton, this._opts.controlsVisibleOnLoad !== null && void 0 !== this._opts.controlsVisibleOnLoad ? this._attrs.controlsVisibleOnLoad = this._opts.controlsVisibleOnLoad : this._attrs.controlsVisibleOnLoad = !0, this._opts.copyLinkAndThumbnailEnabled !== null && void 0 !== this._opts.copyLinkAndThumbnailEnabled ? this._attrs.copyLinkAndThumbnail = this._opts.copyLinkAndThumbnailEnabled : this._opts.copyLinkAndThumbnail !== null && void 0 !== this._opts.copyLinkAndThumbnail ? this._attrs.copyLinkAndThumbnail = this._opts.copyLinkAndThumbnail : this._attrs.copyLinkAndThumbnail = !0, this._attrs.doNotTrack = this._opts.doNotTrack, this._attrs.endVideoBehavior = this._opts.endVideoBehavior || 'default', this._opts.fullscreenControl !== null && void 0 !== this._opts.fullscreenControl ? this._attrs.fullscreenControl = this._opts.fullscreenControl : this._attrs.fullscreenControl = this._opts.fullscreenButton, this._attrs.playbackRateControl = this._opts.playbackRateControl, this._opts.playBarControl !== null && void 0 !== this._opts.playBarControl ? this._attrs.playBarControl = this._opts.playBarControl : this._attrs.playBarControl = this._opts.playbar, this._attrs.playerBackgroundColor = this._opts.playerBackgroundColor || '#000000', this._attrs.playlistLinks = this._opts.playlistLinks, this._opts.playPauseControl !== null && void 0 !== this._opts.playPauseControl ? this._attrs.playPauseControl = this._opts.playPauseControl : this._attrs.playPauseControl = this._opts.smallPlayButton, this._attrs.playPauseNotifier = this._opts.playPauseNotifier, this._attrs.popoverContent = this._opts.popoverContent, this._opts.popoverDisableAutoplay !== null && void 0 !== this._opts.popoverDisableAutoplay ? this._attrs.popoverDisableAutoplay = this._opts.popoverDisableAutoplay : this._attrs.popoverDisableAutoplay = this._opts.popoverDisableAutoPlay, this._opts.poster !== null && void 0 !== this._opts.poster ? this._attrs.poster = this._opts.poster : this._attrs.poster = this._opts.stillUrl, this._attrs.preload = this._opts.preload, this._attrs.qualityControl = this._opts.qualityControl, this._attrs.resumable = this._opts.resumable, this._attrs.seo = this._opts.seo, this._attrs.settingsControl = this._opts.settingsControl, this._opts.silentAutoplay !== null && void 0 !== this._opts.silentAutoplay ? this._attrs.silentAutoplay = this._opts.silentAutoplay : this._attrs.silentAutoplay = this._opts.silentAutoPlay, this._attrs.statsUrl = this._opts.statsUrl, this._opts.transparentLetterbox !== null && void 0 !== this._opts.transparentLetterbox ? this._attrs.transparentLetterbox = this._opts.transparentLetterbox : this._opts.wmode === 'transparent' && (this._attrs.transparentLetterbox = !0), this._opts.volume && (this._attrs.volume = this._opts.volume), this._attrs.volumeControl = this._opts.volumeControl, this._opts.wistiaPopover !== null && void 0 !== this._opts.wistiaPopover ? this._attrs.wistiaPopover = this._opts.wistiaPopover : this._attrs.wistiaPopover = this._opts.popover, this._attrs.bigPlayButtonBorderRadius = this._defaultBigPlayButtonBorderRadius(), this._attrs.controlBarBorderRadius = this._defaultControlBarBorderRadius(), this._attrs.floatingControlBar = this._opts.floatingControlBar || !1, this._attrs.controlBarDistance = this._defaultControlBarDistance(), this._attrs.playerBorderRadius = this._defaultPlayerBorderRadius(), this._attrs.roundedPlayer = this._opts.roundedPlayer || 0, this._opts.noDeprecatedProperties || this._setDeprecatedProperties(), this }, n.prototype._inferPageUrl = function () { let t; return ((t = this._opts) != null ? t.pageUrl : void 0) ? this._opts.pageUrl : Q() }, n.prototype._runMethodsFromOptions = function () { let e, n, i, r, o; if (this._opts.foreignData != null && this.foreignData(this._opts.foreignData), this._opts.email != null ? this.email(this._opts.email) : this._opts.trackEmail != null && this.email(this._opts.trackEmail), this._opts.playerLanguage != null && this.playerLanguage(this._opts.playerLanguage), this._opts.videoFoam != null && this.videoFoam(this._opts.videoFoam), this._opts.controlScaling && this.controlScaling(this._opts.controlScaling), this._hasImpl((o = this, function () { if (o._opts.playerColor != null) return o.playerColor(o._opts.playerColor) })), this._attrs.volume != null && this.volume(this._attrs.volume), !0 !== this._opts.muted && this._attrs.volume !== 0 || this.mute(), !1 === this._opts.muted && this.unmute(), this._opts.suppressPlay && this.suppressPlay(this._opts.suppressPlay), this.popover && !(typeof (e = this.popover).isVisible === 'function' ? e.isVisible() : void 0) || !this._attrs.autoplay || this._hasImpl(function (t) { return function () { return t._playSuspendedOffScreenEnabled() ? t.inViewport() ? t.play() : t.bind('enterviewport', function () { return t.play(), t.unbind }) : t.play() } }(this)), this._opts.pause && this.pause(), this._opts.time != null) return i = t.detect.iphone || t.detect.ipad || t.detect.android, n = this.popover && !this.popover._visible, r = this.state() !== 'playing' && (i || n), this.time(this._opts.time, { lazy: r }) }, n.prototype._playSuspendedOffScreenEnabled = function () { return this._opts.playSuspendedOffScreen != null && this._opts.playSuspendedOffScreen !== 'auto' ? this._opts.playSuspendedOffScreen : this.isMuted() }, n.prototype._validate = function () { let t; if ((t = this._errors()).length > 0) throw new Error(t.join(', ')); return !0 }, n.prototype._errors = function () { let t; return t = [], this.container || t.push('Could not find element with ID "' + this._containerId + '" in DOM. Failed to initialize video "' + this._hashedId + '".'), t }, n.prototype._dedupContainer = function () { let t, e, n, i, r, o, a, s, l, u; if (Bt('video')) { for (u in l = [], o = Bt('video'))e = o[u], t = this.container.uniqueId || this.container.id, n = ((a = e.container) != null ? a.uniqueId : void 0) || ((s = e.container) != null ? s.id : void 0), t && n === t && l.push(e); for (i = 0, r = l.length; i < r; i++)n = (e = l[i]).container.uniqueId || e.container.id, this.notice('_dedupContainer', n), e.remove(); if (l.length > 0) return this.container.wistiaApi = this } }, n.prototype._addToGlobalCache = function () { let t; return this.info('_addToGlobalCache', this.uuid), t = this.translationApi ? this.translationApi : this, Bt(['video', this.uuid], t) }, n.prototype._displayServerError = function (t) { let e; return t.iframe ? (e = g() + '//' + m(), this.container.innerHTML = "<iframe src='" + e + '/embed/iframe/' + this.hashedId() + "' height='" + this.height() + "' width='" + this.width() + "' frameborder='0' scrolling='no'></iframe>") : this.container.innerHTML = "<div style='background:#fff;border:2px dashed #ddd;color:#aaa;font-family:Century Gothic,Arial;font-size:14px;text-align:center;width:" + this.width() + ';height:' + this.height() + ";'><div style='padding:20px;'>" + (t.message || t.error) + '</div></div>' }, n.prototype._implExec = function () { let e, n, i; return n = arguments[0], e = arguments.length >= 2 ? r.call(arguments, 1) : [], this._hasImpl((i = this, function () { let r; return i._impl[n] ? i._impl[n]._originalMethod === i[n] && void 0 !== i[n] ? void i.warn('calling ' + n + ' would result in an infinite loop') : (r = i._impl)[n].apply(r, e) : i.warn(n + ' is not defined', t.stacktrace()) })), this }, n.prototype._implGet = function () { let e, n, i, o; return i = arguments[0], n = arguments[1], e = arguments.length >= 3 ? r.call(arguments, 2) : [], n == null && (n = null), this._hasImpl() ? this._impl[i] ? this._impl[i]._originalMethod === this[i] && void 0 !== this[i] ? void this.warn('calling ' + i + ' would result in an infinite loop') : (o = this._impl)[i].apply(o, e) : this.warn(i + ' is not defined', t.stacktrace()) : n }, n.prototype._implSetOrGet = function () { let t, e, n; return n = arguments[0], e = arguments[1], (t = arguments.length >= 3 ? r.call(arguments, 2) : []).length > 0 ? this._implExec.apply(this, [n].concat(r.call(t))) : this._implGet(n, e) }, n.prototype._implPromise = function () { let t, e, n; return e = arguments[0], t = arguments.length >= 2 ? r.call(arguments, 1) : [], new Promise((n = this, function (i, r) { return n._hasImpl(function () { let o, a; return n._impl[e] ? n._impl[e]._originalMethod === n[e] && void 0 !== n[e] ? void n.warn('calling ' + e + ' would result in an infinite loop') : (a = (o = n._impl)[e].apply(o, t)) instanceof Promise ? a.then(i).catch(r) : i(a) : r(new Error(e + ' is not defined on _impl')) }) })) }, n.prototype._commandQueueImplPromise = function () { let e, n, i; return n = arguments[0], e = arguments.length >= 2 ? r.call(arguments, 1) : [], this._hasImpl((i = this, function () { return i._impl[n] && i._impl.commandQueueOpen ? i._impl[n]._originalMethod === i[n] && void 0 !== i[n] ? void i.warn('calling ' + n + ' would result in an infinite loop') : i._impl.commandQueueOpen.synchronize(function (t) { let r; return i._impl ? (r = i._impl)[n].apply(r, e).finally(function () { return t() }) : Promise.resolve() }) : i.warn(n + ' is not defined', t.stacktrace()) })), this }, n.prototype.rebuild = function () { return this._hasImpl((t = this, function () { return t._impl.rebuild(), t._runMethodsFromOptions() })); let t }, n.prototype.fullRebuild = function (t) { return t == null && (t = {}), this.replaceWith(this._impl._mediaData, rt({ force: this._impl.playerType, inPlace: !1, transition: 'none' }, t)) }, n.prototype.rebuildAs = function (t, e) { return e == null && (e = {}), this.fullRebuild(rt(this._givenOptions, e, { force: t, transition: 'none' })) }, n.prototype.replace = function (t, e) { return e == null && (e = {}), this.replaceWith(t, rt({ inlineOptionsOnly: !0 }, e)) }, n.prototype.replaceWith = function (e, n) { let i, r; return n == null && (n = {}), this.info('replaceWith', e, n), r = this, i = function () { let i, o, a, s; return s = r._impl ? r._replaceWithMediaData : r._initWithMediaData, r._impl.trigger('beforereplace', e), r._notReplacing(!1), r.hasData(!1), r._hasImpl(!1), r._initTime = (new Date()).getTime(), r.hasData(function () { return r._hasDataTime = (new Date()).getTime(), r.embedded(function () { return r._embeddedTime = (new Date()).getTime() }) }), J(e) ? s.call(r, e, n) : (o = t.mediaFromCache(e)) ? s.call(r, o, n) : (i = p(r._gatherOptions()), a = rt({}, i, n), W(e, a).then(function (t) { return s.call(r, t, n) }).catch(function () { return f('player/failure/replace-failed') })) }, this._hasImpl(function (t) { return function () { return t._notReplacing(i) } }(this)), this }, n.prototype._replaceWithMediaData = function () { let t, e; return t = arguments.length >= 1 ? r.call(arguments, 0) : [], this._impl.commandQueueOpen.synchronize((e = this, function (n) { return e._replaceWithMediaDataQueuable.apply(e, t), e._notReplacing(n) })) }, n.prototype._replaceWithMediaDataQueuable = function (e, n) { let i, r, s, l, u, c, d, f, v, m, g, b, _, w, P, O; return n == null && (n = {}), n = p(n), this.info('_replaceWithMediaData', e, n), e.error ? (this._displayServerError(e), void this.trigger('servererror')) : (n.playlistIndex != null ? (this._playlistIndex = n.playlistIndex, delete n.playlistIndex) : this._inPlaylist(e.hashedId) && (this._playlistIndex = this._playlistIndexOf(e.hashedId)), n.playlistShouldAutoAdvance != null && (this._playlistShouldAutoAdvance = n.playlistShouldAutoAdvance), n.inlineOptionsOnly && (u = n.inlineOptionsOnly, delete n.inlineOptionsOnly), n.inPlace != null && (l = n.inPlace, delete n.inPlace), n.transition != null && (w = n.transition, delete n.transition), n.transitionTime != null && (P = n.transitionTime, delete n.transitionTime), this.hasData(!1), this._hasImpl(!1), (v = this._impl._tracker) != null && v.stopMonitoring(), this._clobberVideoBindings(), this._savedState = {}, this._suspended = !1, typeof (d = this._impl).wipeOutstandingAsyncFunctions === 'function' && d.wipeOutstandingAsyncFunctions(), this._hashedId = e.hashedId, this._originalMediaData = e, this.data.media = e, this._givenOptions = n, this._mediaData = e, this._opts = u ? this._gatherOptions({ only: 'inline' }) : this._gatherOptions(), this._embedOptions = null, this._mediaData = nt(e, this._opts), d.trigger('beforereplaceengine'), d.freezeLastFrame(), f = new a(), _ = function () { return f.go() }, G() && !0 === this._attrs.autoplay && !d.isMuted() && (i = d.engine) ? (i.stopStreaming(), i.play().then(_).catch(_), setTimeout(_, 2e3)) : _(), !1 === h((m = this._mediaData.embedOptions.plugin) != null && (g = m.passwordProtectedVideo) != null ? g.on : void 0) && ((b = this._opts.plugin) != null ? b.passwordProtectedVideo : void 0) != null && (this._opts.plugin.passwordProtectedVideo.on = !1), this.info('_opts', p(this._opts)), rt(this._mediaData, this._opts.mediaData), this._inferPropertiesAfterMediaData(), s = d.playerType !== 'notplayable' && (d.playerType !== 'passwordprotected' && (!(d.playerType !== 'html5' || !(t.detect.iphone || t.detect.android || t.detect.ipad || t.detect.safari)) || l != null && l)), this.info('inPlace', s), c = o.choosePlayer(this.judyCtx(), this._mediaData, this._opts), this._playerPlugins = o.playerPlugins(this.judyCtx(), c, this._mediaData, this._opts), o.logWarnings(this.judyCtx(), c, this._mediaData, this._opts), s && (this.removePlugins(), d.stopStreaming()), this.plugin = null, this._pluginStopGos = {}, this._definePluginMethod(), this.hasPlugins(!1), d.commandQueueOpen.setQueue([]), this.removeSwatch(), this._implVersion += 1, r = this._implVersion, f((O = this, function () { let e; return (e = d.engine) != null && e.destroy(), O._execPlugins().then(function () { let e, n; if (O._implVersion === r) return O.hasPlugins(!0), O.supportedPlayers = o.supportedPlayers(O.judyCtx(), O._mediaData.assets), n = t.PublicApi.classFor(c), O._impl = new n(O).init(), O._setupBindings(), O.grid = s ? O._impl.grid = d.grid : O._impl.setupGrid({ initDimensions: !1 }), typeof (e = O._impl).transferStateFrom === 'function' && e.transferStateFrom(d), O._hasImpl(!0), O.hasData(!0), s || O._runMethodsFromOptions(), s ? O._replaceMode(function () { return O._impl.initFrom(d) }) : O._replaceMode(function () { return O._embedWithTransitionFrom(d, w, { time: P }) }), O.embedded(function () { return O._notReplacing(!0) }), s && O._runMethodsFromOptions(), O._allowContainerMatch() && O.width(O.containerWidth(), { constrain: !0 }), y(O._impl.uuid + '.inject_json_ld', function () { return O._injectJsonLd() }), O.trigger('afterreplace'), O.container.dispatchEvent(new CustomEvent('afterreplace', { detail: { api: O } })), y(O.uuid + '.prefetch_next_media', function () { return O.prefetchNextMedia() }, 2e3); O.notice('replaceWith(): impl changed from', r, 'to', O._implVersion, 'not completing replacement') }) }))) }, n.prototype._embedWithTransitionFrom = function (t, e, n) { let i, r; return e == null && (e = 'none'), this.info('_embedWithTransitionFrom', t, e), e !== 'none' && f('player/replacewith-transition', 1, { transition: e, hashedId: this._hashedId, url: window.location.href }), i = new Promise((r = this, function (t) { let e, n; return ((e = r._impl.lastPlayInfo()) != null ? e.isPending : void 0) ? (n = r._impl.on('play', function () { return n(), t() }), y(r._impl.uuid + '.slow_play_fallback', function () { return r._impl.embedded(function () { return n(), t() }) }, 2e3)) : r._impl.embedded(t) })), e === 'slide' || e === 'slideleft' ? (this.info('slideleft'), this._impl.embed(t), i.then(function (e) { return function () { return t.slideOutLeft(n, function () { return t.remove() }), e._impl.slideInLeft(n, function () { return e._impl.trigger('transitiondone') }) } }(this))) : e === 'slideright' ? (this.info('slideright'), this._impl.embed(t), i.then(function (e) { return function () { return t.slideOutRight(n, function () { return t.remove() }), e._impl.slideInRight(n, function () { return e._impl.trigger('transitiondone') }) } }(this))) : e === 'fade' ? (this.info('fade'), !0 !== t._attrs.transparentLetterbox && (t.grid.center.style.backgroundColor = '#000'), n.time != null && (n.time = Math.round(n.time / 2)), t.fadeOut(n, (function (e) { return function () { let r; return t.remove(), !0 !== e._impl._attrs.transparentLetterbox && (r = e._impl.grid) != null && (r.center.style.backgroundColor = '#000'), e._impl.embed(t), i.then(function () { return e._impl.fadeIn(n, function () { let t; return (t = e._impl) != null && (t.grid.center.style.backgroundColor = ''), e._impl.trigger('transitiondone') }) }) } }(this)))) : e === 'crossfade' ? (this.info('crossfade'), t.grid && x(t.grid.root, { position: 'absolute', zIndex: 0 }), x(this._impl.grid.root, { zIndex: 1 }), this._impl.embed(t), i.then(function (e) { return function () { return e._impl.fadeIn(n, function () { return t.remove(), x(e._impl.grid.root, { zIndex: '' }), e._impl.trigger('transitiondone') }) } }(this))) : (this.info('no transition'), this._impl.embed(t), t.remove(), i.then(function (t) { return function () { return setTimeout(function () { if (t._impl) return t._impl.trigger('transitiondone') }, 0) } }(this))) }, n.prototype._clobberVideoBindings = function () { let t, e, n; for (t in n = [], e = this._bindings)e[t], t !== 'afterreplace' && t !== 'beforereplace' && t !== 'all' ? n.push(this.unbind(t)) : n.push(void 0); return n }, n.prototype._replaceMode = function (t) { return this.info('_replaceMode', !0), this._impl._replacing = !0, t(), this._impl.embedded((e = this, function () { return e._impl._replacing = !1, e.info('_replaceMode', !1) })); let e }, n.prototype.remove = function (e) { let n, i, r, o, a, s, l, u; return e == null && (e = {}), this.info('remove'), this.trigger('down'), this.trigger('beforeremove'), this._freeEmbedSlot(), (n = this.elem()) != null && (i = n.mux) != null && typeof i.destroy === 'function' && i.destroy(), this.removeSwatch(), this._implExec('remove', { trigger: !1 }), this._hasImpl(!1), Pt(this._jsonLdId), (r = this.popover) != null && typeof r.remove === 'function' && r.remove(), (o = this._impl) != null && o.stopStreaming(), (a = this._intersectionObserver) != null && a.disconnect(), R(this._foamDummyElem), j(this._foamDummyElem), (s = t.eventLoop) != null && s.remove(this.uuid), d(this.uuid), this._unbindListeners(), j(this.chrome), Rt(['video', this.uuid]), this.trigger('afterremove'), this._bindings = {}, this.container.tagName === 'WISTIA-PLAYER' && this.container.getAttribute('use-web-component') && j(this.container), e.unsetWistiaApiOnContainer ? (this.container.wistiaApi = void 0, this.container.tagName === 'WISTIA-PLAYER' && this.container.getAttribute('use-web-component') && (this.container.originalContainer.uniqueId = this.container.uniqueId, this.container.originalContainer._convertingToAurora = !1, j(this.container))) : this.container.wistiaApi = 'removed', this._impl = null, (l = window.__wistiaStores) != null && (l[this.uuid] = null), (u = window.__wistiaStores) != null ? delete u[this.uuid] : void 0 }, n.prototype.removeSwatch = function () { let t, e; if ((e = this.container.querySelector('.wistia_swatch') || ((t = this.container.originalContainer) != null ? t.querySelector('.wistia_swatch') : void 0)) && j(e), this.container.tagName === 'WISTIA-PLAYER' && (e = this.container.shadowRoot.querySelector('.wistia_swatch'))) return j(e) }, n.prototype.fullRemove = function () { let t, e, n; return e = this._embedContainer, n = this._popoverContainer, t = this.container, this.remove(), j(e), j(n), j(t), this.container = this._embedContainer = null, this }, n.prototype.isRemoved = function () { return !Bt(['video', this.uuid]) }, n.prototype._unbindListeners = function () { if (D(this.chrome), this._throttleTriggerViewport && B(window, 'scroll', this._throttleTriggerViewport), this._doResize) return B(window, 'resize', this._doResize) }, n.prototype._saveState = function () { let t; return this._savedState = { state: this.state(), time: this.time(), volume: this.volume(), inFullscreen: this.inFullscreen(), uuid: (t = this._impl) != null ? t.uuid : void 0 } }, n.prototype.suspend = function () { let e, n; if (!this._suspended) return this._saveState(), this.info('suspend', p(this._savedState)), this.pause(), this.suppressPlay(!0), !((e = this._impl) != null && typeof e._inNativeMode === 'function' ? e._inNativeMode() : void 0) && t.detect.fullscreenEnabled || this.cancelFullscreen(), this._suspended = !0, this._suspendPlayBinding = (n = this, function () { return n.pause() }), this._suspendSeekBinding = (function (t) { return function () { return t.pause(), t.time(t._savedState.time) } }(this)), this.bind('play', this._suspendPlayBinding), this.bind('seek', this._suspendSeekBinding), this.trigger('suspendstatechange', !0), this }, n.prototype.unsuspend = function (t) { let e, n, i; if (t == null && (t = {}), this._suspended) return n = rt({}, this._savedState, t), this.info('unsuspend', p(n)), this._suspended = !1, this.unbind('play', this._suspendPlayBinding), this.unbind('seek', this._suspendSeekBinding), n.uuid !== ((e = this._impl) != null ? e.uuid : void 0) || (this.suppressPlay(!1), this.volume(n.volume), i = { pause: n.state !== 'playing' }, n.time != null && Math.abs(n.time - this.time()) > 0.5 && (n.state === 'ended' ? this.time(n.time - 1, i) : this.time(n.time, i)), n.state === 'playing' && this.play(), this.trigger('suspendstatechange', !1)), this }, n.prototype._setupBindings = function () { let t; return this.bind('afterend', (t = this, function () { if (t.playlistShouldAutoAdvance()) return t._suspended ? t.bind('suspendstatechange', function (e) { if (!1 === e) return t.state() === 'ended' && t._nextEmbedOrPlaylistLoop(), t.unbind }) : t._nextEmbedOrPlaylistLoop() })), this.bind('widthchange', (function (t) { return function () { let e, n; return (e = t._impl) != null && (e._width = t._width = t.width()), (n = t._impl) != null ? n._videoWidth = t._videoWidth = t.videoWidth() : void 0 } }(this))), this.bind('heightchange', (function (t) { return function () { return t._impl._height = t._height = t.height(), t._impl._videoHeight = t._videoHeight = t.videoHeight() } }(this))), this.looksUp() && (this.inViewport(this._isInViewportNow()), this.inViewport() ? this.trigger('enterviewport') : this.trigger('leaveviewport')), this._intersectionObserver = new window.IntersectionObserver(function (t) { return function (e) { return e[0].isIntersecting ? (t.trigger('enterviewport'), t.inViewport(!0)) : (t.trigger('leaveviewport'), t.inViewport(!1)) } }(this)), this._intersectionObserver.observe(this.container), A(window, 'resize', this._doResize) }, n.prototype._nextEmbedOrPlaylistLoop = function () { return this.nextVideo() ? this.embedNext() : this._attrs.playlistLoop ? (this.info('playlistLoop'), this.embedIndex(0, { autoPlay: !0 })) : void 0 }, n.prototype._isInViewportNow = function () { let t, e, n, i; return !this.down() && !this.looksDown() && (!window.IntersectionObserver && top !== self || (t = (e = C(this.container).top) + S(this.container), i = Et(), n = Et() + S(window), e >= i && e < n || t >= i && t < n || e <= i && t >= n)) }, n.prototype._pauseEventLoop = function () { let e; if (t.eventLoop.pause(this.uuid), (e = this._impl) != null ? e.uuid : void 0) return t.eventLoop.pause(this._impl.uuid) }, n.prototype._unpauseEventLoop = function () { let e; if (t.eventLoop.unpause(this.uuid), (e = this._impl) != null ? e.uuid : void 0) return t.eventLoop.unpause(this._impl.uuid) }, n.prototype.playlistIndex = function () { return this._playlistIndexOf(this.hashedId()) }, n.prototype.nextVideo = function () { return this.playlistIndex() >= 0 && this._playlist[this.playlistIndex() + 1] || null }, n.prototype.previousVideo = function () { return this.playlistIndex() > 0 && this._playlist[this.playlistIndex() - 1] || null }, n.prototype._playlistIndexOf = function (t) { let e, n, i, r; for (e = n = 0, i = this._playlist.length; i >= 0 ? n <= i : n >= i; e = i >= 0 ? ++n : --n) if (((r = this._playlist[e]) != null ? r.hashedId : void 0) === t) return e; return -1 }, n.prototype._inPlaylist = function (t) { return this._playlistIndexOf(t) >= 0 }, n.prototype._setTransitionOptions = function (t) { if (t.transition || (t.transition = this._opts.playlistTransition || 'fade'), t.transitionTime || (t.transitionTime = this._opts.playlistTransitionTime), t.playlistIndex && t.transition === 'slide') return t.playlistIndex >= this._playlistIndex ? t.transition = 'slideleft' : t.transition = 'slideright' }, n.prototype.embedNext = function (t) { let e, n; return n = this.nextVideo(), this.info('embedNext', n), (e = rt({ autoPlay: !0, resumable: !1 }, n.options, t)).playlistIndex = this._playlistIndex + 1, e.playlistShouldAutoAdvance = this._playlistShouldAutoAdvance, this._setTransitionOptions(e), this.replaceWith(n.hashedId, e) }, n.prototype.embedPrevious = function (t) { let e, n; return n = this.previousVideo(), this.info('embedPrevious', n), (e = rt({ autoPlay: !0, resumable: !1 }, n.options, t)).playlistIndex = this._playlistIndex - 1, e.playlistShouldAutoAdvance = this._playlistShouldAutoAdvance, this.replaceWith(n.hashedId, e) }, n.prototype.embedIndex = function (t, e) { let n, i; return i = this._playlist[t], this.info('embedIndex', t, i), (n = rt({ autoPlay: !0 }, i.options, e)).playlistIndex = t, n.playlistShouldAutoAdvance = this._playlistShouldAutoAdvance, this.replaceWith(i.hashedId, n) }, n.prototype.addToPlaylist = function (t, e, n) { let i, r, o, a, s; for (e == null && (e = {}), n == null && (n = {}), this._playlist == null && (this._playlist = []), o = 0, a = (s = At(t)).length; o < a; o++)i = { hashedId: r = s[o], options: e }, (n = p(n)).after ? n.detect = function (t) { return t.hashedId === n.after } : n.before && (n.detect = function (t) { return t.hashedId === n.before }), this.info('addToPlaylist', i, n), $(this._playlist, i, n), this.hasData(function (t) { return function () { let n, i; return r === ((n = t.nextVideo()) != null ? n.hashedId : void 0) || r === ((i = t.previousVideo()) != null ? i.hashedId : void 0) ? t.prefetchMedia(r, e) : void 0 } }(this)); return this.info('updated _playlist', p(this._playlist)), this.trigger('playlistchange', this._playlist), this._playlist }, n.prototype.setPlaylist = function (t, e) { return e == null && (e = {}), this._playlist = [], this.addToPlaylist(t, e), this._playlistIndex = this._playlistIndexOf(this.hashedId()), this.trigger('playlistchange', this._playlist) }, n.prototype.playlistShouldAutoAdvance = function () { return this._playlistShouldAutoAdvance == null || this._playlistShouldAutoAdvance }, n.prototype.setPlaylistShouldAutoAdvance = function (t) { return this._playlistShouldAutoAdvance = t }, n.prototype.prefetchNextMedia = function () { let t; if (!this._opts._inLegacyPlaylist && (t = this.nextVideo())) return this.prefetchMedia(t.hashedId, t.options) }, n.prototype.prefetchMedia = function (t, e) { return e == null && (e = {}), e = u({ embedHost: this._opts.embedHost }, e), this.info('@prefetchMedia', t), W(t, p(e)).then((n = this, function (i) { let r; return n.info('prefetched', t), r = n._gatherOptions({ givenOptions: e, mediaData: i, hashedId: i.hashedId, container: n.container }), ut(i, r) })).catch(function () { return f('player/failure/prefetch-failed') }); let n }, n.prototype.addPlugin = function (e, n) { return n == null && (n = {}), this.info('addPlugin', e, n), new Promise((i = this, function (r) { return i._hasImpl(function () { return i.hasPlugin(e) || t.plugin._inject(i, e, n), i.plugin(e).then(function (t) { return r(t) }) }) })); let i }, n.prototype.hasPlugin = function (t) { return !!this.plugin[t] }, n.prototype.turnOffPluginApis = function () { let t, e, n, i; for (e in this.info('turnOffPluginApis'), i = [], n = this.plugin)n[e], i.push(typeof (t = this._pluginStopGos)[e] === 'function' ? t[e](!1) : void 0); return i }, n.prototype.removePlugin = function (t) { let e, n, i; if (n = this.plugin[t]) { try { typeof n.remove === 'function' && n.remove() } catch (t) { e = t, setTimeout(function () { throw e }, 0) } return delete this.plugin[t], ((i = this._impl.plugin) != null ? i[t] : void 0) && delete this._impl.plugin[t], n.uuid && this.plugins && (delete this.plugins[this.uuid], Rt(['plugins', t, this.uuid, n.uuid])), this.fit(), this.trigger('pluginremoved', t) } }, n.prototype.removePlugins = function () { let t, e, n; for (t in this.info('removePlugins'), n = [], e = this.plugin)e[t], n.push(this.removePlugin(t)); return n }, n.prototype.containerWidth = function () { return M(this._embedContainer) }, n.prototype.containerHeight = function () { return S(this._embedContainer) }, n.prototype._getScreenScrolls = function (t, e) { let n; return n = t.bottom + window.pageYOffset, Math.max(0, n / e - 1) }, n.prototype._getEmbedVisibilityMetrics = function () { let t, e, n, i, r; return this.embedOptions()._inIframe || this.isRemoved() ? null : (r = S(window), i = (e = this.elem().getBoundingClientRect()).height, n = this._getScreenScrolls(e, r), this.popover && (t = this.container.getBoundingClientRect(), n = this._getScreenScrolls(t, r)), { screen_scrolls: n, ratio_of_screen: i / r, screen_width: window.screen.width, screen_height: window.screen.height }) }, n.prototype._getPageTitle = function () { return this._attrs.pageTitle || document.title }, n.prototype._getBrowserLanguage = function () { return window.navigator.language }, n.prototype._goToDownState = function () { let t; return this.info('_goToDownState'), this._stateBeforeDown = this._lastState, this.up(!1), this.down(!0), (t = this._impl.engine) != null && t.pause(), this.ready(!1), this.trigger('down') }, n.prototype._goToUpState = function () { let t; return this.info('_goToUpState'), this.down(!1), this._ignoreUp = !0, this._doSizing(), this._ignoreUp = !1, this.up(!0), this.ready(!1), this.fit(), (t = this._impl) != null && t.checkForReady(), this._stateBeforeDown === 'playing' && this.play(), this.trigger('up') }, n.prototype._checkDownState = function () { let t; return t = this.looksDown(), this.up() && t ? (this.info('moving to down state'), this._goToDownState()) : this.down() && !t ? (this.info('moving to up state'), this._goToUpState()) : void 0 }, n.prototype._removeHandleIfGoneFromDOM = function () { return !!this.embedded() && (this.elem() ? !(!this._embedContainer || this._embedContainer.parentNode) && (this.warn('container removed from DOM', this._embedContainer.id), this.remove({ unsetWistiaApiOnContainer: !0 }), !0) : (this.warn('video element removed from DOM', this._embedContainer.id), this.remove(), !0)) }, n.prototype._doFoam = function () { let t, e, n, i, r, o, a, s, l, u, c; if (this._parentBoxSizing == null && (this._parentBoxSizing = x(this._embedContainer.parentNode, 'box-sizing')), this.popover ? (l = (c = M(window)) / (u = S(window)), e = (s = Math.min(c, u)) > 500 ? 160 : Math.abs(l - this.aspect()) < 0.2 ? 0.2 * s : 0.1 * s, a = l > this.aspect() ? Math.round((u - e) * this.aspect()) : c - e) : this._parentBoxSizing === 'border-box' ? (this._foamDummyElem || (this._foamDummyElem = O({ class: 'wistia_video_foam_dummy', 'data-source-container-id': this._embedContainer.id, style: { border: 0, display: 'block', height: 0, margin: 0, padding: 0, position: 'static', visibility: 'hidden', width: 'auto' } }), P(this._embedContainer, this._foamDummyElem)), a = M(this._foamDummyElem)) : a = M(this._embedContainer.parentNode), !(isNaN(a) || this._lastParentWidth === a && this._didFoam)) return this._didFoam = !0, r = (o = a) - this.extraWidth(), n = (i = this.heightForWidth(r)) + this.extraHeight(), (t = this.videoFoam()).maxHeight && n > t.maxHeight && (i = (n = t.maxHeight) - this.extraHeight(), o = (r = this.widthForHeight(i)) + this.extraWidth()), t.maxWidth && o > t.maxWidth && (r = (o = t.maxWidth) - this.extraWidth(), n = (i = this.heightForWidth(r)) + this.extraHeight()), t.minHeight && n < t.minHeight && (i = (n = t.minHeight) - this.extraHeight(), o = (r = this.widthForHeight(i)) + this.extraWidth()), t.minWidth && o < t.minWidth && (r = (o = t.minWidth) - this.extraWidth(), n = (i = this.heightForWidth(r)) + this.extraHeight()), this.info('videoFoam set width', o), this.width(o, { constrain: !0 }), this._lastParentWidth = a }, n.prototype._allowFoam = function () { let t; return this._hasImpl() && this.grid && (this.up() || this._ignoreUp) && this.looksUp() && (this._attrs.videoFoam || ((t = this.popover) != null ? t.isResponsive() : void 0)) && !this.isAudio() }, n.prototype._allowContainerMatch = function () { return (this.up() || this._ignoreUp) && !this._opts.dontMonitorSize && !this.inFullscreen() }, n.prototype._doContainerMatch = function () { let t, e; if (e = this.containerWidth(), t = this.containerHeight(), this._lastWidth !== e && (this.notice('container width changed to ' + e + ', matching'), this.width(e, { dontChangeContainer: !0 }), this.info('_doContainerMatch set width', e), this.trigger('widthchange', e, this._lastWidth), this._lastWidth = e), this._lastHeight !== t) return this.notice('container height changed to ' + t + ', matching'), this.height(t, { dontChangeContainer: !0 }), this.trigger('heightchange', t, this._lastHeight), this._lastHeight = t }, n.prototype.monitor = function () { return this.info('monitor'), this._lastWidth = this._attrs.startingWidth, this._lastHeight = this._attrs.startingHeight, this._lastParentWidth = this.width(), this._didFoam = !1, this._hasImpl((e = this, function () { return t.eventLoop.add(e.uuid + '.monitor', 500, e._doMonitor) })); let e }, n.prototype._doMonitor = function () { if (!this._removeHandleIfGoneFromDOM()) return this._checkDownState(), this.chrome && !E(this.chrome) && (this.notice('Chrome was removed from DOM. Injecting it back in.'), w(this._embedContainer, this.chrome)), this._doSizing() }, n.prototype._doSizing = function () { if (this.popover) return this.popover.fixedSizeTooBigForWindow() ? this._doFoam() : this._opts.popoverSize ? (this._lastWidth = this.width(), this._lastHeight = this.height(), this.width(this._popoverSize().width), this.height(this._popoverSize().height)) : this._doFoam(); if (this._allowFoam()) { if (this._doFoam(), this.container.tagName === 'WISTIA-PLAYER') return this._doContainerMatch() } else if (this._allowContainerMatch()) return this._doContainerMatch() }, n.prototype.looksDown = function () { return !this._embedContainer || !E(this._embedContainer) || T(this._embedContainer) }, n.prototype.looksUp = function () { return !this.looksDown() }, n.prototype._doResize = function () { let t; return typeof this._throttleTriggerViewport === 'function' && this._throttleTriggerViewport(), this._debounceDoMonitor || this.embedded((t = this, function () { return requestAnimationFrame(function () { return t._doMonitor(), t._debounceDoMonitor = !1 }) })), this._debounceDoMonitor = !0 }, n.prototype._definePluginMethod = function () { let t; if (!this.plugin) return this.plugin = (t = this, function (e, n) { let i; return (i = t._pluginStopGos[e]) || (i = t._pluginStopGos[e] = new a())(!!t.plugin[e], t.plugin[e]), n ? i(function () { return n(t.plugin[e]) }) : i }) }, n.prototype.videoFoam = function (t) { return t != null ? (this.info('videoFoam', t), this._attrs.videoFoam = t, this.monitor(), t) : this._attrs.videoFoam || !1 }, n.prototype._transformAndUpdateMediaData = function () { let t, e, n; return this._mediaData = nt(this._originalMediaData, this._opts), (t = this._impl) != null && (e = t.engine) != null && e.onMediaDataChanged(this._mediaData, this._opts), (n = this._impl) != null ? n._mediaData = this._mediaData : void 0 }, n.prototype.specialBind = function () { let t, e, n, i, o, a, s; return e = arguments[0], t = arguments.length >= 2 ? r.call(arguments, 1) : [], e === 'crosstime' ? (i = t[0], n = t[1], this.onCrossTime(i, n), s = this, function () { return s.unbindOnCrossTime(i, n) }) : e === 'betweentimes' && (o = t[0], a = t[1], n = t[2], this.betweenTimes(o, a, n), (function (t) { return function () { return t.unbindBetweenTimes(o, a, n) } }(this))) }, n.prototype.specialUnbind = function () { let t, e, n, i, o, a; return e = arguments[0], t = arguments.length >= 2 ? r.call(arguments, 1) : [], e === 'crosstime' ? (i = t[0], n = t[1], this.unbindOnCrossTime(i, n), !0) : e === 'betweentimes' && (o = t[0], a = t[1], n = t[2], this.unbindBetweenTimes(o, a, n), !0) }, n.prototype.onCrossTime = function (t, e) { let n, i, r, o, a, s, l, u; if (!/^(\d+\.)?\d+$/.test(t)) throw 'onCrossTime: Expected first argument to be a number'; if (typeof e !== 'function') throw 'onCrossTime: Expected second argument to be a function'; return this._onCrossTimeBindings == null && (this._onCrossTimeBindings = {}), (i = this._onCrossTimeBindings)[t] == null && (i[t] = []), l = this.uuid + '.' + xt('after_time_'), n = this.time() > t, u = this, r = function () { return u.time() < t ? o() : n || (n = !0, e.call(u) !== u.unbind) ? void 0 : u.unbindOnCrossTime(t, e) }, o = (function (e) { return function () { return e.time() >= t ? (d(l), r()) : n ? void 0 : y(l, r, 1e3 * (t - e.time())) } }(this)), a = (function (e) { return function () { if (e.time() < t) { if (n = !1, t - e.time() < 2) return o() } else if (!n) return r() } }(this)), s = function () { return d(l) }, this.bind('play', a), this.bind('timechange', a), this.bind('pause', s), this.bind('end', s), this.bind('waiting', s), this.state() !== 'playing' || n || a(), this._onCrossTimeBindings[t].push({ fn: e, setupTimeoutFromNowIfClose: a, suspendTimeoutIndefinitely: s }), this }, n.prototype.unbindOnCrossTime = function (t, e) { let n, i, r, o, a, s; if (!this._onCrossTimeBindings || !this._onCrossTimeBindings[t]) return this; for (n = null, r = 0, o = 0, a = (s = this._onCrossTimeBindings[t]).length; o < a; o++) { if ((i = s[o]).fn === e) { n = i; break }r += 1 } return n ? (this.unbind('play', n.setupTimeoutFromNowIfClose), this.unbind('timechange', n.setupTimeoutFromNowIfClose), this.unbind('pause', n.suspendTimeoutIndefinitely), this.unbind('end', n.suspendTimeoutIndefinitely), this.unbind('waiting', n.suspendTimeoutIndefinitely), this._onCrossTimeBindings[t].splice(r, 1), this._onCrossTimeBindings[t].length === 0 && delete this._onCrossTimeBindings[t], this) : this }, n.prototype.betweenTimes = function (t, e, n) { let i, r, o, a, s; if (!/^(\d+\.)?\d+$/.test(t) || !/^(\d+\.)?\d+$/.test(e)) throw 'betweenTimes: Expected first two arguments to be numbers'; if (typeof n !== 'function') throw 'betweenTimes: Expected second argument to be a function'; return o = t + '-' + e, this._betweenTimeBindings == null && (this._betweenTimeBindings = {}), (i = this._betweenTimeBindings)[o] == null && (i[o] = []), a = !1, s = this, r = function () { let i, r; if (r = s.time(), t <= r && r < e && !a ? (a = !0, i = n.call(s, a)) : t <= r && r < e || !a || (a = !1, i = n.call(s, a)), i === s.unbind) return s.unbindBetweenTimes(t, e, n) }, this.onCrossTime(t, r), this.onCrossTime(e, r), this.bind('timechange', r), r(), this._betweenTimeBindings[o].push({ fn: n, onTimechange: r }), this }, n.prototype.unbindBetweenTimes = function (t, e, n) { let i, r, o, a, s, l, u; if (u = t + '-' + e, !this._betweenTimeBindings[u]) return this; for (i = null, o = 0, a = 0, s = (l = this._betweenTimeBindings[u]).length; a < s; a++) { if ((r = l[a]).fn === n) { i = r; break }o += 1 } return i ? (this.unbindOnCrossTime(t, i.onTimechange), this.unbindOnCrossTime(e, i.onTimechange), this.unbind('timechange', i.onTimechange), this._betweenTimeBindings[u].splice(o, 1), this._betweenTimeBindings[u].length === 0 && delete this._betweenTimeBindings[u], this) : this }, n.prototype.aspect = function () { return this._implGet('aspect', 0) }, n.prototype.asset = function () { return this._implGet.apply(this, ['asset', null].concat(r.call(arguments))) }, n.prototype.assets = function () { return this._implGet.apply(this, ['assets', null].concat(r.call(arguments))) }, n.prototype.audioDescriptionControlEnabled = function () { return this._implSetOrGet.apply(this, ['audioDescriptionControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.bigPlayButtonEnabled = function () { return this._implSetOrGet.apply(this, ['bigPlayButtonEnabled', !1].concat(r.call(arguments))) }, n.prototype.bigPlayButtonTimeEnabled = function () { return this._implSetOrGet.apply(this, ['bigPlayButtonTimeEnabled', !1].concat(r.call(arguments))) }, n.prototype.cancelOverlay = function () { return this._implPromise.apply(this, ['cancelOverlay'].concat(r.call(arguments))) }, n.prototype.cancelFullscreen = function () { return this._commandQueueImplPromise('cancelFullscreen') }, n.prototype.captureCurrentFrame = function () { return this._implGet.apply(this, ['captureCurrentFrame', null].concat(r.call(arguments))) }, n.prototype.closeTabMenu = function () { return this._implExec('closeTabMenu') }, n.prototype.controlScaling = function () { return this._implSetOrGet.apply(this, ['controlScaling', 'auto'].concat(r.call(arguments))) }, n.prototype.createControl = function () { return this._implGet.apply(this, ['createControl', null].concat(r.call(arguments))) }, n.prototype.defineOverlay = function () { return this._implExec.apply(this, ['defineOverlay'].concat(r.call(arguments))) }, n.prototype.destroyControl = function () { return this._implExec.apply(this, ['destroyControl'].concat(r.call(arguments))) }, n.prototype.doNotTrack = function () { return this._opts.doNotTrack }, n.prototype.duration = function () { return this._implGet('duration', null) }, n.prototype.embedded = function () { return this._implSetOrGet.apply(this, ['embedded', !1].concat(r.call(arguments))) }, n.prototype.embedOptions = function () { return this._hasImpl() ? this._implGet.apply(this, ['embedOptions', {}].concat(r.call(arguments))) : this._embedOptions ? this._embedOptions : this._embedOptions = this._gatherOptions() }, n.prototype.enterInputContext = function () { return this._implExec.apply(this, ['enterInputContext'].concat(r.call(arguments))) }, n.prototype.eventKey = function () { return this._implGet('eventKey', null) }, n.prototype.exitInputContext = function () { return this._implExec.apply(this, ['exitInputContext'].concat(r.call(arguments))) }, n.prototype.extraHeight = function () { return this._implGet('extraHeight', 0) }, n.prototype.extraWidth = function () { return this._implGet('extraWidth', 0) }, n.prototype.fit = function () { return this._implExec('fit') }, n.prototype.fullscreenControlEnabled = function () { return this._implSetOrGet.apply(this, ['fullscreenControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.focus = function () { return this._implPromise.apply(this, ['focus'].concat(r.call(arguments))) }, n.prototype.getBuffered = function () { return this._implGet('getBuffered', []) }, n.prototype.getFocusedChapter = function () { return this._implGet('getFocusedChapter', null) }, n.prototype.getInputContext = function () { return this._implGet('getInputContext', []) }, n.prototype.getMediaElement = function () { return this._implGet('getMediaElement', null) }, n.prototype.getMediaType = function () { return this._implGet('getMediaType', null) }, n.prototype.getOverlays = function () { return this._implGet('getOverlays', {}) }, n.prototype.getRegion = function () { return this._implGet.apply(this, ['getRegion', null].concat(r.call(arguments))) }, n.prototype.getSelectedCaptions = function () { let t, e; return (t = this.controls) != null && (e = t.captions) != null ? e.getSelectedCaptions() : void 0 }, n.prototype.hasData = function () { return this._implSetOrGet.apply(this, ['hasData', !1].concat(r.call(arguments))) }, n.prototype.height = function () { return this._implSetOrGet.apply(this, ['height', null].concat(r.call(arguments))) }, n.prototype.heightForWidth = function () { return this._implGet.apply(this, ['heightForWidth', null].concat(r.call(arguments))) }, n.prototype.hideControls = function () { return this._implExec.apply(this, ['hideControls', null].concat(r.call(arguments))) }, n.prototype.ieSizeHack = function () { return this._implExec('ieSizeHack') }, n.prototype.inFullscreen = function () { return this._implGet('inFullscreen', !1) }, n.prototype.inSilentPlaybackMode = function () { return this._implGet('inSilentPlaybackMode', !1) }, n.prototype.isMuted = function () { return this._implGet('isMuted') }, n.prototype.isResumableEnabled = function () { return this._implGet('isResumableEnabled') }, n.prototype.lastPauseInfo = function () { return this._implGet('lastPauseInfo', {}) }, n.prototype.lastPlayInfo = function () { return this._implGet('lastPlayInfo', {}) }, n.prototype.layout = function () { return this._implSetOrGet.apply(this, ['layout', 'primary'].concat(r.call(arguments))) }, n.prototype.look = function () { return this._implSetOrGet.apply(this, ['look', {}].concat(r.call(arguments))) }, n.prototype.mp4Asset = function () { return this._implGet.apply(this, ['mp4Asset', null].concat(r.call(arguments))) }, n.prototype.mute = function () { return this._implExec('mute') }, n.prototype.playerLanguage = function (t) { return t && (this._wasPlayerLanguageSetViaApi = !0), this._implSetOrGet.apply(this, ['playerLanguage', 'en-US'].concat(r.call(arguments))) }, n.prototype.name = function () { return this._implSetOrGet.apply(this, ['name', ''].concat(r.call(arguments))) }, n.prototype.openChaptersTab = function () { return this._implExec('openChaptersTab') }, n.prototype.openShareTab = function () { return this._implExec('openShareTab') }, n.prototype.openTabMenu = function () { return this._implExec('openTabMenu') }, n.prototype.openTranscriptTab = function () { return this._implExec('openTranscriptTab') }, n.prototype.originalAsset = function () { return this._implGet.apply(this, ['originalAsset', null].concat(r.call(arguments))) }, n.prototype.pause = function () { return this._commandQueueImplPromise('pause') }, n.prototype.percentWatched = function () { return this._implGet('percentWatched', 0) }, n.prototype.playbarControlEnabled = function () { return this._implSetOrGet.apply(this, ['playbarControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.play = function () { return this._commandQueueImplPromise('play') }, n.prototype.playbackRate = function () { return this._implSetOrGet.apply(this, ['playbackRate', 1].concat(r.call(arguments))) }, n.prototype.playbackRateControlEnabled = function () { return this._implSetOrGet.apply(this, ['playbackRateControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.playerColor = function () { return this._implSetOrGet.apply(this, ['playerColor', '636155'].concat(r.call(arguments))) }, n.prototype.playerBackgroundColor = function () { return this._implSetOrGet.apply(this, ['playerBackgroundColor', '000000'].concat(r.call(arguments))) }, n.prototype.playPauseControlEnabled = function () { return this._implSetOrGet.apply(this, ['playPauseControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.qualityControlEnabled = function () { return this._implSetOrGet.apply(this, ['qualityControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.requestFullscreen = function () { return this._commandQueueImplPromise('requestFullscreen') }, n.prototype.requestOverlay = function () { return this._implPromise.apply(this, ['requestOverlay'].concat(r.call(arguments))) }, n.prototype.ready = function () { return this._implSetOrGet.apply(this, ['ready', !1].concat(r.call(arguments))) }, n.prototype.releaseChromeless = function () { return this._implExec.apply(this, ['releaseChromeless'].concat(r.call(arguments))) }, n.prototype.releaseControls = function () { return this._implExec.apply(this, ['releaseControls'].concat(r.call(arguments))) }, n.prototype.requestChromeless = function () { return this._implExec.apply(this, ['requestChromeless'].concat(r.call(arguments))) }, n.prototype.requestControls = function () { return this._implExec.apply(this, ['requestControls'].concat(r.call(arguments))) }, n.prototype.secondsWatched = function () { return this._implGet('secondsWatched', 0) }, n.prototype.secondsWatchedVector = function () { return this._implGet('secondsWatchedVector', []) }, n.prototype.selectableQualities = function () { return this._implGet('selectableQualities', []) }, n.prototype.selectedQuality = function () { return this._implGet('selectedQuality', []) }, n.prototype.setFocusedChapter = function () { return this._implSetOrGet.apply(this, ['setFocusedChapter', null].concat(r.call(arguments))) }, n.prototype.settingsControlEnabled = function () { return this._implSetOrGet.apply(this, ['settingsControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.shouldResume = function () { return this._implGet('shouldResume') }, n.prototype.showControls = function () { return this._implExec.apply(this, ['showControls', null].concat(r.call(arguments))) }, n.prototype.state = function () { return this._implGet('state', 'beforeplay') }, n.prototype.stillUrl = function () { return this._implGet.apply(this, ['stillUrl', null].concat(r.call(arguments))) }, n.prototype.suppressPlay = function () { return this._implSetOrGet.apply(this, ['suppressPlay', this].concat(r.call(arguments))) }, n.prototype.thumbnailAssets = function () { return this._implGet('thumbnailAssets', []) }, n.prototype.time = function () { let t, e; return e = arguments[0], t = arguments.length >= 2 ? r.call(arguments, 1) : [], e != null ? this._commandQueueImplPromise.apply(this, ['time', N(e)].concat(r.call(t))) : this._implGet('time', 0) }, n.prototype.trim = function () { return this._implSetOrGet.apply(this, ['trim', { start: 0, end: -1 }].concat(r.call(arguments))) }, n.prototype.unmute = function () { return this._implExec('unmute') }, n.prototype.undefineOverlay = function () { return this._implPromise.apply(this, ['undefineOverlay'].concat(r.call(arguments))) }, n.prototype.videoHeight = function () { return this._implSetOrGet.apply(this, ['videoHeight', null].concat(r.call(arguments))) }, n.prototype.videoQuality = function (t) { return t != null ? this._commandQueueImplPromise.apply(this, ['setVideoQuality', t].concat(r.call(arguments))) : this._implGet('getVideoQuality') }, n.prototype.videoWidth = function () { return this._implSetOrGet.apply(this, ['videoWidth', null].concat(r.call(arguments))) }, n.prototype.visitorKey = function () { return t.visitorKey.value() || null }, n.prototype.volume = function () { return this._implSetOrGet.apply(this, ['volume', 0].concat(r.call(arguments))) }, n.prototype.volumeControlEnabled = function () { return this._implSetOrGet.apply(this, ['volumeControlEnabled', !1].concat(r.call(arguments))) }, n.prototype.whenVideoElementInDom = function () { return new Promise((t = this, function (e) { return t._hasImpl(function () { return e(t._implGet.apply(t, ['whenVideoElementInDom', null].concat(r.call(arguments)))) }) })); let t }, n.prototype.width = function () { return this._implSetOrGet.apply(this, ['width', null].concat(r.call(arguments))) }, n.prototype.widthForHeight = function () { return this._implGet.apply(this, ['widthForHeight', null].concat(r.call(arguments))) }, n.prototype.chaptersEnabled = function () { return this._implSetOrGet.apply(this, ['chaptersEnabled', null].concat(r.call(arguments))) }, n.prototype.chaptersVisibleOnLoad = function () { return this._implSetOrGet.apply(this, ['chaptersVisibleOnLoad', null].concat(r.call(arguments))) }, n.prototype.addChapter = function () { return this._implExec.apply(this, ['addChapter'].concat(r.call(arguments))) }, n.prototype.getChapter = function () { return this._implGet.apply(this, ['getChapter', null].concat(r.call(arguments))) }, n.prototype.removeChapter = function () { return this._implExec.apply(this, ['removeChapter'].concat(r.call(arguments))) }, n.prototype.chapters = function () { return this._implSetOrGet.apply(this, ['chapters', []].concat(r.call(arguments))) }, n.prototype.customerLogo = function () { return this._implExec.apply(this, ['customerLogo'].concat(r.call(arguments))) }, n.prototype.setControlEnabled = function (t, e) { return this._implSetOrGet('setControlEnabled', null, t, e) }, n.prototype.isControlDisabled = function (t) { return this._implGet('isControlDisabled', !1, t) }, n.prototype.isControlEnabled = function (t) { return this._implGet('isControlEnabled', !1, t) }, n.prototype.whenControlMounted = function (t) { return this._implPromise('whenControlMounted', t) }, n.prototype.getControl = function (t) { return this._implGet('getControl', null, t) }, n.prototype.getEmail = function () { return this.email() }, n.prototype.getEventKey = function () { return this.eventKey() }, n.prototype.getVisitorKey = function () { return this.visitorKey() }, n.prototype.setEmail = function (t) { return this.email(t) }, n.prototype.setPlayerColor = function () { return this._implExec.apply(this, ['playerColor'].concat(r.call(arguments))) }, n.prototype.removeReadyFn = function () { let t, e; return t = arguments.length >= 1 ? r.call(arguments, 0) : [], this._hasImpl((e = this, function () { let n; return (n = e._impl.ready).remove.apply(n, t) })) }, n.prototype.isKeyboardFocused = function (t) { return this._implSetOrGet('isKeyboardFocused', null, t) }, n.prototype.email = function (e) { let n, i; return e != null ? (this.info('email', e), n = this._attrs.email, this._attrs.email = e, t.localStorage([this._attrs.pageUrl, 'trackEmail'], e), ((i = this._opts) != null ? i.noDeprecatedProperties : void 0) || (this.params.trackEmail = e), e !== n && this.container.dispatchEvent(new CustomEvent('emailchange', { detail: { email: e } })), this) : this._attrs.email || null }, n.prototype.foreignData = function (t) { let e, n; if (void 0 === t) return this._attrs.foreignData || this._foreignData || null; if (t === null) return this._attrs.foreignData = null, this.trigger('foreigndatachange', t); if (this.info('foreignData', t), !J(t)) throw new Error('foreignData can only be an Object'); return t = p(t), this._attrs.foreignData = t, (e = this._impl) != null && (n = e.tracker) != null && n.transmit({ force: !0 }), this.trigger('foreigndatachange', t) }, n.classFor = function (e) { let n; return e instanceof t.Player ? e = e.embedType : e instanceof t.PublicApi && (e = (n = e._impl) != null ? n.embedType : void 0), (function () { switch (e) { case 'vulcan':return t.VulcanPlayer; case 'vulcan-v2':return t.VulcanV2Player; case 'html5':return t.Html5Player; case 'external':return t.ExternalPlayer; case 'notplayable':return t.NotPlayablePlayer; case 'passwordprotected':return t.PasswordProtectedPlayer; default:return t.Player } }()) || (t.Metrics.count('player/' + e + '-class-not-defined', 1, { ua: navigator.userAgent, detect: t.detect }), t.error('PublicApi.classFor: embedType is ' + e + " but its class is not defined. Using 'vulcan-v2' instead."), t.VulcanV2Player) }, n }()), t.mixin(t.PublicApi.prototype, t.bindable), ot = t.PublicApi.prototype.trigger, t.PublicApi.prototype._triggerNoImpl = function () { let t, e, n, i; return n = arguments[0], e = arguments.length >= 2 ? r.call(arguments, 1) : [], ot.call.apply(ot, [this, n].concat(r.call(e))), t = this.translationApi ? this.translationApi : this, (i = window.wistiaEmbeds) != null ? i.trigger.apply(i, [n, t].concat(r.call(e))) : void 0 }, t.PublicApi.prototype.trigger = function () { let t, e; return t = arguments.length >= 1 ? r.call(arguments, 0) : [], this._impl ? (e = this._impl).trigger.apply(e, t) : this._triggerNoImpl.apply(this, t) }, t.mixin(t.PublicApi.prototype, t.logHelpers), t.PublicApi.prototype._logPrefix = function () { let t; return [this.constructor.name, this.hashedId() || 'no hashedId', (t = this.container) != null ? t.id : void 0, this.uuid] } }(Wistia)) }, (t, e, n) => { n.d(e, { prefetchEngineAndPlugins: () => l }); const i = n(3); const r = n(83); const o = n(18); const a = n(94); const s = n(39); var l = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = (0, a.pluginScriptsToLoad)(t, e); const i = r.buildContext(); const o = r.bestUsableEngine(i, t, e); const l = u(n); const c = (0, s.dynamicImport)('assets/external/'.concat(o)); return Promise.all([l, c]) }; var u = function () { const t = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []).filter(function (t) { return i.Wistia.plugin._prefetched[t.src] || (i.Wistia.plugin._prefetched[t.src] = 'fetching'), !i.Wistia.plugin._prefetched[t.src] }); return t.length === 0 ? Promise.resolve() : (0, o.runScripts)(t).then(function () { t.forEach(function (t) { i.Wistia.plugin._prefetched[t.src] = 'fetched' }) }) } }, (t, e, n) => { n.r(e), n.d(e, { injectJsonLd: () => d, removeInjectedJsonLd: () => p }); const i = n(111); const r = n(112); const o = n(6); const a = n(23); const s = n(27); const l = n(24); const u = n(113); const c = function (t, e) { let n; const i = 'https://'.concat((0, a.cdnFastWistiaNetHost)(), '/embed/iframe/').concat(t.hashedId); return (0, r.shouldAddKeyMoments)(t, e) && !(0, r.shouldAddClipsFromChapters)(e) && (n = t.embedOptions.plugin) !== null && void 0 !== n && n.videoThumbnail ? ''.concat(i, '?wseektoaction=true') : i }; const h = function (t) { const e = t.assets; if (t.mediaType === 'Audio') return (0, s.readyPublicMp3s)(e)[0].url; const n = (0, s.findClosestAssetByQuality)((0, s.readyPublicMp4s)(e), 1080); const i = new l.Url(n.url); return i.ext('m3u8'), i.absolute() }; var d = function (t, e) { let n; const l = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; n = e.mediaType === 'Audio' ? (function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = e.videoWidth; const r = e.videoHeight; let l = e.embedOptions; return l || (l = (0, o.cast)((0, o.clone)(t.embedOptions))), { '@context': 'http://schema.org/', '@id': 'https://'.concat((0, a.cdnFastWistiaNetHost)(), '/embed/iframe/').concat(t.hashedId), '@type': 'AudioObject', duration: 'PT'.concat((0, i.secondsToIso8601Duration)(t.duration)), name: t.name, thumbnailUrl: (0, s.stillUrl)(t.assets, { ext: 'jpg', protocol: 'https:', videoWidth: n, videoHeight: r, embedHost: l.embedHost }), contentUrl: h(t), embedUrl: c(t, l), uploadDate: new Date(1e3 * t.createdAt).toISOString(), description: t.seoDescription } }(e, l)) : (function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = e.videoWidth; const l = e.videoHeight; let d = e.embedOptions; d || (d = (0, o.cast)((0, o.clone)(t.embedOptions))); const p = { '@context': 'http://schema.org/', '@id': 'https://'.concat((0, a.cdnFastWistiaNetHost)(), '/embed/iframe/').concat(t.hashedId), '@type': 'VideoObject', duration: 'PT'.concat((0, i.secondsToIso8601Duration)(t.duration)), name: t.name, thumbnailUrl: (0, s.stillUrl)(t.assets, { ext: 'jpg', protocol: 'https:', videoWidth: n, videoHeight: l, embedHost: d.embedHost }), embedUrl: c(t, d), uploadDate: new Date(1e3 * t.createdAt).toISOString(), description: t.seoDescription }; if (t.mediaType === 'Video' && (p.contentUrl = h(t)), t.captions && t.captions[0] && (p.transcript = t.captions[0].text), (0, r.shouldAddKeyMoments)(t, d)) if ((0, r.shouldAddClipsFromChapters)(d)) { const f = (0, u.normalizeChapters)(d).chapterList; p.hasPart = (0, r.clipsFromChapters)(f, location.href, t.duration) } else p.potentialAction = (0, r.seekToAction)(); return p }(e, l)); const d = JSON.stringify(n); const f = document.createElement('script'); f.className = 'w-json-ld', f.type = 'application/ld+json', f.innerHTML = d, f._wistia = !0, f.setAttribute('id', t), p(t); const y = document.querySelectorAll('script.w-json-ld'); const v = y[y.length - 1]; v ? v.parentNode.insertBefore(f, v.nextSibling) : document.head.insertBefore(f, document.head.childNodes[0]) }; var p = function (t) { if (t) { const e = document.getElementById(t); e && e.remove() } } }, (t, e, n) => { n.d(e, { secondsToIso8601Duration: () => r }); const i = n(65); var r = function (t) { const e = (0, i.secondsConverter)(t, 'hms'); const n = e.hours; const r = e.minutes; const o = e.seconds; let a = ''; return n && (a += ''.concat(n, 'H')), (r || t > 60 && o !== 0) && (a += ''.concat(r, 'M')), (o || t === 0) && (a += ''.concat(o, 'S')), a } }, (t, e, n) => { n.d(e, { clipsFromChapters: () => u, seekToAction: () => c, shouldAddClipsFromChapters: () => s, shouldAddKeyMoments: () => l }); const i = n(24); const r = n(113); function o (t) { return (function (t) { if (Array.isArray(t)) return a(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return a(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function a (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } var s = function (t) { const e = (0, r.normalizeChapters)(t); if (!e) return !1; const n = e.chapterList; return !1 !== e.on && e.on !== 'false' && (n == null ? void 0 : n.length) > 0 }; var l = function (t, e) { if (!1 === e.keyMoments) return !1; const n = t.duration; const i = t.type; const r = e.plugin || {}; const o = r.passwordProtectedVideo; const a = r['requireEmail-v1']; const s = i === 'LiveStream'; const l = !0 === (o == null ? void 0 : o.on) || (o == null ? void 0 : o.on) === 'true'; const u = a && !1 !== a.on && a.time !== 'end' && !a.persistentTurnstile; return Boolean(!l && !u && !s && n >= 30) }; var u = function (t, e, n) { if (t && t.length !== 0) { const r = (function (t) { const e = {}; return o(t).sort(function (t, e) { return t.time - e.time }).filter(function (t) { const n = t.time; const i = t.title; const r = t.deleted; return !e[n] && !r && i !== 'Chapter Title' && (e[n] = !0, !0) }) }(t)).map(function (t, r, o) { const a = t.time; const s = t.title; const l = new i.Url(e); const u = Math.floor(a); const c = o[r + 1] ? o[r + 1].time : n; return l.params.wtime = ''.concat(u, 's'), { '@type': 'Clip', endOffset: Math.floor(c), name: s, startOffset: u, url: l.absolute() } }); return r } }; var c = function () { const t = new i.Url(location.href); return t.params.wtime = '{seek_to_second_number}', { '@type': 'SeekToAction', target: ''.concat(t.absolute().replace('%7Bseek_to_second_number%7D', '{seek_to_second_number}')), 'startOffset-input': 'required name=seek_to_second_number' } } }, (t, e, n) => { n.d(e, { normalizeChapters: () => i }); var i = function (t) { const e = t.plugin; const n = t.chaptersOn; const i = t.chapterList; return e != null && e.chapters ? e.chapters : i || n ? { on: n, chapterList: i && i.length > 0 ? i : [] } : void 0 } }, (t, e, n) => { n.d(e, { getViewerPreferences: () => o, setViewerPreference: () => a }); const i = n(31); const r = function () { return 'wistia-viewer-preferences' }; var o = function () { return (0, i.getLocalStorage)(r()) }; var a = function (t, e) { (0, i.updateLocalStorage)(r(), function (n) { n[t] = e }) } }, (t, e, n) => { n.d(e, { getChannelStorage: () => l }); const i = n(30); const r = n(31); const o = function (t) { const e = a(t); const n = (0, i.getWistiaLocalStorage)()[e] || {}; const o = s(t); !0 !== n.copied && Object.keys(n).length !== 0 && ((0, r.updateLocalStorage)(o, function (t) { Object.keys(n).forEach(function (e) { t[e] = n[e] }) }), (0, i.updateWistiaLocalStorage)(function (e) { e[a(t)].copied = !0 })) }; var a = function (t) { return 'channel_'.concat(t) }; var s = function (t) { return 'wistia_channel_'.concat(t) }; var l = function (t) { return o(t), (0, r.getLocalStorage)([s(t)]) || {} } }, (t, e, n) => { n.d(e, { maybeLoadAndSetupEmbedLinksThrottled: () => c }); const i = n(3); const r = n(8); const o = n(61); const a = n(39); const s = n(46); const l = n(89); i.Wistia._destructors.destroyEmbedLinks = function () { i.Wistia.EmbedLink.EmbedLinkClass && i.Wistia.EmbedLink.EmbedLinkClass._onEv1Destroy() }; const u = function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; (function () { for (let t = (0, l.getAllApiHandlesByDomOrder)(), e = 0; e < t.length; e++) if (t[e]._attrs && t[e]._attrs.playlistLinks) return !0; return document.querySelectorAll('a[href^="#wistia_"]').length > 0 })() && (0, a.dynamicImport)('assets/external/embedLinks.js').then(function (t) { let n; (n = t.EmbedLink).setupAll.apply(n, e) }) }; var c = (0, s.throttle)(1e3, function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; u.apply(void 0, e), (0, r.onDocReady)(function () { u.apply(void 0, e), (0, o.doTimeout)('maybe_load_embed_links_5000', u, 5e3) }) }); i.Wistia.EmbedLink = {}, i.Wistia.EmbedLink.setupAll = u }, (t, e, n) => { n.d(e, { inferQualityRangeFromOpts: () => a }); n(27); const i = n(28); const r = 2160; const o = function (t) { return t === '4k' ? 2160 : parseInt(t, 10) }; var a = function (t, e) { return t.videoQuality && t.videoQuality !== 'auto' ? ((0, i.countMetric)('legacy/videoquality-embed-option', 1, { videoQuality: t.videoQuality, hashedId: e == null ? void 0 : e.hashedId, url: window.location.href }), t.videoQuality === 'sd-only' ? [200, 360] : t.videoQuality === 'md' ? [540, r] : t.videoQuality === 'hd-only' ? [720, r] : [360, r]) : [t.qualityMin ? o(t.qualityMin) : 360, t.qualityMax ? o(t.qualityMax) : r] } }, (t, e, n) => { n.d(e, { generateHtml: () => a, generateRelativeBlockCss: () => s }); const i = n(6); function r (t, e) { let n = typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (!n) { if (Array.isArray(t) || (n = (function (t, e) { if (!t) return; if (typeof t === 'string') return o(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return o(t, e) }(t))) || e && t && typeof t.length === 'number') { n && (t = n); let i = 0; const r = function () {}; return { s: r, n: function () { return i >= t.length ? { done: !0 } : { done: !1, value: t[i++] } }, e: function (t) { throw t }, f: r } } throw new TypeError('Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') } let a; let s = !0; let l = !1; return { s: function () { n = n.call(t) }, n: function () { const t = n.next(); return s = t.done, t }, e: function (t) { l = !0, a = t }, f: function () { try { s || n.return == null || n.return() } finally { if (l) throw a } } } } function o (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } var a = function t (e) { if (/string|number|boolean/.test(typeof e)) return e.toString(); if (e instanceof Array) { let n; let o = ''; const a = r(e); try { for (a.s(); !(n = a.n()).done;) { o += t(n.value) } } catch (t) { a.e(t) } finally { a.f() } return o } if (typeof e !== 'object') return e.toString(); let s; let l; const u = []; for (const c in e) { const h = e[c]; c === 'tagName' ? s = h : c === 'childNodes' ? l = h : u.push({ key: c, val: h }) }s || (s = 'div'); for (var d, p = '<'.concat(s), f = 0, y = u; f < y.length; f++)d = void 0, (d = y[f]).key === 'style' && (0, i.isObject)(d.val) && (d.val = ''.concat((function () { const t = []; for (const e in d.val) { const n = d.val[e]; t.push(''.concat(e.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase(), ':').concat(n)) } return t }()).join(';'), ';')), p += ' '.concat(d.key, '="').concat(d.val, '"'); return /^(br|hr|img|link|meta|input)$/i.test(s) ? p += ' />' : (p += '>', l && (typeof l === 'string' ? p += l : typeof l === 'object' && (p += t(l))), p += '</'.concat(s, '>')), p }; var s = 'display:inline-block;height:100%;line-height:normal;margin:0;padding:0;position:relative;vertical-align:top;width:100%;' }, (t, e, n) => { n.d(e, { sanePlayerColor: () => i }); var i = function (t) { if (t) { if ((t = ''.concat(t).replace(/^#/g, '')).length < 6) { for (var e = '', n = 0; n < 6 - t.length; n++)e += '0'; t = ''.concat(e).concat(t) } return /^[\da-f]{6}$/i.test(t) || (t = '636155'), t } return '636155' } }, (t, e, n) => { n.d(e, { scrollLeft: () => i, scrollTop: () => r }); var i = function (t) { let e, n, i, r; if (!t) return ((e = document) === null || void 0 === e || (n = e.documentElement) === null || void 0 === n ? void 0 : n.scrollLeft) || ((i = document) === null || void 0 === i || (r = i.body) === null || void 0 === r ? void 0 : r.scrollLeft) || 0; document.body && (document.body.scrollLeft = t), document.documentElement && (document.documentElement.scrollLeft = t) }; var r = function (t) { let e, n, i, r; if (!t) return ((e = document) === null || void 0 === e || (n = e.documentElement) === null || void 0 === n ? void 0 : n.scrollTop) || ((i = document) === null || void 0 === i || (r = i.body) === null || void 0 === r ? void 0 : r.scrollTop) || 0; document.body && (document.body.scrollTop = t), document.documentElement && (document.documentElement.scrollTop = t) } }, (t, e, n) => { n.d(e, { uniqId: () => i }); var i = function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ''; const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ''; let n = (new Date()).getTime(); return window.performance && typeof window.performance.now === 'function' && (n += window.performance.now()), t + 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx-xxxxxxxxx-xxxxxxxxxxxx-xxxx'.replace(/[xy]/g, function (t) { const e = (n + 16 * Math.random()) % 16 | 0; return n = Math.floor(n / 16), (t === 'x' ? e : 3 & e | 8).toString(16) }) + e } }, (t, e, n) => { n.r(e), n.d(e, { insertIntoArray: () => r, toArray: () => o }); const i = function (t, e) { for (let n = 0, i = t.length, r = i >= 0; r ? n <= i : n >= i; r ? n += 1 : n -= 1) if (typeof e === 'function') { if (e(t[n])) return n } else if (t[n] === e && t[n] === e) return n; return -1 }; var r = function (t, e, n) { let r; return n == null && (n = {}), n.after ? (r = i(t, n.detect || n.after)) >= 0 ? t.splice(r + 1, 0, e) : typeof console !== 'undefined' && console !== null ? console.log(''.concat(n.after, ' not found when trying to add ').concat(e, ' to array')) : void 0 : n.before ? (r = i(t, n.detect || n.before)) >= 0 ? t.splice(r, 0, e) : typeof console !== 'undefined' && console !== null ? console.log(''.concat(n.before, ' not found when trying to add ').concat(e, ' to array')) : void 0 : n.index != null ? t.splice(n.index, 0, e) : t.push(e) }; var o = function (t, e) { if (e == null && (e = /\s+/), t instanceof Array) return t; if (typeof t === 'string') return t.split(e); throw new Error("Don't know how to convert ".concat(t, ' into an array.')) } }, (t, e, n) => { const i = n(83); const r = n(27); const o = n(71); const a = n(93); const s = n(23); const l = n(49); const u = n(119); const c = n(61); const h = n(6); const d = n(124); const p = n(28); const f = n(5); const y = n(20); const v = n(118); const m = n(38); const g = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; function b (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } const _ = 0.5; !(function (t) { if (!t.Player) { const e = (function () { function e (t) { const n = this; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, e)), this.publicApi = t, this.embedElement = t.container, this.uuid = (0, y.seqId)(), this._baseEventLoopDuration = 300, this._eventLoopDuration = 300, this.info('constructor'), this.transferFacadeProperties(), this._impl = this, (0, h.keys)(t).forEach(function (e) { const i = t[e]; i instanceof a.StopGo && !g(n, e) && (n[e] = i) }), this.plugin = this.publicApi.plugin, this.ready = new a.StopGo(), this.hasData = new a.StopGo(), this.embedded = new a.StopGo(), this.commandQueueOpen = new a.StopGo(), this.hasData(!0), this.commandQueueOpen(!0), this.playing = new a.StopGo(), this.notFullscreen = new a.StopGo(), this.resetStateVariables(), this.publicApi.isLiveMedia() || this.setupPercentTracking(), this._recordFirstEmbedIfEligible() } let n, w, P; return n = e, w = [{ key: 'addLoopBehavior', value: function () { const t = this; this.whenVideoElementInDom().then(function () { let e; (e = t.engine) === null || void 0 === e || e.getMediaElement().setAttribute('loop', '') }) } }, { key: 'animate', value: function () { const t = this; const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; this.info('animate', e, n); const i = n.callback; return n.callback = function () { (0, f.elemStyle)(t.grid.root, { position: 'relative' }), i == null || i() }, (0, f.elemStyle)(this.grid.root, { position: 'absolute' }), (0, f.elemAnimate)(this.grid.root, e, n), this } }, { key: 'aspect', value: function () { if (this._attrs.aspect) return this._attrs.aspect; if (this.publicApi.isAudio()) return this.publicApi.width() / this.publicApi.height(); if (this._currentAsset) return this._currentAsset.width == 'variable' ? this.mp4Aspect() || this.originalAspect() : this._currentAsset.width / this._currentAsset.height; const t = this.asset({ container: /mp4/ }); return t ? t.width / t.height : 640 / 360 } }, { key: 'asset', value: function (t) { if (typeof arguments[0] === 'string') { const e = ''.concat(arguments[0], 'Asset'); const n = arguments[1]; return this[e](n) } const i = arguments[0]; return this.assets(i)[0] || null } }, { key: 'assets', value: function (t) { return r.filter(this._mediaData.assets, t) } }, { key: 'bigPlayButtonEnabled', value: function (t) { return this.publicApi._attrs.bigPlayButton = t, this } }, { key: 'canAutoPlay', value: function () { return !0 } }, { key: 'cancelFullscreen', value: function () { this.info('cancelFullscreen'), this.rebuild() } }, { key: 'checkForReady', value: function () { throw new Error('Define in subclass!') } }, { key: 'cleanupRefs', value: function () { let t; const e = this; (t = this.cleanup) === null || void 0 === t || t.call(this), (0, h.keys)(this).forEach(function (t) { let n; const i = e[t]; i != null && i !== e && ((n = i.cleanup) === null || void 0 === n || n.call(i)) }) } }, { key: 'constrainToHeight', value: function () { return this.videoWidth(this.widthForHeight(this.videoHeight())) } }, { key: 'constrainToWidth', value: function () { return this.videoHeight(this.heightForWidth(this.videoWidth())) } }, { key: 'disableTextTracks', value: function () { const t = this; this.info('disableTextTracks'), this._disableTextTracks || (this._disableTextTracks = function () { let e; (e = t.elem()) !== null && void 0 !== e && e.textTracks && Array.prototype.slice.call(t.elem().textTracks).forEach(function (t) { t.mode = 'disabled' }) }), this.rebind('play', this._disableTextTracks) } }, { key: 'duration', value: function () { return this._mediaData.duration || null } }, { key: 'elem', value: function () { return null } }, { key: 'embed', value: function () { throw new Error('Define in subclass!') } }, { key: 'embedOptions', value: function () { return this._embedOptions || (this._embedOptions = (0, h.clone)(this._opts)), this._embedOptions } }, { key: 'eventKey', value: function () { let t; return (t = this._tracker) === null || void 0 === t ? void 0 : t.eventKey() } }, { key: 'extraHeight', value: function () { return Math.max((0, f.elemHeight)(this.grid.above), (0, f.elemHeight)(this.grid.top)) + Math.max((0, f.elemHeight)(this.grid.below), (0, f.elemHeight)(this.grid.bottom)) } }, { key: 'extraWidth', value: function () { return (0, f.elemWidth)(this.grid.left) + (0, f.elemWidth)(this.grid.right) } }, { key: 'fade', value: function () { for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = arguments.length, n = new Array(e > 1 ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; return f.elemAnimate.apply(void 0, [this.gridChildren(), { opacity: t }].concat(n)) } }, { key: 'fadeIn', value: function () { const t = this; const e = this._shortAnimArgs(arguments); const n = e.callback; e.callback = function () { (0, f.elemStyle)(t.gridChildren(), { opacity: '' }), n == null || n() }, (0, f.elemStyle)(this.gridChildren(), { opacity: 0 }), setTimeout(function () { return t.fade(1, e) }, 1) } }, { key: 'fadeOut', value: function () { const t = this; const e = this._shortAnimArgs(arguments); (0, f.elemStyle)(this.gridChildren(), { opacity: 1 }), setTimeout(function () { return t.fade(0, e) }, 1) } }, { key: 'fit', value: function () { return this.info('fit'), this._opts.dontFit || (this.grid.root.style.height = ''.concat((0, f.elemHeight)(this.chrome), 'px'), this.grid.root.style.width = ''.concat((0, f.elemWidth)(this.chrome), 'px')), t.grid.fitVertical(this), t.grid.fitHorizontal(this) } }, { key: 'focus', value: function () { let t; (t = this.chrome) === null || void 0 === t || t.focus() } }, { key: 'freezeLastFrame', value: function () {} }, { key: 'fullscreenControlEnabled', value: function (t) { return this.publicApi._attrs.fullscreenControl = t, this } }, { key: 'getVisitorKey', value: function () { return this.visitorKey() } }, { key: 'getEventKey', value: function () { return this.eventKey() } }, { key: 'getMediaElement', value: function () {} }, { key: 'getMediaType', value: function () { return this._mediaData.mediaType || null } }, { key: 'getReadyState', value: function () { let t, e; return (t = this.engine) === null || void 0 === t || (e = t.getMediaElement()) === null || void 0 === e ? void 0 : e.readyState } }, { key: 'getStandardBuffered', value: function () { let t, e; return (t = this.engine) === null || void 0 === t || (e = t.getMediaElement()) === null || void 0 === e ? void 0 : e.buffered } }, { key: 'gridChildren', value: function () { const e = this; let n = this.grid; window.NodeList && !NodeList.prototype.forEach && (n = Array.prototype.slice.call(this.grid)); const i = []; return (0, h.keys)(n).forEach(function (n) { e.grid[n].childNodes.forEach(function (n) { t.isGridElem(e.grid, n) || i.push(n) }) }), i } }, { key: 'handleError', value: function (e) { throw t.Metrics.videoCount(this, 'player/playback-error'), e } }, { key: 'hashedId', value: function () { return this._hashedId } }, { key: 'hdAsset', value: function () { throw new Error('Implement in subclass!') } }, { key: 'hlsAsset', value: function (t) { return r.m3u8(this._mediaData.assets, t) } }, { key: 'hlsAssetInRange', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return r.m3u8(this._mediaData.assets, (0, h.merge)(this.qualityOptions(), t)) } }, { key: 'height', value: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (e != null) { this.info('height', e, n), e = parseFloat(e); const i = this.height(); return this.grid.wrapper.style.height = this.chrome.style.height = ''.concat(e, 'px'), n.dontChangeContainer || (this._embedContainer.style.height = ''.concat(e, 'px')), this.grid.center.style.height = '100%', this._opts.dontFit ? (this.grid.main.style.height = ''.concat(e - (0, f.elemHeight)(this.grid.above) - (0, f.elemHeight)(this.grid.below), 'px'), this.grid.main.style.marginTop = ''.concat((0, f.elemHeight)(this.grid.top), 'px')) : (t.grid.fitHorizontal(this), t.grid.fitVertical(this)), (Math.abs(e - i) > _ || n.trigger) && (this.trigger('heightchange', e, i), this.embedElement.dispatchEvent(new CustomEvent('heightchange', { detail: { height: e, prevHeight: i } }))), n.constrain && this.constrainToHeight(), this } return (0, f.elemHeight)(this.grid.center) + Math.max((0, f.elemHeight)(this.grid.above), (0, f.elemHeight)(this.grid.top)) + Math.max((0, f.elemHeight)(this.grid.below), (0, f.elemHeight)(this.grid.bottom)) } }, { key: 'heightForWidth', value: function (t) { return t / this.aspect() } }, { key: 'implContainer', value: function () { return this._opts.subContainer ? this._embedContainer : this.grid.center } }, { key: 'inFullscreen', value: function () { return !1 } }, { key: 'init', value: function () { return this.setupPipedreamTracking(), this } }, { key: 'inSilentPlaybackMode', value: function () { return !1 } }, { key: 'iphoneAsset', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return this._iphoneAsset || (this._iphoneAsset = r.iphone(this._mediaData.assets, t)), this._iphoneAsset } }, { key: 'iphoneAssetInRange', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return r.iphone(this._mediaData.assets, (0, h.merge)(this.qualityOptions(), t)) } }, { key: 'isMuted', value: function () { return Boolean(this._opts.muted) } }, { key: 'isRemoved', value: function () { return this.grid === null } }, { key: 'lastPlayInfo', value: function () { return {} } }, { key: 'mp4Aspect', value: function () { const t = this.mp4Asset({ width: 640 }) || this.mp4Asset({ width: 960 }) || this.mp4Asset(); return t ? t.width / t.height : null } }, { key: 'mdAsset', value: function () { throw new Error('Implement in subclass!') } }, { key: 'mp4Asset', value: function (t) { return r.mp4(this._mediaData.assets, t) } }, { key: 'mp4AssetInRange', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return r.mp4(this._mediaData.assets, (0, h.merge)(this.qualityOptions(), t)) } }, { key: 'mute', value: function () { this._muted = !0, this.trigger('volumechange', this.volume()), this.embedElement.dispatchEvent(new CustomEvent('volumechange', { detail: { volume: this.volume(), muted: !0 } })) } }, { key: 'originalAspect', value: function () { const t = this.originalAsset(); if (t) return t.width / t.height; const e = this.bestAsset(); return e().width / e().height } }, { key: 'originalAsset', value: function () { return this._original || (this._original = r.original(this._mediaData.assets)), this._original } }, { key: 'name', value: function (t) { return t != null && (this._name = t, this.trigger('namechange', t)), this._name != null ? this._name : this._mediaData.name || '' } }, { key: 'pageUrl', value: function () { return this.publicApi._attrs.pageUrl } }, { key: 'pause', value: function () { const t = this; return this.info('pause'), this.ready(function () { return t.pause() }), this } }, { key: 'percentWatched', value: function () { return this._secondsWatchedTracker ? this._secondsWatchedTracker.secondsWatched() / Math.ceil(this.duration()) : 0 } }, { key: 'placeEmbed', value: function (t) { const e = this.implContainer(); this.info('placeEmbed', e, t), this.wrapperElem = (0, f.elemFromObject)({ id: (0, y.seqId)('wistia_video_wrapper_'), style: v.generateRelativeBlockCss, class: 'wistia_video_wrapper' }), (0, f.elemStyle)(this.wrapperElem, { overflow: 'hidden' }), (0, f.elemAppend)(e, this.wrapperElem), typeof t === 'string' ? this.wrapperElem.innerHTML += t : (0, f.elemAppend)(this.wrapperElem, t) } }, { key: 'play', value: function () { const t = this; return this.info('play'), this.ready(function () { return t.play() }), this } }, { key: 'playableAsset', value: function (t) { return r.playable(this._mediaData.assets, t) } }, { key: 'playableAssetInRange', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return r.playable(this._mediaData.assets, (0, h.merge)(this.qualityOptions(), t)) } }, { key: 'playbackRate', value: function (t) { return t != null ? this : 1 } }, { key: 'playbarControlEnabled', value: function (t) { return this.publicApi._attrs.playBarControl = t, this } }, { key: 'playerColor', value: function (t) { const e = this._attrs; const n = this.embedElement; if (t != null) { this.info('playerColor', t); const i = e.playerColor; return t = (0, u.sanePlayerColor)(t), e.playerColor = new o.Color(t).toHex(), i !== e.playerColor && n.dispatchEvent(new CustomEvent('playercolorchange', { detail: { color: e.playerColor, prevColor: i } })), this } return e.playerColor } }, { key: 'playerLanguage', value: function (t) { const e = this; if (t == null) return (0, m.getLanguage)(this._attrs.playerLanguage) || (0, m.getLanguage)('en-US'); this.embedded(function () { if (!(0, m.getLanguage)(t)) throw new Error('Language '.concat(t, " isn't defined.")); t !== e._attrs.playerLanguage && (e._attrs.playerLanguage = t, e.trigger('playerlanguagechange', (0, m.getLanguage)(t))) }) } }, { key: 'playPauseNotifierEnabled', value: function (t) { return this.publicApi._attrs.playPauseNotifier = t, this } }, { key: 'preloadValue', value: function () { let t; return (t = this.engine) === null || void 0 === t ? void 0 : t.getPreload() } }, { key: 'qualityMax', value: function (t) { let e; (e = this.engine) !== null && void 0 !== e && e.qualityMax && this.engine.qualityMax(t) } }, { key: 'qualityMin', value: function (t) { let e; (e = this.engine) !== null && void 0 !== e && e.qualityMin && this.engine.qualityMin(t) } }, { key: 'qualityOptions', value: function () { const t = this._attrs; return { qualityMin: t.qualityMin, qualityMax: t.qualityMax } } }, { key: 'rebuild', value: function () { const t = this; return this.info('rebuild'), this.embedded(function () { t.ready(!1), t._oldVideoElem = t.elem(), t.stopStreaming(), (0, f.elemRemove)(t.wrapperElem), t.wipeOutstandingAsyncFunctions(), t.embed() }), this } }, { key: 'remove', value: function () { let t; let e; const n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; this.info('remove'), !1 !== n.trigger && this.trigger('beforeremove'), this.hasData(!1), this.ready(!1), this.embedded(!1), (t = this.engine) === null || void 0 === t || t.destroy(), this.stopStreaming(), !1 !== n.trigger && (this.trigger('down'), this.trigger('afterremove')), this.wipeOutstandingAsyncFunctions(), this._bindings = {}, this.cleanupRefs(), (e = this.grid) !== null && void 0 !== e && e.root && ((0, f.elemUnbindAllInside)(this.grid.root), (0, f.elemRemove)(this.grid.root)), this.grid = null, this.elem() && this.elem().removeEventListener('error', this.handleError) } }, { key: 'removeLoopBehavior', value: function () { const t = this; this.whenVideoElementInDom().then(function () { let e; (e = t.engine) === null || void 0 === e || e.getMediaElement().removeAttribute('loop') }) } }, { key: 'renderUI', value: function () {} }, { key: 'requestFullscreen', value: function () {} }, { key: 'resetStateVariables', value: function () { this.info('resetStateVariables'), this._lastTimePosition = -1, this._lastState = 'beforeplay', this._streamSet = !1, this._issuedPlay = !1, this._issuedPause = !1, this._beforePlay = !0, this._hasPlayed = !1, this._waiting = 0, this._ended = !1, this.playing(!1) } }, { key: 'sdAsset', value: function () { throw new Error('Implement in subclass!') } }, { key: 'secondsWatched', value: function () { return this._secondsWatchedTracker ? this._secondsWatchedTracker.secondsWatched() : 0 } }, { key: 'secondsWatchedVector', value: function () { return this._secondsWatchedTracker ? this._secondsWatchedTracker.secondsWatchedVector() : [] } }, { key: 'setBigPlayButtonBorderRadius', value: function (t) { this._attrs.bigPlayButtonBorderRadius = t, this.embedElement.dispatchEvent(new Event('bigplaybuttonborderradiuschange')), this.trigger('bigplaybuttonborderradiuschange') } }, { key: 'setControlBarBorderRadius', value: function (t) { this._attrs.controlBarBorderRadius = t, this._attrs.playerBorderRadius && t !== 0 ? this.setControlBarDistance(this._attrs.playerBorderRadius / 4) : this.setControlBarDistance(0.333 * t), this.embedElement.dispatchEvent(new Event('controlbarborderradiuschange')), this.trigger('controlbarborderradiuschange') } }, { key: 'setControlBarDistance', value: function (t) { this._attrs.controlBarDistance = t, this.embedElement.dispatchEvent(new Event('controlbardistancechange')), this.trigger('controlbardistancechange') } }, { key: 'setFloatingControlBar', value: function (t) { this._attrs.floatingControlBar = t } }, { key: 'setPlayerBorderRadius', value: function (t) { this._attrs.playerBorderRadius = t, this.embedElement.dispatchEvent(new Event('playerborderradiuschange')), this.trigger('playerborderradiuschange') } }, { key: 'setPlayerColor', value: function (t) { return this.playerColor(t), this } }, { key: 'setRoundedPlayer', value: function (t) { this.setFloatingControlBar(Boolean(t)), this.setPlayerBorderRadius(t), this.setControlBarDistance(0.25 * t), this.setBigPlayButtonBorderRadius(0.75 * t), this.setControlBarBorderRadius(0.75 * t), this.renderUI() } }, { key: 'setResumable', value: function (t) { this._attrs.resumable = t, this.embedElement.dispatchEvent(new Event('resumablechange')) } }, { key: 'setupGrid', value: function (e) { return this.grid || (this.grid = t.createGrid(this, e), (0, f.elemAppend)(this.chrome, this.grid.root)), this.grid } }, { key: 'setupPercentTracking', value: function () { const t = this; if (!this._trackPercent) { if (this._secondsWatchedTracker = new d.SecondsWatchedTracker(this, this.duration(), { maxWatchingPlaybackRate: this._opts.maxWatchingPlaybackRate }), this.state() === 'playing') for (let e = Math.ceil(this.time()), n = 0; n < e; n++) this._secondsWatchedTracker.trackSecond(n, { force: !0 }); this._trackPercent = function (e) { const n = t.percentWatched(); t._secondsWatchedTracker.trackSecond(e), t.percentWatched() !== n && (t.embedElement.dispatchEvent(new CustomEvent('percentwatchedchange', { detail: { percentWatched: t.percentWatched(), lastPercentWatched: n } })), t.trigger('percentwatchedchanged', t.percentWatched(), n), t._percentWatchedThreshold(t.percentWatched())) }, this.rebind('secondchange', this._trackPercent) } } }, { key: 'setupPipedreamTracking', value: function () { const e = this; this.whenVideoElementInDom().then(function (n) { (0, c.doTimeout)(''.concat(e.uuid, '.track-initembed'), function () { t.Metrics.videoCount(e, 'player/initembed'), t.Metrics.assetBuckets(e).forEach(function (n) { t.Metrics.videoCount(e, 'player/initembed.'.concat(n)) }); const n = (0, i.usablePlayers)(e.publicApi.judyCtx(), e.publicApi._mediaData); t.Metrics.videoCount(e, 'player/available-players', 1, { available_players: n }) }, 100), n.addEventListener('error', e.handleError) }), this.bind('play', function () { return t.Metrics.videoCount(e, 'player/play'), t.Metrics.assetBuckets(e).forEach(function (n) { t.Metrics.videoCount(e, 'player/play.'.concat(n)) }), e.unbind }), t.Metrics.countEventOnce(this, 'enter-fullscreen'), t.Metrics.countEventOnce(this, 'end'), t.Metrics.countShowLoadingOnce(this), t.Metrics.countShowLoadingAll(this), t.Metrics.countShowLoadingLongTimeOnce(this), t.Metrics.countShowLoadingLongTimeAll(this), this.bind('secondchange', function () { if (e.secondsWatched() >= 10) return t.Metrics.videoCount(e, 'player/played-10-seconds'), e.unbind }), this.bind('secondchange', function () { if (e.secondsWatched() >= 30) return t.Metrics.videoCount(e, 'player/played-30-seconds'), e.unbind }) } }, { key: 'settingsControlEnabled', value: function (t) { return this.publicApi._attrs.settingsControl = t, this } }, { key: 'slide', value: function (t, e) { for (var n = arguments.length, i = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)i[r - 2] = arguments[r]; return this.animate.apply(this, [{ transform: 'translate('.concat(t, 'px,').concat(e, 'px)') }].concat(i)) } }, { key: 'slideInLeft', value: function () { const t = this; const e = this._shortAnimArgs(arguments); return (0, f.elemStyle)(this.grid.root, { transform: 'translate('.concat(this.videoWidth(), 'px, 0px)') }), setTimeout(function () { return t.slide(0, 0, e) }, 1), this } }, { key: 'slideInRight', value: function () { const t = this; const e = this._shortAnimArgs(arguments); return (0, f.elemStyle)(this.grid.root, { transform: 'translate('.concat(-this.videoWidth(), 'px, 0px)') }), setTimeout(function () { return t.slide(0, 0, e) }, 1), this } }, { key: 'slideOutLeft', value: function () { const t = this; const e = this._shortAnimArgs(arguments); return (0, f.elemStyle)(this.grid.root, { transform: 'translate(0px, 0px)' }), setTimeout(function () { return t.slide(-t.videoWidth(), 0, e) }, 1), this } }, { key: 'slideOutRight', value: function () { const t = this; const e = this._shortAnimArgs(arguments); return (0, f.elemStyle)(this.grid.root, { transform: 'translate(0px, 0px)' }), setTimeout(function () { return t.slide(t.videoWidth(), 0, e) }, 1), this } }, { key: 'playPauseControlEnabled', value: function (t) { return this.publicApi._attrs.playPauseControl = t, this } }, { key: 'suppressPlay', value: function (t) { return t != null ? (this.info('suppressPlay', t), this._suppressPlay = Boolean(t), this._suppressPlay) : this._suppressPlay } }, { key: 'state', value: function () { return 'beforeplay' } }, { key: 'stillAsset', value: function () { return r.still(this._mediaData.assets) } }, { key: 'stillUrl', value: function (t) { let e, n; return (t = (0, h.merge)({ videoWidth: this.videoWidth(), videoHeight: this.videoHeight() }, this._opts, { stillUrl: this._attrs.poster }, t)).playerColor || (t.playerColor = (e = this._mediaData) === null || void 0 === e || (n = e.embedOptions) === null || void 0 === n ? void 0 : n.playerColor), r.stillUrl(this._mediaData.assets, t) } }, { key: 'stopStreaming', value: function () {} }, { key: 'thumbnailAssets', value: function () { return r.thumbnailAssets(this._mediaData.assets, (0, h.merge)({}, this._opts, { stillUrl: this._attrs.poster }, { playButton: !1, videoHeight: this.videoHeight(), videoWidth: this.videoWidth() })) } }, { key: 'time', value: function (t) { const e = this; return t != null ? (this.info('time', t), this.ready(function () { return e.time(t) }), this) : 0 } }, { key: 'transferFacadeProperties', value: function () { const t = this; '\n      _attrs\n      _embedContainer\n      _givenOptions\n      _hashedId\n      _hasImpl\n      _mediaData\n      _opts\n      _originalMediaData\n      _tracker\n      chrome\n      container\n      controls\n      data\n      down\n      fullscreenContainer\n      options\n      params\n      plugin\n      plugins\n      up\n      '.split(/[\n\s]+/).forEach(function (e) { t[e] = t.publicApi[e] }) } }, { key: 'trim', value: function (t) { if (t == null) return this._trimSettings || { start: 0, end: -1 }; this._trimSettings = t } }, { key: 'unmute', value: function () { this._muted = !1, this._isPlayingSilently = !1, this.trigger('volumechange', this.volume()), this.embedElement.dispatchEvent(new CustomEvent('volumechange', { detail: { volume: this.volume(), muted: !1 } })) } }, { key: 'videoHeight', value: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { constrain: !1, trigger: !1 }; if (e != null) { this.info('videoHeight', e, n), e = parseFloat(e); const i = this.height(); this.grid.main.style.height = ''.concat(e, 'px'), this.grid.center.style.height = '100%', this.grid.main.style.height = ''.concat(e, 'px'); const r = Math.max((0, f.elemHeight)(this.grid.above), (0, f.elemHeight)(this.grid.top)) + Math.max((0, f.elemHeight)(this.grid.below), (0, f.elemHeight)(this.grid.bottom)); return this.grid.wrapper.style.height = this.chrome.style.height = ''.concat(e + r, 'px'), this._embedContainer.style.height = ''.concat(e + r, 'px'), t.grid.fitHorizontal(this), t.grid.fitVertical(this), Math.abs(e - i) > _ && (this.trigger('heightchange', e, i), this.embedElement.dispatchEvent(new CustomEvent('heightchange', { detail: { height: e, prevHeight: i } }))), n.constrain && this.constrainToHeight(), this } return (0, f.elemHeight)(this.grid.center) } }, { key: 'videoWidth', value: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { constrain: !1, trigger: !1 }; if (e != null) { this.info('videoWidth', e, n), e = parseFloat(e); const i = this.width(); this.grid.center.style.width = '100%', this.grid.main.style.width = ''.concat(e, 'px'); const r = (0, f.elemWidth)(this.grid.left) + (0, f.elemWidth)(this.grid.right); return this.grid.wrapper.style.width = this.chrome.style.width = ''.concat(e + r, 'px'), this._embedContainer.style.width = ''.concat(e + r, 'px'), t.grid.fitHorizontal(this), t.grid.fitVertical(this), Math.abs(e - i) > _ && (this.trigger('widthchange', e, i), this.embedElement.dispatchEvent(new CustomEvent('widthchange', { detail: { width: e, prevWidth: i } }))), n.constrain && this.constrainToWidth(), this } return (0, f.elemWidth)(this.grid.center) } }, { key: 'getVideoQuality', value: function () { return 'auto' } }, { key: 'setVideoQuality', value: function () { return this } }, { key: 'visitorKey', value: function () { let t; return (t = this._tracker) === null || void 0 === t ? void 0 : t.visitorKey() } }, { key: 'volume', value: function (t) { const e = this; return t != null ? (this.info('volume', t), this.volumeAttr(t), this.ready(function () { return e.volume(t) })) : 0 } }, { key: 'volumeAttr', value: function (t) { this._attrs.volume = t } }, { key: 'volumeControlEnabled', value: function (t) { return this.publicApi._attrs.volumeControl = t, this } }, { key: 'webmAsset', value: function (t) { return r.webm(this._mediaData.assets, t) } }, { key: 'webmAssetInRange', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; return r.webm(this._mediaData.assets, (0, h.merge)(this.qualityOptions(), t)) } }, { key: 'whenVideoElementInDom', value: function () { return new Promise(function (t) {}) } }, { key: 'width', value: function (e) { const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (e != null) { this.info('width', e, n), e = parseFloat(e); const i = this.width(); return this.grid.wrapper.style.width = this.chrome.style.width = ''.concat(e, 'px'), n.dontChangeContainer || (this._embedContainer.style.width = ''.concat(e, 'px')), this.grid.center.style.width = '100%', this._opts.dontFit ? (this.grid.main.style.width = ''.concat(e - (0, f.elemWidth)(this.grid.left) - (0, f.elemWidth)(this.grid.right), 'px'), this.grid.main.style.marginLeft = ''.concat((0, f.elemWidth)(this.grid.left), 'px')) : (t.grid.fitHorizontal(this), t.grid.fitVertical(this)), (Math.abs(e - i) > _ || n.trigger) && (this.trigger('widthchange', e, i), this.embedElement.dispatchEvent(new CustomEvent('widthchange', { detail: { width: e, prevWidth: i } }))), n.constrain && this.constrainToWidth(), this._width = e, this } return (0, f.elemWidth)(this.grid.left) + (0, f.elemWidth)(this.grid.center) + (0, f.elemWidth)(this.grid.right) } }, { key: 'widthForHeight', value: function (t) { return t * this.aspect() } }, { key: 'wipeOutstandingAsyncFunctions', value: function () { this.info('wipeOutstandingAsyncFunctions'), l.globalEventLoop.remove(this.uuid), (0, c.clearTimeouts)(this.uuid), this._remoteMediaKey && (0, c.clearTimeouts)(this._remoteMediaKey) } }, { key: '_isExternallyEmbedded', value: function () { return !this._isOnWistia() } }, { key: '_isLoggedIn', value: function () { return document.querySelector('body').classList.contains('logged_in') } }, { key: '_isOnWistia', value: function () { const t = this._opts._inIframe ? document.referrer : window.location.href; return /wistia\.(io|st|com)/.test(t) } }, { key: '_isShared', value: function () { return this._isOnWistia() && !this._isLoggedIn() } }, { key: '_percentWatchedThreshold', value: function (t) { const e = this; this._thresholds || (this._thresholds = [0.25, 0.5, 0.75, 1]); const n = []; const i = Math.round(100 * t) / 100; this._thresholds.forEach(function (t) { i >= t ? e.trigger('percentWatchedThreshold', t) : n.push(t) }), this._thresholds = n } }, { key: '_recordFirstEmbedIfEligible', value: function () { const t = this._mediaData; const e = t.accountKey; const n = t.firstEmbedForAccount; const i = t.firstShareForAccount; const r = t.hashedId; const o = n && this._isExternallyEmbedded(); const a = i && this._isShared(); if (o || a) { const l = ''.concat((0, s.eV1Protocol)(), '//').concat((0, s.appHost)(), '/account/activities'); const u = { account_key: e, media_hashed_id: r }; o && (u.first_embed = this._isExternallyEmbedded()), a && (u.first_share = this._isShared()), e > 'wistia-production_1819717' && (0, p.countMetric)('wistia/record-first-embed-or-share-metadata', 1, { is_externally_embedded: this._isExternallyEmbedded(), is_shared: this._isShared(), first_embed_for_account: n, first_share_for_account: i, account_key: e, media_hashed_id: r }), fetch(l, { method: 'POST', mode: 'cors', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(u) }) } } }, { key: '_refreshDataFromServer', value: function (e, n) { const i = this; const r = this.embedOptions().embedHost || t.remote.embedHost(); return fetch('//'.concat(r, '/embed/medias/').concat(this.hashedId(), '.json')).then(function (t) { return t.json() }).then(function (n) { return i.publicApi._originalMediaData = n.media, i._mediaData = i.publicApi._transformAndUpdateMediaData(), i._newStill && i._replaceStillAsset(i._newStill), i.publicApi._mediaData = i._mediaData, t.cacheMedia(i.hashedId(), i._mediaData), e == null || e(), i.trigger('refreshed-from-server'), i._mediaData }).catch(n) } }, { key: '_replaceStillAsset', value: function (t) { const e = this.assets().filter(function (t) { return t.type !== 'still_image' }); this._mediaData.assets = e, this._mediaData.assets.push(t) } }, { key: '_shortAnimArgs', value: function (t) { return typeof t[0] === 'function' ? { callback: t[0] } : (0, h.merge)({}, t[0], { callback: t[1] }) } }], w && b(n.prototype, w), P && b(n, P), Object.defineProperty(n, 'prototype', { writable: !1 }), e }()); e.FAILED = -1, e.PROCESSING = 1, e.QUEUED = 0, e.READY = 2, e.asset = r.one, e.assets = r.filter, e.assetsWithinQualityRange = r.withinQualityRange, e.bakeryHosts = function () { return r.BAKERY_HOSTS }, e.isBakeryUrl = r.isBakeryUrl, e.stillAsset = r.still, e.stillUrl = r.stillUrl, t.mixin(e.prototype, t.bindable), t.mixin(e.prototype, t.logHelpers), e.prototype._logPrefix = function () { let t; return [this.constructor.name, this.hashedId() || 'no hashedId', (t = this._embedContainer) === null || void 0 === t ? void 0 : t.id, this.uuid] }; const n = e.prototype.trigger; e.prototype.trigger = function () { for (var t, e = arguments.length, i = new Array(e), r = 0; r < e; r++)i[r] = arguments[r]; return n.apply(this, i), (t = this.publicApi)._triggerNoImpl.apply(t, i) }, Object.getOwnPropertyNames(t.PublicApi.prototype).forEach(function (n) { const i = t.PublicApi.prototype[n]; typeof i !== 'function' || g(e.prototype, n) || (function (t, n) { e.prototype[t] = function () { let e; return (e = this.publicApi)[t].apply(e, arguments) }, e.prototype[t]._originalMethod = n }(n, i)) }), t.Player = t.Video = e } }(window.Wistia)) }, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, o(i.key), i) } } function r (t, e, n) { return (e = o(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function o (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }n.d(e, { SecondsWatchedTracker: () => a }); var a = (function () { function t (e, n) { const i = this; const o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), r(this, 'onTimeChange', function () { i.lastTimeChangeAt = i.timeChangeAt, i.timeChangeAt = Date.now() }), r(this, 'onPlaybarDragEnd', function () { i.playbarDragEndAt = Date.now() }), r(this, 'onPlay', function () { i.playedAt = Date.now() }), this.video = e, this.duration = n, this.maxWatchingPlaybackRate = o.maxWatchingPlaybackRate || 8, this.video.bind('timechange', this.onTimeChange), this.video.bind('playbardragend', this.onPlaybarDragEnd), this.video.bind('play', this.onPlay), this.reset() } let e, n, o; return e = t, n = [{ key: 'trackSecond', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : { force: !1 }; const i = function () { !n.force && e.shouldIgnoreTrack() || t >= e._secondsWatched.length || (e._secondsWatched[t] += 1, e._secondsWatched[t] === 1 ? e._totalWatched += 1 : e._totalRewatched += 1) }; this.isScrubbing() ? (clearTimeout(this.delayedScrubTimeout), this.delayedScrubTimeout = setTimeout(i, this.eventLoopDuration())) : i() } }, { key: 'shouldIgnoreTrack', value: function () { return this.video.state() !== 'playing' || this.video.playbackRate() >= this.maxWatchingPlaybackRate || !this.justReleasedPlaybar() && !this.justPlayed() && (!!this.isScrubbing() || void 0) } }, { key: 'eventLoopDuration', value: function () { let t; return ((t = this.video._impl) === null || void 0 === t ? void 0 : t._eventLoopDuration) || 300 } }, { key: 'isScrubbing', value: function () { return this.lastTimeChangeAt && Date.now() - this.lastTimeChangeAt < this.eventLoopDuration() } }, { key: 'justPlayed', value: function () { return this.playedAt && Date.now() - this.playedAt < this.eventLoopDuration() } }, { key: 'justReleasedPlaybar', value: function () { return this.playbarDragEndAt && Date.now() - this.playbarDragEndAt < this.eventLoopDuration() } }, { key: 'secondsWatched', value: function () { return this._totalWatched || 0 } }, { key: 'secondsWatchedVector', value: function () { return this._secondsWatched } }, { key: 'reset', value: function () { clearTimeout(this.delayedScrubTimeout), this.timeChangeAt = null, this.lastTimeChangeAt = null, this.lastPlaybarDragEndAt = null, this._secondsWatched = []; for (let t = 0; t < Math.ceil(this.duration); t++) this._secondsWatched.push(0); this._totalWatched = 0, this._totalRewatched = 0 } }], n && i(e.prototype, n), o && i(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { const i = n(5); !(function (t) { t._onFullscreenChange == null && (t._onFullscreenChange = function () { return i.fullscreenElement() ? t.trigger('enterfullscreen', i.fullscreenElement()) : t.trigger('cancelfullscreen') }), t._initializers.initFullscreenTriggers = function () { return i.elemRebind(document, 'webkitfullscreenchange', t._onFullscreenChange), i.elemRebind(document, 'fullscreenchange', t._onFullscreenChange) }, t._destructors.destroyFullscreenTriggers = function () { return i.elemUnbind(document, 'webkitfullscreenchange', t._onFullscreenChange), i.elemUnbind(document, 'fullscreenchange', t._onFullscreenChange) } }(window.Wistia)) }, (t, e, n) => { n(23); const i = n(24); const r = n(61); const o = n(20); const a = n(6); function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o }!(function (t) { t.BandwidthTest = (function () { function e (t) { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, e)), this.opt = t, this.opt = (0, a.merge)({ minKbps: 2500, timeoutLength: 4e3, freshFor: 36e5 }, this.opt), this.opt.uuid || (this.opt.uuid = (0, o.seqId)('bandwidth_test_')) } let n, l, u; return n = e, (l = [{ key: 'start', value: function () { let t; const e = this; (t = this._testXhr) === null || void 0 === t || t.abort(), this._testStart = (new Date()).getTime(), this._testXhr = new XMLHttpRequest(), this._testXhr.open('GET', this.testFileUrl(), !0); const n = 1e6 * Math.floor(100 * Math.random()); const i = n + 999999; return this._testXhr.setRequestHeader('Range', 'bytes='.concat(n, '-').concat(i)), (0, r.doTimeout)(''.concat(this.uuid, '.cancel_bandwidth_test'), function () { return e.trigger('timeout'), e.fail() }, this.opt.timeoutLength), this._testDataLoaded = 0, this._onTestXhrProgress = function (t) { return e._testDataLoaded = t.loaded, e.trigger('progress', t) }, this._testXhr.addEventListener('progress', this._onTestXhrProgress), this._onTestXhrLoaded = function () { return e.succeed() }, this._testXhr.addEventListener('load', this._onTestXhrLoaded), this._testXhr.send(null), this.trigger('started') } }, { key: 'fail', value: function () { return this._sampleKbps(), this._supportsHd = !1, this.saveResult(), this.trigger('failed'), this.end() } }, { key: 'succeed', value: function () { if (this._sampleKbps(), this._supportsHd = !0, this.saveResult(), this.trigger('succeeded'), this.end(), this._suspiciouslyFast()) return this._reportSuspiciousBandwidthTest() } }, { key: '_reportSuspiciousBandwidthTest', value: function () { try { let e, n, i, r; if (this._suspiciouslyFast()) return t.Metrics.count('player/suspicious-bandwidth-test', 1, { bw_test_time: this._testTime, visitor_key: t.visitorKey.value(), location: (e = location) !== null && void 0 !== e && (n = e.protocol) !== null && void 0 !== n && n.length && (i = location) !== null && void 0 !== i && (r = i.hostname) !== null && void 0 !== r && r.length ? ''.concat(location.protocol, '//').concat(location.hostname) : null, connection_type: t.Metrics.connectionType(), agent: navigator.userAgent }) } catch (e) { return t.error(e) } } }, { key: '_suspiciouslyFast', value: function () { return this._testTime < 0.05 } }, { key: '_sampleKbps', value: function () { return this._testEnd = (new Date()).getTime(), this._testTime = (this._testEnd - this._testStart) / 1e3, this._kbps = 8 * this._testDataLoaded / 1e3 / this._testTime } }, { key: 'endEarly', value: function () { return this._supportsHd == null && this._testDataLoaded != null ? (this._sampleKbps(), this._supportsHd = !(this._testTime > 1) || this._kbps >= this.opt.minKbps, this.trigger('ended-early'), this.end()) : (this.end(), this.trigger('ended-early')) } }, { key: 'end', value: function () { let t, e, n; return this._onTestXhrLoaded && ((e = this._testXhr) === null || void 0 === e || e.removeEventListener('load', this._onTestXhrLoaded)), this._onTestXhrProgress && ((n = this._testXhr) === null || void 0 === n || n.removeEventListener('progress', this._onTestXhrProgress)), (t = this._testXhr) === null || void 0 === t || t.abort(), this._testXhr = null, (0, r.clearTimeouts)(''.concat(this.uuid, '.cancel_bandwidth_test')), this.trigger('ended') } }, { key: 'testFileUrl', value: function () { return this.opt.testFileUrl || ((0, i.proto)() === 'https:' ? 'https://embed-ssl.wistia.com/deliveries/6992339c876a95a37250fbe5b0a0eaecca3018a5/file.jpg?bust=2015-12-29a' : 'http://embed.wistia.com/deliveries/76a57ca47a1978a834d82dcf7eeb03a6.bin?bust=2015-12-29a') } }, { key: 'saveKey', value: function () { return this.opt.saveKey || 'bandwidth_test' } }, { key: 'saveResult', value: function () { return t.localStorage(this.saveKey(), { updatedAt: (new Date()).getTime(), supportsHd: this._supportsHd, clientKbps: this._kbps }) } }, { key: 'savedResult', value: function () { return t.localStorage(this.saveKey()) } }, { key: 'isFresh', value: function () { let t; return (new Date()).getTime() - (((t = this.savedResult()) === null || void 0 === t ? void 0 : t.updatedAt) || 0) < this.opt.freshFor } }, { key: 'supportsHd', value: function () { return this._supportsHd || !1 } }]) && s(n.prototype, l), u && s(n, u), Object.defineProperty(n, 'prototype', { writable: !1 }), e }()), t.mixin(t.BandwidthTest.prototype, t.bindable) }(window.Wistia)) }, function (t, e, n) { let i, r, o, a, s, l, u, c, h, d, p, f, y; n(3).default, d = n(29).isVisitorTrackingEnabled, y = n(6), a = y.assign, p = y.merge, c = n(73).getResumableKeyForVideo, u = n(61).doTimeout, i = n(24).Url, f = n(5).pageLoaded, p = n(6).merge, n(18).runScript, s = n(45).base64Encode, o = n(128), r = n(130), l = function (t) { let e; return (e = t === 'none') != null ? e : { true: !1 } }, h = function (t) { let e; return { campaign: (e = new i(t._attrs.pageUrl).params).utm_campaign || null, medium: e.utm_medium || null, source: e.utm_source || null } }, (function (t) { if (!t.VideoTracker2)t.VideoTracker2 = (function () { function e (t) { let e; this.publicApi = t, this.eventQueue = [], this.initializedOnce = !1, this.monitoring = !1, this._setStartValues(), this.publicApi.hasData((e = this, function () { e.utmParams = h(e.publicApi), e.params = p({ transmitInterval: 1e3 * (e.publicApi._mediaData.trackingTransmitInterval || 10) }, e.publicApi._opts), e.publicApi._attrs.shouldTrack })) } return e.prototype.NUM_BUCKETS = 1e3, e.prototype.conversions = { 'missing-conversion': 0, 'pre-roll-email': 1, 'post-roll-email': 2, 'mid-roll-email': 3, 'post-roll-click': 4, 'mid-roll-click': 5, 'non-video': 6 }, e.prototype._setStartValues = function () { return this.clockStart = (new Date()).getTime(), this._played = !1, this.lastRecordedTime = 0, this.lastSeekTime = 0, this.lastSecondsWatched = 0, this.lastBucket = -1 }, e.prototype._getAccountKey = function () { return this.publicApi._opts.accountKey || this.publicApi._mediaData.accountKey }, e.prototype._getEnabledEmbedOptions = function () { let t, e, n, i, r, o, a, s; for (e in o = (t = this.publicApi.embedOptions()).plugin || {}, r = {}, n = { turnstile_enabled: 'requireEmail-v1', annotation_link_enabled: 'midrollLink-v1', call_to_action_enabled: 'postRoll-v1', eventbrite_enabled: 'eventbrite', hubspot_form_enabled: 'hubspotForm', marketo_form_enabled: 'marketoForm' })i = n[e], r[e] = !!o[i] && ((a = o[i].on) === 'true' || !0 === a); return r.auto_play_enabled = (s = t.autoPlay) === 'true' || !0 === s, r.looping_enabled = this.publicApi._attrs.endVideoBehavior === 'loop', r }, e.prototype._data = function () { let t; return t = p({ account_key: this._getAccountKey(), event_details: this.eventQueue, page_title: this.publicApi._getPageTitle(), browser_language: this.publicApi._getBrowserLanguage(), foreign_data: this.publicApi.foreignData(), media_duration: parseFloat(this.publicApi._mediaData.duration), media_id: this.publicApi._mediaData.mediaKey, media_type: this._mediaType(), referrer: this.publicApi._attrs.pageUrl, referrer_url: this.publicApi._attrs.referrerUrl, resumable_key: this.resumableKey(), session_id: this.visitorKey(), utm_params: this.utmParams, visitor_version: this.videoTrackerLocalStorage.getVisitorVersion(), event_version: '1.0.0', player_type: 'modern', enabled_embed_options: this._getEnabledEmbedOptions(), visibility_metrics: this.publicApi._getEmbedVisibilityMetrics() }, this.videoTrackerSession.fetchSessionData()), this.publicApi.email() && (t.email = this.publicApi.email()), !this.publicApi._opts.anonymizeIp && d() || (t.anonymizeIp = !0), this.params.conversionType && (t.conversion_type = this.conversions[this.params.conversionType]), this.params.conversionData && (t.conversion_data = this.params.conversionData), this.publicApi._opts.channel && (t.channel = this.publicApi._opts.channel), this.publicApi._mediaData.channelId && (t.channel_id = this.publicApi._mediaData.channelId), this.publicApi._mediaData.episodeId && (t.episode_id = this.publicApi._mediaData.episodeId), this.publicApi._mediaData.projectId && (t.project_id = this.publicApi._mediaData.projectId), JSON.stringify(t) }, e.prototype._mediaType = function () { return this.publicApi._mediaData.mediaType }, e.prototype.reset = function () { return this.stopMonitoring(), this._setStartValues(), this.initializedOnce = !1 }, e.prototype.initialize = function () { let t; return this.initializedOnce || (this.publicApi.info('video tracker initialize'), this.videoTrackerLocalStorage = new r(this._getAccountKey(), this.publicApi.hashedId(), (t = this, function () { let e; return (e = t.publicApi).info.apply(e, arguments) })), this._failedEventsQueue = [], this._retryTimer = null, this._retryInterval = 1e3, this.initializedOnce = !0, this._setStartValues(), this.log('initialized'), this.videoTrackerLocalStorage.recordLoad(), this.debounceTransmit()), this }, e.prototype.monitor = function () { let e; return this.initializedOnce || this.publicApi.hasData((e = this, function () { return e.videoTrackerSession = new o(e.publicApi) })), this.publicApi.embedded(function (e) { return function () { return e.stopMonitoring(), e.publicApi.info('_tracker.monitor'), e.initialize(), e.onPlaybackRateChange == null && (e.onPlaybackRateChange = function (t) { return e.log('playbackRateChange', null, t) }), e.onPlay == null && (e.onPlay = function () { if (e.log('play'), e.videoTrackerLocalStorage.recordPlay(), !e._played) return e._played = !0, e.debounceTransmit() }), e.onPause == null && (e.onPause = function () { if (Math.abs(e.publicApi.duration() - e.publicApi.time()) > 0.3) return e.log('pause') }), e.onEnd == null && (e.onEnd = function () { return e.log('end'), e.transmit() }), e.onSeek == null && (e.onSeek = function (t, n) { if (!(Math.abs(n - t) < 5)) return e.lastSeekTime = n, e.log('seek') }), e.onPercentWatchedThreshold == null && (e.onPercentWatchedThreshold = function (t) { return e.log('percentWatchedThreshold', null, t), e.transmit() }), e.monitoring = !0, e.publicApi.rebind('play', e.onPlay), e.publicApi.rebind('pause', e.onPause), e.publicApi.rebind('end', e.onEnd), e.publicApi.rebind('seek', e.onSeek), e.publicApi.rebind('playbackratechange', e.onPlaybackRateChange), e.publicApi.rebind('percentWatchedThreshold', e.onPercentWatchedThreshold), e.videoTrackerSession.setupBindings(), e.publicApi.state() === 'playing' && e.onPlay(), u(e.publicApi.uuid + '.start_tracking_timeout', function () { return e.publicApi.info('_tracker start tracking_loop'), t.eventLoop.add(e.publicApi.uuid + '.tracking_loop', e.params.transmitInterval, function () { return e.publicApi.state() === 'playing' && e.log('update'), e.transmit() }) }, Math.random() * e.params.transmitInterval + 1e3) } }(this)) }, e.prototype.stopMonitoring = function () { if (this.publicApi.info('_tracker.stopMonitoring'), this.monitoring = !1, this.onPlay && this.publicApi.unbind('play', this.onPlay), this.onPause && this.publicApi.unbind('pause', this.onPause), this.onEnd && this.publicApi.unbind('end', this.onEnd), this.onSeek && this.publicApi.unbind('seek', this.onSeek), this.onPercentWatchedChanged && this.publicApi.unbind('percentwatchedchanged', this.onPercentWatchedChanged), this.videoTrackerSession) return this.videoTrackerSession.removeBindings() }, e.prototype.distilleryUrl = function () { return this.publicApi._attrs.statsUrl || this.publicApi._mediaData.distilleryUrl }, e.prototype.sendToDistillery = function (e) { return fetch(this.distilleryUrl(), { method: 'POST', mode: 'cors', headers: { 'Content-Type': 'text/plain' }, body: encodeURIComponent(e) }).catch((n = this, function (e) { return t.Metrics.videoCount(n.publicApi, 'player/distillery-error-response/' + e.status) })); let n }, e.prototype.readyToTrack = function (e) { return this.publicApi.hasData(function () { return f(function () { return t.visitorKey.ready().then(e) }) }) }, e.prototype.transmit = function (t) { let e; if (t == null && (t = {}), this.publicApi._attrs.shouldTrack) return this.readyToTrack((e = this, function () { let n; if (e.eventQueue.length > 0 || t.force) return n = e._data(), e.publicApi.info('_tracker.transmit', n), e.publicApi.trigger('transmit-stats', n), e.sendToDistillery(s(n)), e.eventQueue = [] })) }, e.prototype.debounceTransmit = function () { return u(this.publicApi.uuid + '.transmit_play_data', (t = this, function () { return t.transmit() }), 350); let t }, e.prototype.log = function (t, e, n) { let i, r, o, a; if (this.publicApi._attrs.shouldTrack) return this.publicApi.info('_tracker.log', t, e, n), this.videoTrackerSession.ping(), o = (a = (r = this.videoTrackerSession.secondsWatched()) - this.lastSecondsWatched) / this.publicApi.duration(), this.lastSecondsWatched = r, t === 'conversion' ? (this.params.conversionType = e, this.params.conversionData = n, this.transmit({ force: !0 })) : (i = { key: t, value: this.timeInVideo(), timeDelta: this.timeDelta(), uniquePlayedTime: a, uniquePlayedRatio: o }, t === 'initialized' ? (i.lastAccountInstance = this.videoTrackerLocalStorage.lastLoadForAccount(), i.lastMediaInstance = this.videoTrackerLocalStorage.lastLoadForMedia(), i.isUnique = l(this.videoTrackerLocalStorage.lastLoadForMedia())) : t === 'play' ? (i.lastAccountInstance = this.videoTrackerLocalStorage.lastPlayForAccount(), i.lastMediaInstance = this.videoTrackerLocalStorage.lastPlayForMedia(), i.isUnique = l(this.videoTrackerLocalStorage.lastPlayForMedia()), this._played ? i.key = 'unpause' : (this.addPlayedTime(i), this.addBuckets(i), this.lastRecordedTime = this.timeInVideo())) : t === 'seek' ? (this.addPlayedTime(i, this.lastSeekTime), this.addBuckets(i, this.lastSeekTime), this.lastRecordedTime = this.timeInVideo()) : t === 'update' ? (this.addPlayedTime(i), this.addBuckets(i), this.lastRecordedTime = this.timeInVideo()) : t === 'playbackRateChange' || t === 'percentWatchedThreshold' ? i.value = n : t === 'end' && (this.addPlayedTime(i), this.addBuckets(i), this.lastBucket = -1, this.lastRecordedTime = this.timeInVideo()), this.publicApi.debug('_tracker.log', i), this.eventQueue.push(i)) }, e.prototype.addPlayedTime = function (t, e) { let n, i; return n = void 0 !== e ? e : this.timeInVideo(), i = Math.max(n - this.lastRecordedTime, 0), t.playedTime = String(i) }, e.prototype.addBuckets = function (t, e) { let n, i; if (this.publicApi.state() !== 'beforeplay' && (i = this.publicApi.time(), n = this._timeToBucket(e || i), this.lastBucket < n && (t.startBucket = this.lastBucket + 1, t.endBucket = n), this.lastBucket = this._timeToBucket(i), e)) return this.lastBucket -= 1 }, e.prototype._timeToBucket = function (t) { return Math.floor(t / this.publicApi.duration() * this.NUM_BUCKETS) }, e.prototype.logConversionOpportunity = function (e) { let n; if (this.publicApi._attrs.shouldTrack) return this.videoTrackerSession.ping(), e.co_key != null ? (e.is_new_lead = this.videoTrackerLocalStorage.isNewLead(), n = { key: 'conversion', value: e, timeDelta: this.timeDelta() }, this.publicApi.info('_tracker.logConversionOpportunity', e), this.eventQueue.push(n)) : t.Metrics.videoCount(this.publicApi, 'player/no-co-key', 1) }, e.prototype.logAction = function (t, e) { let n, i; return e == null && (e = {}), this.videoTrackerSession.ping(), n = { time: this.publicApi.time(), key: t, type: 'default', category: 'default', text: 'test', uniqueToVisitor: !1 }, i = { value: a({}, n, e), key: 'action', timeDelta: this.timeDelta() }, this.eventQueue.push(i) }, e.prototype.logCaptionSelection = function (t) { let e; if (this.publicApi._attrs.shouldTrack && (this.videoTrackerSession.ping(), t.caption_key)) return e = { key: 'caption', value: t, timeDelta: this.timeDelta() }, this.publicApi.info('_tracker.logCaptionSelection', t), this.eventQueue.push(e) }, e.prototype.logChapterClick = function (t, e) { return this.logAction('chapterConversion', { text: t.title, type: 'conversion', category: 'chapter', uniqueToVisitor: !0, time: e }), this.logAction('chapterSelection-' + t.id, { text: t.title, type: 'interaction', category: 'chapter', time: e }) }, e.prototype.logShareClick = function (t) { return this.logAction('shareConversion', { text: t, type: 'conversion', category: 'share', uniqueToVisitor: !0 }), this.logAction('shareClick-' + t, { text: t, type: 'interaction', category: 'share' }) }, e.prototype.resumableKey = function () { return !1 !== this.publicApi.embedOptions().resumable ? c(this.publicApi.hashedId()) : null }, e.prototype.timeInVideo = function () { let t; return (t = this.publicApi.time()) == null && (t = this.publicApi.state() === 'beforeplay' ? 0 : this.publicApi.duration()), t.toFixed(1) }, e.prototype.timeDelta = function () { return (new Date()).getTime() - this.clockStart }, e.prototype.visitorKey = function () { return this.publicApi.visitorKey() }, e.prototype.eventKey = function () { if (this.videoTrackerSession) return this.videoTrackerSession.eventKey() }, e }()) }(Wistia)) }, (t, e, n) => { let i, r, o, a; n(3).default, o = n(129).secondsSinceTime, i = n(124).SecondsWatchedTracker, a = n(121).uniqId, r = (function () { function t (t) { this.publicApi = t, this.lastFetchTime = (new Date()).getTime(), this.secondsWatchedTracker = new i(this.publicApi, this.publicApi.duration(), { maxWatchingPlaybackRate: this.publicApi._opts.maxWatchingPlaybackRate }) } return t.prototype.EVENT_KEY_REFRESH_INTERVAL = 1800, t.prototype.withRefresh = function (t) { if (o(this.lastFetchTime) > this.EVENT_KEY_REFRESH_INTERVAL && this.reset(), this.lastFetchTime = (new Date()).getTime(), typeof t === 'function') return t() }, t.prototype.fetchSessionData = function () { return this.withRefresh((t = this, function () { return { event_key: t.eventKey(), seconds_watched: t.secondsWatchedTracker.secondsWatched() } })); let t }, t.prototype.secondsWatched = function () { return this.withRefresh((t = this, function () { return t.secondsWatchedTracker.secondsWatched() })); let t }, t.prototype.ping = function () { return this.withRefresh() }, t.prototype.setupBindings = function () { let t; return this.binding == null && (this.binding = (t = this, function (e) { return t.secondsWatchedTracker.trackSecond(e) })), this.publicApi.rebind('secondchange', this.binding) }, t.prototype.reset = function () { return this._eventKey = null, this.secondsWatchedTracker.reset() }, t.prototype.removeBindings = function () { if (this.binding) return this.publicApi.unbind('secondchange', this.binding) }, t.prototype.eventKey = function () { return this.isValidKey(this._eventKey) || (this._eventKey = a('a5b1196b7e41ce9c079b723e3fe4dd7f'.substring(0, 7) + '_'), this.publicApi.trigger('eventkeychange', this._eventKey)), this._eventKey }, t.prototype.isValidKey = function (t) { return (t != null ? t.length : void 0) > 25 && /^[a-z0-9_\-\.]+$/i.test(t) }, t }()), t.exports = r }, (t, e, n) => { n.d(e, { secondsSinceTime: () => i }); var i = function (t) { return t ? Math.round(((new Date()).getTime() - t) / 1e3) : null } }, (t, e, n) => { let i, r; n(3).default, r = n(129).secondsSinceTime, i = (function () { function t (t, e, n) { this.accountKey = t, this.hashedId = e, this.logFn = n } return t.prototype.nullToNone = function (t) { return t === null ? 'none' : t }, t.prototype.lastLoadForAccount = function () { return this._lastLoadForAccount || (this._lastLoadForAccount = this.nullToNone(r(Wistia.localStorage('accounts_loaded.' + this.accountKey)))) }, t.prototype.lastLoadForMedia = function () { return this._lastLoadForMedia || (this._lastLoadForMedia = this.nullToNone(r(Wistia.localStorage('medias_loaded.' + this.hashedId)))) }, t.prototype.lastPlayForAccount = function () { return this._lastPlayForAccount || (this._lastPlayForAccount = this.nullToNone(r(Wistia.localStorage('accounts_played.' + this.accountKey)))) }, t.prototype.lastPlayForMedia = function () { return this._lastPlayForMedia || (this._lastPlayForMedia = this.nullToNone(r(Wistia.localStorage('medias_played.' + this.hashedId)))) }, t.prototype.lastRecordingOfActionForMedia = function (t) { return this.nullToNone(r(Wistia.localStorage('action_recorded.' + this.hashedId + '.' + t))) }, t.prototype.isNewLead = function () { let t, e; return t = 'action_recorded.conversion', (e = Wistia.localStorage(t)) ? !e : (this.logFn('recordNewLead'), Wistia.localStorage(t, !0)) }, t.prototype.recordLastActionForMedia = function (t) { return Wistia.localStorage('action_recorded.' + this.hashedId + '.' + t, (new Date()).getTime()) }, t.prototype.recordLoad = function () { return this.logFn('recordLoad'), Wistia.localStorage('accounts_loaded.' + this.accountKey, (new Date()).getTime()), Wistia.localStorage('medias_loaded.' + this.hashedId, (new Date()).getTime()) }, t.prototype.recordPlay = function () { return this.logFn('recordPlay'), Wistia.localStorage('accounts_played.' + this.accountKey, (new Date()).getTime()), Wistia.localStorage('medias_played.' + this.hashedId, (new Date()).getTime()) }, t.prototype._saveVisitorVersion = function (t) { if (t == null && (t = 1), Wistia.localStorage('visitor_version') == null) return Wistia.localStorage('visitor_version', t) }, t.prototype.getVisitorVersion = function () { return Wistia.localStorage('visitor_version') || (this._saveVisitorVersion(0), 0) }, t.prototype.clearActionRecordings = function () { return ['chapterImpression', 'chapterConversion', 'shareImpression', 'shareConversion'].forEach((t = this, function (e) { return Wistia.localStorage('action_recorded.' + t.hashedId + '.' + e, '', !0) })); let t }, t }()), t.exports = i }, (t, e, n) => { const i = n(23); const r = n(21); const o = n(132); const a = n(25); !(function (t) { t.remote || (t.remote = {}, t.remote.appHostname = a.appHostname, t.remote.embedHost = i.cdnFastWistiaComHost, t.remote.externalEmbedHost = i.cdnFastWistiaNetHost, t.remote.appHost = i.appHost, t.remote.assetHost = i.deliveryHost, t.remote.media = r.fetchMedia, t.cacheMedia = r.cacheMedia, t.uncacheMedia = r.uncacheMedia, t.mediaFromCache = r.mediaFromCache, t.remote.playlist = o.fetchPlaylist) }(window.Wistia)) }, (t, e, n) => { n.d(e, { fetchPlaylist: () => u }); const i = n(3); const r = n(24); const o = n(23); const a = n(12); const s = n(20); const l = n(61); i.Wistia._remotePlaylist == null && (i.Wistia._remotePlaylist = {}); var u = function (t, e) { const n = i.Wistia._remotePlaylist[t]; if (n)(0, l.doTimeout)('remote-playlist.'.concat(t, '.').concat((0, s.seqId)()), function () { e(n) }); else { const u = ''.concat((0, r.proto)(), '//').concat((0, o.cdnFastWistiaComHost)(), '/embed/playlists/').concat(t, '.json'); fetch(u).then(function (t) { return t.json() }).then(function (n) { i.Wistia._remotePlaylist[t] = n, e(n) }).catch(function () { a.wlog.error('Timed out fetching '.concat(u)) }) } } }, (t, e, n) => { const i = n(84); const r = n(6); const o = n(5); !(function (t) { if (!t.Metrics)t.Metrics = { count: i.count, sample: i.sample, send: i.send, videoCount: function (t, e, n, i) { return n == null && (n = 1), this.videoSend(t, 'count', e, n, i) }, videoSample: function (t, e, n, i) { return this.videoSend(t, 'sample', e, n, i) }, videoSend: function (e, n, i, a, s) { let l; const u = this; return s == null && (s = {}), (l = e.hasData) === null || void 0 === l ? void 0 : l.call(e, function () { let l; let c; let h; let d; let p; let f; let y; let v; let m; let g; let b; let _; let w; let P; let O; const k = ((l = e.bandwidthTest) === null || void 0 === l ? void 0 : l.call(e).savedResult()) || {}; (s = (0, r.merge)({ location: (c = location) !== null && void 0 !== c && (h = c.protocol) !== null && void 0 !== h && h.length && (d = location) !== null && void 0 !== d && (p = d.hostname) !== null && void 0 !== p && p.length ? ''.concat(location.protocol, '//').concat(location.hostname) : null, agent: navigator.userAgent, account_key: (f = e._mediaData) === null || void 0 === f ? void 0 : f.accountKey, at: e.time(), video_id: e.hashedId(), embed_type: e.playerType, duration: e.duration(), client_kbps: k.clientKbps, supports_hd: k.supportsHd, autoplay: !((y = e._attrs) === null || void 0 === y || !y.autoplay), in_iframe: top !== self, device_pixel_ratio: window.devicePixelRatio, window_width: (0, o.elemWidth)(window), window_height: (0, o.elemHeight)(window), video_width: e.videoWidth(), video_height: e.videoHeight(), visitor_key: (v = e._tracker) === null || void 0 === v ? void 0 : v.visitorKey(), event_key: (m = e._tracker) === null || void 0 === m ? void 0 : m.eventKey(), event_time_delta: (g = e._tracker) === null || void 0 === g ? void 0 : g.timeDelta(), connection_type: u.connectionType(), version: 9, channel: t.channelName }, s), /romulus|html5|vulcan/.test(e.playerType)) && (s.errorState = (P = e.elem()) === null || void 0 === P ? void 0 : P.error); (e._cacheStatus != null && (s.cache_status = e._cacheStatus), e._assetServer != null && (s.asset_server = e._assetServer), e._cacheHit != null && (s.cache_hit = e._cacheHit), e.inFullscreen && (s.in_fullscreen = e.inFullscreen()), e._substream != null) ? (s.substream = e._substream.index, s.adaptive = e._substream.adaptive, s.current_level = e._substream.currentLevel, s.all_level_names = e._substream.allLevelNames, w = e._substream.asset, s.hls_error_counts = e._substream.hlsErrorCounts()) : (s.substream = null, s.adaptive = null, w = (O = e.data) === null || void 0 === O ? void 0 : O.asset); if (w != null && (s.asset_type = w.type, s.asset_slug = w.slug, s.bitrate = w.bitrate, s.asset_height = w.height, s.asset_width = w.width), ((b = e.videoElem) === null || void 0 === b || (_ = b.buffered) === null || void 0 === _ ? void 0 : _.length) > 0 && (s.bufferedFrom0 = e.videoElem.buffered.end(0)), e._timeToFirstByte != null && (s.time_to_first_byte = e._timeToFirstByte), s.buffered = e.totalBuffered != null ? e.totalBuffered() : void 0, s.played = e.totalPlayed != null ? e.totalPlayed() : void 0, u.send(n, i, a, s), e._mediaData && e._mediaData.accountKey && e._mediaData.accountSpecificMetrics) return u.send(n, ''.concat(e._mediaData.accountKey, '/').concat(i), a, s) }) }, countEvent: function (t, e, n) { return n || (n = e), this._private.countEventCallbacks[n] == null && (this._private.countEventCallbacks[n] = this._private.mkCountEventCallback(e, n)), t.rebind(e, this._private.countEventCallbacks[n]) }, countEventOnce: function (t, e, n) { return n || (n = e), this._private.countEventOnceCallbacks[n] == null && (this._private.countEventOnceCallbacks[n] = this._private.mkCountEventOnceCallback(e, n)), t.rebind(e, this._private.countEventOnceCallbacks[n]) }, sampleEvent: function (t, e, n) { return n || (n = e), this._private.sampleEventCallbacks[n] == null && (this._private.sampleEventCallbacks[n] = this._private.mkSampleEventCallback(e, n)), t.rebind(e, this._private.sampleEventCallbacks[n]) }, countShowLoadingOnce: function (t) { const e = this; let n = -1; return t.bind('waiting', function (i) { return n < 2 && i >= 2 ? (e.videoCount(t, 'player/show-loading/first', 1), n = i, t.unbind) : n = i }) }, countShowLoadingAll: function (t) { const e = this; let n = -1; return t.bind('waiting', function (i) { return n < 2 && i >= 2 && e.videoCount(t, 'player/show-loading/all', 1), n = i }), t.bind('done-waiting', function () { return n = -1 }) }, countShowLoadingLongTimeOnce: function (t) { const e = this; let n = -1; return t.bind('waiting', function (i) { return n < 5 && i >= 5 ? (e.videoCount(t, 'player/show-loading-long-time/first', 1), n = i, t.unbind) : n = i }) }, countShowLoadingLongTimeAll: function (t) { const e = this; let n = -1; return t.bind('waiting', function (i) { return n < 5 && i >= 5 && e.videoCount(t, 'player/show-loading-long-time/all', 1), n = i }), t.bind('done-waiting', function () { return n = -1 }) }, assetBuckets: function (e) { return t.detect.iphone || t.detect.android || t.detect.blackberry || /mobile/i.test(navigator.userAgent) ? t.detect.iphone ? ['mobile', 'iphone'] : t.detect.android ? ['mobile', 'android'] : ['mobile'] : [] }, connectionType: function () { const t = window.navigator.connection || window.navigator.mozConnection || window.navigator.webkitConnection; return t == null ? void 0 : t.type }, sumTimeRanges: function (t) { if (t == null) return null; for (var e = 0, n = 0, i = t.length, r = i >= 0; r ? n < i : n > i; r ? n++ : n--)e += t.end(n) - t.start(n); return e }, millisecondsSince: function (t) { return (new Date()).getTime() - t }, _private: { countEventCallbacks: {}, mkCountEventCallback: function (e, n) { return function (i) { return n || (n = e), t.Metrics.videoCount(this, 'player/'.concat(n), i) } }, countEventOnceCallbacks: {}, mkCountEventOnceCallback: function (e, n) { return function (i) { return n || (n = e), t.Metrics.videoCount(this, 'player/'.concat(n), i), this.unbind } }, sampleEventCallbacks: {}, mkSampleEventCallback: function (e, n) { return function (i) { return n || (n = e), t.Metrics.videoSample(this, 'player/'.concat(n), i) } } } } }(window.Wistia)) }, (t, e, n) => { !(function (t) { let e, i, r, o, a, s, l, u, c, h; if (t.Plugin || (t.Plugin = {}), !t.Plugin.Base)a = n(23), i = a.eV1HostWithPort, r = a.eV1Protocol, e = n(94).allow3rdParty, o = n(6).merge, s = n(88), c = s.wData, h = s.wRemoveData, u = n(20).seqId, l = n(18).runScripts, t.Plugin.Base = (function () { function e () { this.pluginName = 'plugin' } return e.prototype.instances = function () { return c(['plugins', this.pluginName, this.video.uuid]) }, e.prototype.register = function (t) { let e; return (e = this.playlist || this.video || this.audio).plugins[this.uuid] = t, c(['plugins', this.pluginName, e.uuid, this.uuid], t) }, e.prototype.remove = function (e) { let n; if (e == null && (e = {}), (n = this.playlist || this.video || this.audio).plugins[this.uuid] = null, h(['plugins', this.pluginName, n.uuid, this.uuid]), n.plugins[this.uuid] === this && delete n.plugins[this.uuid], n.plugin[this.pluginName] === this && delete n.plugin[this.pluginName], !e.dontFit) return t.grid.fitHorizontal(n), t.grid.fitVertical(n) }, e.prototype.fit = function () {}, e.prototype.init = function (t, e) { return t.plugins == null && (t.plugins = {}), (t != null ? t.playlist : void 0) ? this.playlist = t : this.video = t, this.target = this.playlist || this.video || this.audio, this.options = e || {}, this.params = o({}, e || {}), this.uuid = this.params.uuid || u('wistia_', '_plugin') }, e }()), t.plugin || (t.plugin = function (e, n) { let i, r, o, a, s, l; if ((i = (a = t.pluginQueue) != null && (s = a[e]) != null ? s.shift() : void 0) && (o = function () { let t, r; return i.video.info('initializing plugin', e, i.options), t = n(i.video._impl || i.video, i.options) || !0, i.video.plugin[e] = t, i.video._impl && (i.video._impl.plugin[e] = t), i.video.trigger('plugininitialized', e), (r = i.video._pluginStopGos) != null && typeof r[e] === 'function' ? r[e](!0, t) : void 0 }, r = function () { return i.options.initBeforeHasData ? o() : i.video.hasData(o) }, !0 !== i.options.initBeforeHasData && ((l = i.video) != null ? l.looksDown() : void 0) ? (i.video.notice('Wistia.plugin: delaying initialization of plugin until "up"', e, i.options), i.video.bind('up', function () { return r(), this.unbind })) : i.video._implVersion === i.implVersion ? r() : i.video.notice('Wistia.plugin impl changed, ignoring initialization', e, i.options)), !t.plugin[e]) return t.plugin[e] = n }, t.plugin._prefetched = {}, t.plugin._inject = function (e, n, o) { let a, s; if (o == null && (o = {}), !1 !== o.on) return a = r() + '//' + i() + '/assets/external/' + n + '.js', s = [{ name: n, options: o, src: o.src && t.plugin._allow3rdParty(e.options) ? o.src : a, async: !0 }], t.plugin._setFnForDefinedPlugins(e, s), t.plugin._execQueue(e, s) }, t.plugin._allow3rdParty = function (t) { return e(t) }, t.plugin._setFnForDefinedPlugins = function (e, n) { let i, r, o, a; for (o = [], i = 0, r = n.length; i < r; i++)a = n[i], t.plugin[a.name] && o.push(function (n) { return n.fn = function () { let i; return i = function () { let i, r, o; return r = t.plugin[n.name](e._impl || e, n.options) || !0, e.plugin[n.name] = r, e._impl && (e._impl.plugin[n.name] = r, e.trigger('plugininitialized', n.name)), (o = e._pluginStopGos) != null && typeof o[i = n.name] === 'function' ? o[i](!0, r) : void 0 }, n.options.initBeforeHasData ? i() : e.hasData(i) }, n.async = !1 }(a)); return o }, t.plugin._queueUndefinedPlugins = function (e, n) { let i, r, o, a, s, l; for (t.pluginQueue == null && (t.pluginQueue = {}), s = [], i = 0, r = n.length; i < r; i++)(a = n[i]).subScripts ? s.push(function () { let n, i, r, s; for (s = [], n = 0, i = (r = a.subScripts).length; n < i; n++)l = r[n], o = l.name || l.src, t.pluginQueue[o] == null && (t.pluginQueue[o] = []), a.fn ? s.push(void 0) : s.push(t.pluginQueue[o].push({ video: e, implVersion: e._implVersion, options: l.options })); return s }()) : (o = a.name || a.src, t.pluginQueue[o] == null && (t.pluginQueue[o] = []), a.fn ? s.push(void 0) : s.push(t.pluginQueue[o].push({ video: e, implVersion: e._implVersion, options: a.options }))); return s }, t.plugin._execQueue = function (e, n, i) { return t.plugin._queueUndefinedPlugins(e, n), l(n).then(i) }, t.plugin._init = function (e, n, i) { let r, o; return o = e.charAt(0).toUpperCase() + e.substr(1), (r = new (0, t.Plugin[o])()).init(n, i), r }, t.plugin._instance = function (t, e, n) { return c(['plugins', t, e.uuid, n]) }, t.plugin._remove = function (e, n, i) { let r; (r = t.plugin._instance(e, n, i)) != null && r.remove() }, t.plugin._isActive = function (e, n, i) { return !!t.plugin._instance(e, n, i) }, t.plugin._defined = function () { let e, n, i, r; for (e in i = [], n = t.plugin)r = n[e], /^_/.test(e) || i.push({ name: e, options: r }); return i }) }(Wistia)) }, (t, e, n) => { const i = n(85); !(function (t) { t.localStorage || (t.localStorage = i.setOrGet, t.removeLocalStorage = i.removeLocalStorage) }(window.Wistia)) }, (t, e, n) => { const i = n(5); const r = n(28); const o = n(20); const a = n(94); const s = n(118); !(function (t) { if (!t.gridify) { t.gridifyCss = function (t) { t.replace(/_grid$/, ''); return '#'.concat(t, '_wrapper{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;font-family:Arial,sans-serif;font-size:14px;height:100%;position:relative;text-align:left;width:100%;}\n#').concat(t, '_wrapper *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box;}\n#').concat(t, '_above{position:relative;}\n#').concat(t, '_main{display:block;height:100%;position:relative;}\n#').concat(t, '_behind{height:100%;left:0;position:absolute;top:0;width:100%;}\n#').concat(t, '_center{height:100%;overflow:hidden;position:relative;width:100%;}\n#').concat(t, '_front{display:none;height:100%;left:0;position:absolute;top:0;width:100%;}\n#').concat(t, '_top_inside{position:absolute;left:0;top:0;width:100%;}\n#').concat(t, '_top{width:100%;position:absolute;bottom:0;left:0;}\n#').concat(t, '_bottom_inside{position:absolute;left:0;bottom:0;width:100%;}\n#').concat(t, '_bottom{width:100%;position:absolute;top:0;left:0;}\n#').concat(t, '_left_inside{height:100%;position:absolute;left:0;top:0;}\n#').concat(t, '_left{height:100%;position:absolute;right:0;top:0;}\n#').concat(t, '_right_inside{height:100%;right:0;position:absolute;top:0;}\n#').concat(t, '_right{height:100%;left:0;position:absolute;top:0;}\n#').concat(t, '_below{position:relative;}') }, t.gridifyHtml = function (t) { return { id: ''.concat(t, '_wrapper'), childNodes: [{ id: ''.concat(t, '_above') }, { id: ''.concat(t, '_main'), childNodes: [{ id: ''.concat(t, '_behind') }, { id: ''.concat(t, '_center') }, { id: ''.concat(t, '_front') }, { id: ''.concat(t, '_top_inside'), childNodes: { id: ''.concat(t, '_top') } }, { id: ''.concat(t, '_bottom_inside'), childNodes: { id: ''.concat(t, '_bottom') } }, { id: ''.concat(t, '_left_inside'), childNodes: { id: ''.concat(t, '_left') } }, { id: ''.concat(t, '_right_inside'), childNodes: { id: ''.concat(t, '_right') } }] }, { id: ''.concat(t, '_below') }] } }, t.createGrid = function (n, i) { const r = t.createGridSkeleton(); for (const o in t.initGridEventListeners(r), t.initGridDimensions(n, r, i), r)r[o].nodeName !== 'STYLE' && !0 !== n._opts._inLegacyPlaylist && e(r[o], n); return r }; var e = function (e, i) { return e.originalAppendChild = e.appendChild, e.originalAppend = e.append, e.originalPrepend = e.prepend, e.appendChild = function (r, o) { return o == null && (o = {}), !0 !== o.wistiaGridCaller && !0 !== t._hasTrackedGrid && (t._hasTrackedGrid = !0, n(i)), e.originalAppendChild(r) }, e.append = function (r, o) { return o == null && (o = {}), !0 !== o.wistiaGridCaller && !0 !== t._hasTrackedGrid && (t._hasTrackedGrid = !0, n(i)), e.originalAppend(r) }, e.prepend = function (r, o) { return o == null && (o = {}), !0 !== o.wistiaGridCaller && !0 !== t._hasTrackedGrid && (t._hasTrackedGrid = !0, n(i)), e.originalPrepend(r) } }; var n = function (t) { const e = (0, a.pluginScriptsToLoad)(t._mediaData, t._opts); return (0, r.countMetric)('custom-plugin-grid-append', 1, { hashedId: t._mediaData.hashedId, href: window.location.href, plugins: (0, a.getPluginsNotInList)(e) }) }; t.createGridSkeleton = function () { const e = (0, o.seqId)('wistia_grid_'); const n = (0, i.elemFromObject)(t.gridifyHtml(e)); const r = (0, i.addInlineCss)(n, t.gridifyCss(e)); const a = {}; a.css = r, a.root = n, (0, i.elemStyle)(n, { display: 'none' }), (0, i.elemAppend)(document.body, n); for (let s = 0, l = Array.from(['wrapper', 'main', 'above', 'below', 'top', 'right', 'bottom', 'left', 'top_inside', 'right_inside', 'bottom_inside', 'left_inside', 'front', 'center', 'behind']); s < l.length; s++) { const u = l[s]; a[u] = document.getElementById(''.concat(e, '_').concat(u)) } return (0, i.elemRemove)(n), (0, i.elemStyle)(n, { display: 'block' }), a }, t.initGridEventListeners = function (t) { return t.center.addEventListener('scroll', function () { return t.center.scrollTop = 0 }) }, t.initGridDimensions = function (t, e, n) { if (n == null && (n = {}), !1 !== n.initDimensions) { const r = t._embedContainer; const o = t.chrome; t._opts; return o.style.height = ''.concat((0, i.elemHeight)(r), 'px'), e.main.style.width = ''.concat((0, i.elemWidth)(r), 'px') } }, t.gridify = function (e, n) { const r = {}; const o = ''.concat(n.id, '_grid'); n.innerHTML = (0, s.generateHtml)(t.gridifyHtml(o)); for (let a = 0, l = ['wrapper', 'main', 'above', 'below', 'top', 'right', 'bottom', 'left', 'top_inside', 'right_inside', 'bottom_inside', 'left_inside', 'front', 'center', 'behind']; a < l.length; a++) { const u = l[a]; r[u] = document.getElementById(''.concat(o, '_').concat(u)) } return (0, i.addInlineCss)(r.wrapper, t.gridifyCss(o)), r.wrapper.style.height = ''.concat((0, i.elemHeight)(n), 'px'), r.main.style.width = ''.concat((0, i.elemWidth)(n), 'px'), r }, t.isGridElem = function (t, e) { for (const n in t) { if (e === t[n]) return !0 } return !1 }, t.grid = {}, t.grid.allNodesHidden = function (t) { if (t.length === 0) return !0; for (let e = 0, n = Array.from(t); e < n.length; e++) { const i = n[e]; if (i.style && i.style.display !== 'none') return !1 } return !0 }, t.grid.zeroEmptySections = function (e) { return (function () { for (var n = [], i = 0, r = ['top', 'bottom', 'left', 'right', 'above', 'below']; i < r.length; i++) { const o = r[i]; const a = e.grid[o]; a.childNodes.length ? t.grid.allNodesHidden(a.childNodes) ? (a.style.height = '0px', a.style.fontSize = '0px', a.style.lineHeight = '0px', n.push(a.isEmpty = !0)) : (a.style.height = '', a.style.fontSize = '', n.push(a.style.lineHeight = '')) : (a.appendChild(document.createTextNode(' '), { wistiaGridCaller: !0 }), a.style.height = '0px', a.style.fontSize = '0px', a.style.lineHeight = '0px', n.push(a.isEmpty = !0)) } return n }()) }, t.grid.wrapperHeight = function (t) { const e = t.grid.wrapper; return (0, i.elemHeight)(e) }, t.grid.wrapperWidth = function (t) { const e = t.grid.wrapper; return (0, i.elemWidth)(e) }, t.grid.fitVertical = function (e) { if (!e._opts.dontFit) { t.grid.zeroEmptySections(e); const n = e.grid; const r = n.main; const o = (n.wrapper, Math.max((0, i.elemHeight)(n.above), (0, i.elemHeight)(n.top))); const a = Math.max((0, i.elemHeight)(n.below), (0, i.elemHeight)(n.bottom)); const s = Math.max(0, t.grid.wrapperHeight(e) - o - a); r.style.height = ''.concat(s, 'px'), (0, i.elemWidth)(n.left) === 0 && (r.style.left = '0px'), r.style.marginTop = ''.concat((0, i.elemHeight)(n.top), 'px') } }, t.grid.fitHorizontal = function (e) { if (!e._opts.dontFit) { t.grid.zeroEmptySections(e); const n = e.grid; const r = (n.wrapper, n.main); const o = (0, i.elemWidth)(n.left); const a = (0, i.elemWidth)(n.right); const s = t.grid.wrapperWidth(e) - o - a; r.style.width = ''.concat(s, 'px'), r.style.left = ''.concat(o, 'px') } }, t.grid.fit = function (e, n) { /left|right/.test(n) ? t.grid.fitHorizontal(e) : /top|bottom|above|below/.test(n) && t.grid.fitVertical(e), e.ieSizeHack() } } }(window.Wistia)) }, (t, e, n) => { const i = [].slice; !(function (t) { let e, r, o, a, s, l, u, c, h; if (u = n(5), a = u.elemRebind, s = u.elemUnbind, o = n(39).dynamicImport, r = n(28).countMetric, t.iframeInit || (t.iframeInit = function (t, e) { return o('assets/external/insideIframe.js').then(function (n) { return n.iframeInit(t, e) }) }), !t.IframeApiProxy) { for (l in e = (function () { function t (t) { this.iframe = t, this.loadIframeApi() } return t.prototype.loadIframeApi = function () { return new Promise(function (t) { return setTimeout(function () { return o('assets/external/iframeApi.js').then(function (e) { return function () { return e._loaded = !0, t() } }(this)) }, 0) }) }, t.prototype.proxyFn = function () { let t, e, n, o; return e = arguments[0], t = arguments.length >= 2 ? i.call(arguments, 1) : [], r('player/iframeApiProxy-praxyfn', 1, { methodName: e }), this._loaded ? (n = this.iframe.wistiaApi)[e].apply(n, t) : (this.loadIframeApi().then((o = this, function () { let n; if (o.iframe.wistiaApi !== o) return (n = o.iframe.wistiaApi)[e].apply(n, t) })), this) }, t.prototype._hasImpl = function () { let t; return t = arguments.length >= 1 ? i.call(arguments, 0) : [], this.proxyFn.apply(this, ['_hasImpl'].concat(i.call(t))) }, t.prototype.hasData = function () { let t; return t = arguments.length >= 1 ? i.call(arguments, 0) : [], this.proxyFn.apply(this, ['hasData'].concat(i.call(t))) }, t.prototype.embedded = function () { let t; return t = arguments.length >= 1 ? i.call(arguments, 0) : [], this.proxyFn.apply(this, ['embedded'].concat(i.call(t))) }, t.prototype.ready = function () { let t; return t = arguments.length >= 1 ? i.call(arguments, 0) : [], this.proxyFn.apply(this, ['ready'].concat(i.call(t))) }, t.prototype.up = function () { let t; return t = arguments.length >= 1 ? i.call(arguments, 0) : [], this.proxyFn.apply(this, ['up'].concat(i.call(t))) }, t.prototype.down = function () { return this.proxyFn.apply(this, ['down'].concat(i.call(args))) }, t }()), c = t.PublicApi.prototype)h = c[l], e.prototype[l] || typeof h !== 'function' || (function (t) { e.prototype[t] = function () { let e; return e = arguments.length >= 1 ? i.call(arguments, 0) : [], this.proxyFn.apply(this, [t].concat(i.call(e))) } }(l)); t.IframeApiProxy = e }t.maybeRequireIframeApi == null && (t.maybeRequireIframeApi = function () { let t, n, i, r, o; if ((o = document.querySelectorAll('iframe.wistia_embed,iframe[name=wistia_embed],iframe.wistia_playlist,iframe[name=wistia_playlist]')).length > 0) { for (r = [], t = 0, i = o.length; t < i; t++)(n = o[t]).wistiaApi ? r.push(void 0) : r.push(n.wistiaIframeApiProxy = n.wistiaApi = new e(n)); return r } }), t.onIframePostMessage == null && (t.onIframePostMessage = function (t) { if (t.data === 'new-wistia-iframe') return o('assets/external/iframeApi.js'), s }), a(window, 'message', t.onIframePostMessage), t.bind('ev1initend', function () { return t.maybeRequireIframeApi(), a(window, 'message', t.onIframePostMessage) }), t.bind('ev1destroystart', function () { return s(window, 'message', t.onIframePostMessage) }) }(Wistia)) }, (t, e, n) => { const i = n(13); const r = n(29); const o = n(121); const a = n(99); function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o }!(function (t) { if (!t.VisitorKey) { const e = '__distillery'; (0, i.globalBind)('visitortrackingchange', function (e, n) { for (let i = 0, o = Array.from(t.api.all()); i < o.length; i++) { var a; const s = o[i]; (a = s._postDownVisitorTrackingEnabled) === null || void 0 === a || a.call(s) } if (t.visitorKey) { let l, u; if (!(0, r.isVisitorTrackingEnabled)()) return t.visitorKey.unpersist(), (l = (u = t._destructors).destroyMux) === null || void 0 === l ? void 0 : l.call(u); if (t.visitorKey.value()) return t.visitorKey.persist(t.visitorKey.value()) } }), t.VisitorKey = (function () { function n () { const t = this; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, n)), this.ready = this.ready.bind(this), this.unbinds = [], setTimeout(function () { return t.unbinds.push((0, a.onFindApiHandle)(a.ALL_API_HANDLES_KEY, function (e) { return e.hasData(function () { let n; return e.iframe || !0 !== ((n = e._mediaData) === null || void 0 === n ? void 0 : n.privacyMode) || t.unpersist(), t.ready() }) })) }, 0) } let i, l, u; return i = n, u = [{ key: 'isValid', value: function (t) { return (t == null ? void 0 : t.length) > 25 && /^[a-z0-9_\-.]+$/i.test(t) } }, { key: 'generate', value: function () { return (0, o.uniqId)(''.concat('a5b1196b7e41ce9c079b723e3fe4dd7f'.substring(0, 7), '_')) } }], (l = [{ key: 'ready', value: function () { const e = this; return this._readyPromise || (this._readyPromise = new Promise(function (n) { e.savedValue() || e.persist(t.VisitorKey.generate()), n() })), this._readyPromise } }, { key: 'reinitialize', value: function () { return this.destroy(), this.unbinds = [], this._readyPromise = null, this.ready() } }, { key: 'persist', value: function (n) { if (t.VisitorKey.isValid(n)) { if (this.info('@persist', n), this._value = n, (0, r.isVisitorTrackingEnabled)()) return !0 !== window.wistiaDisableCookies && this.localStorageValue() !== this._value ? t.localStorage(e, this._value) : void 0 } else this.error(new Error("Attempted to persist invalid visitor key '".concat(n, "'"))) } }, { key: 'unpersist', value: function () { return this.clearFromCurrentDomain() } }, { key: 'clear', value: function () { return this.info('clear'), this.unpersist(), this._value = null } }, { key: 'clearFromCurrentDomain', value: function () { return t.removeLocalStorage(e, null) } }, { key: 'value', value: function () { let e = this._value || this.savedValue(); return e || (e = t.VisitorKey.generate(), this.persist(e)), e } }, { key: 'savedValue', value: function () { if ((0, r.isVisitorTrackingEnabled)()) return this.localStorageValue() } }, { key: 'localStorageValue', value: function () { return t.localStorage(e) } }, { key: 'isValid', value: function () { return t.VisitorKey.isValid(this.value()) } }, { key: 'destroy', value: function () { for (let t = 0, e = Array.from(this.unbinds); t < e.length; t++)(0, e[t])(); return this.unbinds = [] } }]) && s(i.prototype, l), u && s(i, u), Object.defineProperty(i, 'prototype', { writable: !1 }), n }()), t.mixin(t.VisitorKey.prototype, t.logHelpers), t._initializers.initVisitorKey = function () { return t.visitorKey = new t.VisitorKey() }, t._destructors.destroyVisitorKey = function () { let e; return (e = t.visitorKey) === null || void 0 === e || e.destroy(), t.visitorKey = null } } }(window.Wistia)) }, () => { !(function (t) { t._initializers.initSpecificTime = function () { try { let e; if (parent !== self) return; const n = location.href.match(/[?&]wtime=([\dhms]*)/); const i = (e = location.href.match(/[?&]wvideo(id)?=([^&]+)/)) === null || void 0 === e ? void 0 : e[2]; if (!((n == null ? void 0 : n.length) >= 2)) return; if (t._specificTimeInitiated) return; t._specificTimeInitiated = !0; let r = !1; return window.wistiaEmbeds.onFind(function (t) { if (!i || t.hashedId() === i) return r ? void 0 : (r = !0, t.embedded(function () { let e; return (e = t.popover) === null || void 0 === e ? void 0 : e.show() }), t.time(n[1]).play()) }) } catch (e) { return t.error(e), t._specificTimeInitiated = !1 } } }(window.Wistia)) }, (t, e, n) => { const i = n(141); !(function (t) { if (!t.Interpolation)t.Interpolation = i.Interpolation }(window.Wistia)) }, (t, e, n) => { function i (t) { return (function (t) { if (Array.isArray(t)) return r(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return r(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return r(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function r (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o }n.d(e, { Interpolation: () => a }); var a = (function () { function t () { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)); const e = arguments.length <= 0 ? void 0 : arguments[0]; const n = e.seedRange; const i = e.seedFunction; const r = e.seedStart; const o = e.outputStart; const a = o != null ? o : 0; const s = e.outputEnd; const l = s != null ? s : 1; const u = e.easing; const c = u != null ? u : t.linear; if (n == null) throw new Error('Must provide seedRange argument'); if (i != null && typeof i !== 'function') throw new Error('Given seed is not a function'); if (typeof c !== 'function') throw new Error('Invalid easing function given: '.concat(this.easing)); this._seedRange = n, this._seedFunction = i || function () { return (new Date()).getTime() }, this._outputStart = a, this._outputEnd = l, this._easing = c, this._seedStart = (r == null ? void 0 : r()) || this.seed() } let e, n, r; return e = t, r = [{ key: 'linear', value: function (t, e, n, i) { return t * e / (n || 1) + i } }, { key: 'easeInOut', value: function (t, e, n, i) { return (e /= (n || 1) / 2) < 1 ? t / 2 * e * e + i : -t / 2 * ((e -= 1) * (e - 2) - 1) + i } }], (n = [{ key: 'seed', value: function () { return this.seedFunction()() } }, { key: 'seedStart', value: function () { return this._seedStart } }, { key: 'seedRange', value: function () { return this._valOrFn(this._seedRange) } }, { key: 'seedFunction', value: function () { return this._seedFunction } }, { key: 'outputStart', value: function () { return this._valOrFn(this._outputStart) } }, { key: 'outputEnd', value: function () { return this._valOrFn(this._outputEnd) } }, { key: 'easing', value: function () { return this._valOrFn(this._easing) } }, { key: 'value', value: function () { return this._easing.apply(this, i(Array.from(this.easingArgs() || []))) } }, { key: 'atEnd', value: function () { return this.ratio() === 1 } }, { key: 'atStart', value: function () { return this.ratio() === 0 } }, { key: 'easingArgs', value: function () { return [this.c(), this.t(), this.d(), this.b()] } }, { key: 'seedDelta', value: function () { return this.seedRange() > 0 ? Math.min(this.seedRange(), this.seed() - this.seedStart()) : this.seedRange() < 0 ? Math.max(this.seedRange(), this.seed() - this.seedStart()) : 0 } }, { key: 'ratio', value: function () { const t = this.seedRange(); return t === 0 ? 1 : Math.max(0, Math.min(1, this.seedDelta() / t)) } }, { key: 'c', value: function () { return this.outputEnd() - this.outputStart() } }, { key: 't', value: function () { return this.seedDelta() } }, { key: 'd', value: function () { return this.seedRange() } }, { key: 'b', value: function () { return this.outputStart() } }, { key: '_valOrFn', value: function (t) { return typeof t === 'function' ? t() : t } }]) && o(e.prototype, n), r && o(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { n(3); const i = n(5); const r = n(39); window._wq = window._wq || [], window._wq.push({ id: '_all', onHasData: function (t) { (function (t) { if (t._mediaData && t._mediaData.integrations) for (const e in t._mediaData.integrations) if (t._mediaData.integrations[e]) return !0; return !1 })(t) && (0, i.pageLoaded)(function () { setTimeout(function () { (0, r.dynamicImport)('assets/external/allIntegrations.js').then(function (t) { t.runIntegrationsSetup() }) }, 1e3) }) } }) }, (t, e, n) => { let i; i = n(38).getDefaultTranslation, Wistia, Wistia.initializeOnce = function () { let t; return Wistia._initializers.initDetect(), Wistia._initializers.initWLog(), Wistia._initializers.initVisitorKey(), ((t = Wistia._initializers) != null ? t.initEventLoop : void 0) && Wistia._initializers.initEventLoop(), Wistia._initializers.initFullscreenTriggers(), Wistia.trigger('ev1initonce'), performance.mark('player_init_start') }, Wistia.initializeEveryTime = function () { let t, e, n, r; return Wistia.trigger('ev1initstart'), ((t = Wistia._initializers) != null ? t.initEmbedShepherd : void 0) && Wistia._initializers.initEmbedShepherd(), ((e = Wistia._initializers) != null ? e.initMux : void 0) && Wistia._initializers.initMux(), ((n = Wistia._initializers) != null ? n.initAsyncEmbeds : void 0) && Wistia._initializers.initAsyncEmbeds(), Wistia._initializers.initSpecificTime(), i(), (r = Wistia.eventLoop) != null && r.resync(), Wistia.trigger('ev1initend') }, Wistia.destroy = function () { return Wistia.trigger('ev1destroystart'), Wistia._destructors.destroyAsyncEmbeds(), Wistia._destructors.destroyEmbedShepherd(), Wistia._destructors.destroyEmbedLinks(), Wistia._destructors.destroyFullscreenTriggers(), Wistia._destructors.destroyEventLoop(), Wistia._destructors.destroyVisitorKey(), Wistia._destructors.destroyWLog(), Wistia._destructors.destroyMux(), Wistia.trigger('ev1destroyend') }, Wistia.destroyGlobals = function () { let t, e; for (t in window.Wistia = null, window.wistiaApi = null, window.wistiaDispatch = null, window.wistiaBindIframes = null, window.wistiaEmbeds = null, window._wistiaElemId = null, window.wistiaInitQueue = null, window.wistiaInit = null, window.wistiaEmbedShepherdReady = null, e = [], window)window[t], /^wistiajson/.test(t) ? e.push(window[t] = null) : e.push(void 0); return e }, Wistia.reinitialize = function () { return Wistia.destroy(), Wistia.initializeOnce(), Wistia.initializeEveryTime() }, Wistia._initialized || (Wistia._initialized = !0, Wistia.initializeOnce()), Wistia.initializeEveryTime() }, (t, e, n) => { n(145) }, (t, e, n) => { const i = n(3); const r = (n(2), n(73)); const o = n(8); const a = n(146); const s = n(83); const l = n(71); const u = n(5); const c = n(6); const h = n(61); const d = n(11); const p = n(39); const f = n(62); const y = (n(154), n(160), n(162), n(163), n(167), n(170), n(172), n(174), n(175), n(177), n(179), n(184), n(186), n(188), n(190), n(191), n(193), n(197), n(199), n(202)); const v = n(204); const m = n(205); const g = n(206); const b = n(207); const _ = n(208); const w = n(209); const P = n(210); const O = n(211); const k = n(217); const S = n(218); const E = n(219); const T = n(220); const C = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; function A (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return j(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return j(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function j (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function x (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function B () { return B = typeof Reflect !== 'undefined' && Reflect.get ? Reflect.get.bind() : function (t, e, n) { const i = (function (t, e) { for (;!Object.prototype.hasOwnProperty.call(t, e) && (t = M(t)) !== null;);return t }(t, e)); if (i) { const r = Object.getOwnPropertyDescriptor(i, e); return r.get ? r.get.call(arguments.length < 3 ? t : n) : r.value } }, B.apply(this, arguments) } function R (t, e) { return R = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, R(t, e) } function D (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = M(t); if (e) { const r = M(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function M (t) { return M = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, M(t) } const I = (0, d.cachedDetect)(); if (!i.Wistia.VulcanV2Player) { const L = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && R(t, e) }(L, t)); let e; let n; let d; const j = D(L); function L (t) { let e; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, L)), (e = j.call(this, t)).playerType = 'vulcan-v2', e._enabledControls = {}, e._visibilityRequests = {}, e._inputContextsToEnter = [], e._playerContext = [], e._overlays = {}, e._initialized = e.setupBehaviors(), e._isKeyboardFocused = void 0, e.setupTracking(), t._playlist && t._playlist.length > 1 && e.loadLastFrameCanvasControl(), e.on('playlistchange', function (t) { t.length > 1 && e.loadLastFrameCanvasControl() }); var n = e.on('beforereplace', function () { n(), e.loadLastFrameCanvasControl() }); return (0, o.onDocReady)(function () { (0, p.dynamicImport)('assets/external/playPauseLoadingControl.js').then(function (t) { (0, f.defineControl)(t.PlayPauseLoadingCircleControl) }), I.touchScreen && !e.publicApi.isLiveMedia() && (0, p.dynamicImport)('assets/external/skipControls.js').then(function (t) { (0, f.defineControl)(t.SkipAheadControl), (0, f.defineControl)(t.SkipBackControl) }) }), e._opts.techInfo && (0, p.dynamicImport)('assets/external/vulcanV2Player/video/controls/TechInfoControl/TechInfoControl.js').then(function (t) { (0, f.defineControl)(t.TechInfoControl) }), e._opts.spherical && (0, p.dynamicImport)('assets/external/vulcanV2Player/video/controls/SphericalControl/SphericalControl.js').then(function (t) { (0, f.defineControl)(t.SphericalControl) }), e.publicApi.isLiveMedia() && (0, p.dynamicImport)('assets/external/captions-v3.js').then(function (t) { (0, f.defineControl)(t.CaptionsV3Control) }), e } return e = L, n = [{ key: 'loadLastFrameCanvasControl', value: function () { this.ready(function () { (0, p.dynamicImport)('assets/external/vulcanV2Player/video/controls/LastFrameCanvasControl.js').then(function (t) { (0, f.defineControl)(t.LastFrameCanvasControl) }) }) } }, { key: 'setupBehaviors', value: function () { const t = this; return new Promise(function (e) { t.addBehaviors([y.default, v.default, m.default, g.default, k.PlaySuspendedOffScreenBehavior, b.default, _.ProblemMonitoringBehavior, w.default]), t.publicApi.isLiveMedia() || t.addBehavior(P.default), t._mediaData.type === 'Audio' ? Promise.all([(0, p.dynamicImport)('assets/external/vulcanV2Player/audio/AudioUIBehavior.js'), (0, p.dynamicImport)('assets/external/interFontFace.js')]).then(function (n) { const i = A(n, 1)[0]; t.addBehavior(i.AudioUIBehavior), e() }) : (t.addBehavior(O.default), e()) }) } }, { key: 'removeBehaviors', value: function () { for (const t in this.behaviors)C(this.behaviors, t) && this.removeBehavior(t) } }, { key: 'setupTracking', value: function () { this.publicApi.isLiveMedia() ? (this._tracker = new a.LiveMediaTracker(this.publicApi), this._tracker.monitor()) : (this._tracker = new i.Wistia.VideoTracker2(this.publicApi), this._tracker.visitorKey(), this._tracker.monitor()) } }, { key: 'elem', value: function () { return this.engine ? this.engine.getMediaElement() : (this._dummyVideo || (this._dummyVideo = document.createElement('video')), this._dummyVideo) } }, { key: 'embed', value: function (t) { const e = this; return this._initialized.then(function () { return t instanceof L ? e.behaviors.embed.embed(t) : e.behaviors.embed.embed() }) } }, { key: 'eventKey', value: function () { return this._tracker.eventKey() } }, { key: 'renderUI', value: function () { const t = this; return this.ui || (this.ui = this.behaviors.ui), (this.ui.lastRenderPromise || Promise.resolve()).then(function () { return t.ui.render() }) } }, { key: 'rebuild', value: function () { return this.behaviors.embed.rebuild(this) } }, { key: 'onDimensionChangeSafe', value: function () { if (this.grid) try { this.onWidthChange(this.videoWidth()), this.onHeightChange(this.videoHeight()) } catch (t) { this.error(t) } } }, { key: 'transferStateFrom', value: function (t) { this.behaviors.fullscreen && this.behaviors.fullscreen.transferStateFrom(t), this.isKeyboardFocused(t.isKeyboardFocused()), !0 !== this.publicApi._opts.skipFocus && this.focus() } }, { key: 'bestEngine', value: function () { return s.bestUsableEngine(this.publicApi.judyCtx(), this._mediaData, this._opts) } }, { key: 'initEngineAfterEmbedded', value: function () { const t = this; this.embedded(function () { return t.behaviors.embed.initializeEngine() }) } }, { key: 'setupBindings', value: function () { this.setupVideoBindings() } }, { key: 'setupVideoBindings', value: function () { const t = this; this.publicApi.bind('click', function () { t.initEngineAfterEmbedded() }), this.publicApi.bind('mouseenter', function () { t.initEngineAfterEmbedded() }), this.publicApi.bind('focusin', function () { t.initEngineAfterEmbedded() }), this.bind('widthchange', function (e) { t.onWidthChange(e) }), this.bind('heightchange', function (e) { t.onHeightChange(e) }) } }, { key: 'addBehavior', value: function (t) { const e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; this.behaviors == null && (this.behaviors = {}); const n = t.handle; if (n) { this.behaviors[n] && (this.behaviors[n].destroy(), this.behaviors[n] = null); try { const i = this.behaviors[n] = new t(this); return e && i.init(), i } catch (t) { setTimeout(function () { throw t }, 0), delete this.behaviors[n] } } else this.error('No handle defined for', t) } }, { key: 'addBehaviors', value: function (t) { const e = this; const n = t.map(function (t) { return e.addBehavior(t, !1) }); return n.forEach(function (t) { try { t.init() } catch (n) { e.error('error in init for', t.constructor.handle, 'behavior'), setTimeout(function () { throw n }, 0) } }), n } }, { key: 'removeBehavior', value: function (t) { this.behaviors[t] && (this.behaviors[t].destroy(), delete this.behaviors[t]) } }, { key: 'isMediaDataUsingEmbedSsl', value: function () { for (let t = 0; t < this._mediaData.assets.length; t++) { const e = this._mediaData.assets[t]; if (e.url && /embed-ssl\.wistia\.com/.test(e.url)) return !0 } return !1 } }, { key: 'onWidthChange', value: function (t) { this.engine && this.engine.onWidthChange(t) } }, { key: 'onHeightChange', value: function (t) { this.engine && this.engine.onHeightChange(t) } }, { key: 'controlScaling', value: function (t) { if (t == null) return this._controlScaling || 'auto'; const e = this._controlScaling; this._controlScaling = t, e !== t && this.trigger('controlscalingchange', t, e) } }, { key: 'audioDescriptionControlEnabled', value: function (t) { this.setControlEnabled('audioDescriptionButton', t) } }, { key: 'bigPlayButtonEnabled', value: function (t) { B(M(L.prototype), 'bigPlayButtonEnabled', this).call(this, t), this.setControlEnabled('bigPlayButton', t) } }, { key: 'bigPlayButtonTimeEnabled', value: function (t) { this.isControlEnabled('bigPlayButton') && this.ui.controls.bigPlayButton.setTimeEnabled(t) } }, { key: 'playPauseControlEnabled', value: function (t) { B(M(L.prototype), 'playPauseControlEnabled', this).call(this, t), this.setControlEnabled('smallPlayButton', t) } }, { key: 'playbarControlEnabled', value: function (t) { B(M(L.prototype), 'playbarControlEnabled', this).call(this, t), this.setControlEnabled('playbar', t) } }, { key: 'settingsControlEnabled', value: function (t) { B(M(L.prototype), 'settingsControlEnabled', this).call(this, t), this.setControlEnabled('settingsButton', t) } }, { key: 'playbackRateControlEnabled', value: function (t) { this.isControlEnabled('settingsButton') && this.ui.controls.settingsButton.setPlaybackRateEnabled(t) } }, { key: 'playPauseNotifierEnabled', value: function (t) { B(M(L.prototype), 'playPauseNotifierEnabled', this).call(this, t), this.setControlEnabled('playPauseNotifier', t) } }, { key: 'qualityControlEnabled', value: function (t) { this.isControlEnabled('settingsButton') && this.ui.controls.settingsButton.setQualityEnabled(t) } }, { key: 'volumeControlEnabled', value: function (t) { B(M(L.prototype), 'volumeControlEnabled', this).call(this, t), this.setControlEnabled('volumeButton', t) } }, { key: 'fullscreenControlEnabled', value: function (t) { B(M(L.prototype), 'fullscreenControlEnabled', this).call(this, t), this.setControlEnabled('fullscreenControl', t) } }, { key: 'hideControls', value: function () { return this.ui.releaseControls('showControls') } }, { key: 'showControls', value: function () { return this.requestControls('showControls', 4e3) } }, { key: 'requestChromeless', value: function (t, e) { return this.requestControls(t, e, !1) } }, { key: 'releaseChromeless', value: function (t) { return this.releaseControls(t) } }, { key: 'requestControls', value: function (t, e) { const n = this; const i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2]; return this._visibilityRequests[t] = i, e != null && (0, h.doTimeout)(''.concat(this.uuid, '.').concat(t, '.release_controls'), function () { n.releaseControls(t) }, e), this.ui.maybeToggleControls() } }, { key: 'releaseControls', value: function (t) { return this._visibilityRequests[t] = null, this.ui.maybeToggleControls() } }, { key: 'fit', value: function () { B(M(L.prototype), 'fit', this).call(this), this.embedded(function () {}) } }, { key: 'getBuffered', value: function () { if (!this.engine) return []; if (this.engine.activeBufferRange()) { const t = A(this.engine.activeBufferRange(), 2); return [{ start: t[0], end: t[1] }] } return [] } }, { key: 'rangeBuffered', value: function () { this.engine.activeBufferRange() } }, { key: 'timeBuffered', value: function () { const t = this.rangeBuffered(); return t ? t[1] - t[0] : 0 } }, { key: 'totalBuffered', value: function () { return this.engine ? this.engine.totalBuffered() : 0 } }, { key: 'totalPlayed', value: function () { return this.engine ? this.engine.totalPlayed() : 0 } }, { key: 'sequentialBufferedRange', value: function () { return this.engine ? this.engine.sequentialBufferedRange() : [0, 0] } }, { key: 'requestFullscreen', value: function () { return this.behaviors.fullscreen.requestFullscreen() } }, { key: 'cancelFullscreen', value: function () { return this.behaviors.fullscreen.cancelFullscreen() } }, { key: 'inFullscreen', value: function () { let t; return (t = this.behaviors.fullscreen) === null || void 0 === t ? void 0 : t.inFullscreen() } }, { key: 'stopStreaming', value: function () { this.info('stopStreaming'), this.engine && this.engine.stopStreaming() } }, { key: 'cleanup', value: function () { this.info('cleanup'), this.removeBehaviors() } }, { key: 'getVideoQuality', value: function () { return this.engine ? this.engine.getCurrentQuality() : 'auto' } }, { key: 'setVideoQuality', value: function () { const t = this; const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 'auto'; return new Promise(function (n) { t.info('videoQuality', e), t.initEngineAfterEmbedded(), t.ready(function () { n(t.engine.changeQuality(e, t.state() === 'playing')) }) }) } }, { key: 'changeAudioTrack', value: function (t) { const e = this; t != null && (this.initEngineAfterEmbedded(), this.info('changeAudioTrack', t), this.commandQueueOpen.synchronize(function (n) { e.ready(function () { e.engine.changeAudioTrack(t).then(n) }) })) } }, { key: 'getAudioTracks', value: function () { const t = this.bestEngine(); return this.engine ? this.engine.getAudioTracks() : t === 'engines/hls_video.js' || t === 'engines/native_hls_video.js' ? (0, E.audioTracksForVideo)((0, E.allHlsAudioAssets)(this._mediaData.assets)) : [] } }, { key: 'getCurrentAudioTrack', value: function () { return this.engine ? this.engine.getCurrentAudioTrack() : 0 } }, { key: 'selectedQuality', value: function () { return this.engine ? this.engine.selectedQuality() : 'auto' } }, { key: 'selectableQualities', value: function () { return this.engine ? this.engine.selectableQualities() : ['auto'] } }, { key: 'stillUrl', value: function (t) { return t = (0, c.merge)({ playButton: !1 }, t), B(M(L.prototype), 'stillUrl', this).call(this, t) } }, { key: 'play', value: function () { const t = this; this.suppressPlay() || this.trigger('playcalled'), this.initEngineAfterEmbedded(); const e = (0, u.inUserEventContext)() && !this.ready(); this.info('play'); const n = function () { t._isPlayPending = !1, t._lastPlayType = void 0, t._lastPlayRejectedAt = Date.now(), t.trigger('playrejected', t.lastPlayInfo()) }; return this.publicApi.isLiveMedia() && !1 === this.ready() ? (n(), console.log('The call to play() failed likely because the livestream media was not yet ready. Try calling play() in an onReady event instead.'), Promise.reject()) : this.suppressPlay() ? Promise.resolve() : (this._isPlayPending = !0, this._lastPlayType = void 0, this._lastPlaySource = (0, u.currentEventSource)(), this._lastPlayIssuedAt = Date.now(), this._lastPlayResolvedAt = null, this._lastPlayRejectedAt = null, this.trigger('playpending', this.lastPlayInfo()), new Promise(function (r, o) { t.ready(function () { t._calledPlay = !0, t._mozillaAtEnd() && t.engine.setCurrentTime(0); const a = {}; e && !1 === t._attrs.silentAutoplay && (a.silentAutoplay = 'allow', t.trigger('clicked-play-before-ready')), i.Wistia.detect.ios.version && i.Wistia.detect.ios.version < 10.1 && !(0, u.inUserEventContext)() && !t.engine.isInitializingFromUnmuted() && (t.notice('Play rejected because not in user context.'), n(), o()), t.engine.play(a).then(function (e) { t._isPlayPending = !1, t._lastPlayType = e, t._lastPlayResolvedAt = Date.now(), e !== 'play-silently' || t._inSilentPlaybackMode || (t._inSilentPlaybackMode = !0, t.trigger('silentplaybackmodechange', !0), t.embedElement.dispatchEvent(new CustomEvent('silentplaybackmodechange', { detail: { inSilentPlaybackMode: !0 } }))), r() }).catch(function (e) { t.notice(e), n(), o() }) }) })) } }, { key: 'pause', value: function () { const t = this; return this.info('pause'), this.trigger('receivepause'), this.initEngineAfterEmbedded(), this._isPausePending = !1, this._lastPauseSource = (0, u.currentEventSource)(), this._lastPauseIssuedAt = Date.now(), new Promise(function (e) { t.ready() && (t.engine.pause(), t._isPausePending = !1, e()) }) } }, { key: 'time', value: function (t, e) { const n = this; return t != null ? (this.info('time', t), this.state() === 'beforeplay' && (this._startPosition = t), this.initEngineAfterEmbedded(), new Promise(function (i) { n.state() === 'beforeplay' && (n._lastPlaySource = (0, u.currentEventSource)(), n._lastPlayIssuedAt = Date.now(), n._isPlayPending = !0, n._lastPlayType = void 0, n._isPausePending = !0, n._lastPauseIssuedAt = n._lastPlayIssuedAt, n._lastPauseSource = n._lastPlaySource), t = Math.max(0, Math.min(n.duration(), t)), n.ready(function () { if (e && e.lazy && n.state() !== 'playing') return n.engine.seekOnPlay(t).then(n.behaviors.relayEvents.fireTimeChangedEventsIfChanged), n._isPlayPending = !1, void i(); n.state() === 'beforeplay' ? n._seekPromise = n.engine.seek(t, e).catch(function (e) { n.notice(e), n.engine.seekOnPlay(t), n._isPlayPending = !1, n._lastPlayRejectedAt = Date.now(), n._lastPlayType = void 0, n.trigger('playrejected', n.lastPlayInfo()), i() }).then(function (t) { n.behaviors.relayEvents.fireTimeChangedEventsIfChanged(), n._isPlayPending = !1, n._isPausePending = !1, n._lastPlayType = t, t === 'play-silently' && (n._inSilentPlaybackMode = !0, n.trigger('silentplaybackmodechange', !0), n.embedElement.dispatchEvent(new CustomEvent('silentplaybackmodechange', { detail: { inSilentPlaybackMode: !0 } }))), i() }) : (n.info('time '.concat(t, ': set immediately')), n.engine.setCurrentTime(t), n.behaviors.relayEvents.fireTimeChangedEventsIfChanged(), i()) }) })) : this.engine && this.engine.getCurrentTime() || 0 } }, { key: 'duration', value: function () { if (this.publicApi.isLiveMedia()) return Infinity; if (this.engine) return this.engine.getDuration(); const t = this._mediaData.secondaryMediaData ? this._mediaData.secondaryMediaData.duration : this._mediaData.duration; const e = { attributes: { cuts: this._opts.cuts, duration: t, trimEnd: this._opts.trimEnd, trimStart: this._opts.trimStart } }; return (0, S.getDurationAfterCuts)(e) } }, { key: 'volume', value: function (t) { return t != null && (this.info('volume', t), t = Math.max(0, Math.min(1, t)), this.initEngineAfterEmbedded(), B(M(L.prototype), 'volumeAttr', this).call(this, t), this.ready() && this.engine.setVolume(t)), this.engine ? (B(M(L.prototype), 'volumeAttr', this).call(this, this.engine.getVolume()), this.engine.getVolume()) : this._attrs.volume != null ? this._attrs.volume : 1 } }, { key: 'mute', value: function () { const t = this; this._muted = !0, this.ready() ? this.engine.mute() : this.ready(function () { t.engine.mute() }) } }, { key: 'unmute', value: function () { this._muted = !1, this.ready() && (i.Wistia.detect.callingPlayRequiresEventContext ? this.state() !== 'playing' || (0, u.inUserEventContext)() ? (this.engine.unmute(), this._inSilentPlaybackMode && (this._inSilentPlaybackMode = !1, this.trigger('silentplaybackmodechange', !1), this.embedElement.dispatchEvent(new CustomEvent('silentplaybackmodechange', { detail: { inSilentPlaybackMode: !1 } })))) : this.notice('could not unmute') : (this.engine.unmute(), this._inSilentPlaybackMode && (this._inSilentPlaybackMode = !1, this.trigger('silentplaybackmodechange', !1), this.embedElement.dispatchEvent(new CustomEvent('silentplaybackmodechange', { detail: { inSilentPlaybackMode: !1 } }))))) } }, { key: 'isMuted', value: function () { return this.engine ? this.engine.isMuted() : this._muted != null ? this._muted : !!this._opts.muted } }, { key: 'isResumableEnabled', value: function () { return !(!this.behaviors[P.default.handle] || this._impl._startPosition != null || this.publicApi.isLiveMedia()) && (!0 === this._attrs.resumable || !1 !== this._attrs.resumable && this.meetsAutoCriteraForResumable()) } }, { key: 'meetsAutoCriteraForResumable', value: function () { const t = this.isControlEnabled('playbar') || this._attrs.playBarControl; return !(0, r.shorterThanResumableThreshold)(this.duration()) && !this._attrs.autoplay && !(this._attrs.endVideoBehavior === 'loop') && (t || this.isAudio()) } }, { key: 'setResumable', value: function (t) { B(M(L.prototype), 'setResumable', this).call(this, t), !1 === t ? this.behaviors.resumable.destroyResumableKey() : this.shouldResume() && this.behaviors.resumable.initResumableKey(), this.behaviors.embed.updateStartPosition() } }, { key: 'shouldResume', value: function () { return this.isResumableEnabled() && (0, r.withinResumableTime)(this.publicApi.hashedId(), this.duration()) } }, { key: 'state', value: function () { if (this.engine) { let t; const e = this.engine.getPlaybackMode(); return e === 'beforeplay' && (t = this.behaviors.relayEvents) !== null && void 0 !== t && t._hasPlayed ? 'paused' : e } return 'beforeplay' } }, { key: 'setAriaLiveText', value: function (t) { this.ui || (this.ui = this.behaviors.ui), this.ui.setAriaLiveText(t) } }, { key: 'lastPauseInfo', value: function () { return { source: this._lastPauseSource, issuedAt: this._lastPauseIssuedAt, isPending: !!this._isPausePending } } }, { key: 'lastPlayInfo', value: function () { return { source: this._lastPlaySource, issuedAt: this._lastPlayIssuedAt, isPending: !!this._isPlayPending, playType: this._lastPlayType, resolvedAt: this._lastPlayResolvedAt, rejectedAt: this._lastPlayRejectedAt } } }, { key: 'playerBackgroundColor', value: function (t) { if (t != null) { this.info('playerBackgroundColor', t); const e = this._attrs.playerBackgroundColor; return this._attrs.playerBackgroundColor = new l.Color(t).toHex(), e !== this._attrs.playerBackgroundColor && this.trigger('playerbackgroundcolorchange', this._attrs.playerBackgroundColor, e), this } return this._attrs.playerBackgroundColor } }, { key: 'preloadValue', value: function () { return this.behaviors.embed.preloadValue() } }, { key: 'width', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return t != null ? n.fullscreen || !this.inFullscreen() ? B(M(L.prototype), 'width', this).call(this, t, n) : (this.info('notFullscreen => width('.concat(t, ')')), this.notFullscreen(function () { B(M(L.prototype), 'width', e).call(e, t, n) }), this) : B(M(L.prototype), 'width', this).call(this, t, n) } }, { key: 'height', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return t != null ? n.fullscreen || !this.inFullscreen() ? B(M(L.prototype), 'height', this).call(this, t, n) : (this.info('notFullscreen => height('.concat(t, ')')), this.notFullscreen(function () { B(M(L.prototype), 'height', e).call(e, t, n) }), this) : B(M(L.prototype), 'height', this).call(this, t, n) } }, { key: 'videoWidth', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return t != null ? n.fullscreen || !this.inFullscreen() ? B(M(L.prototype), 'videoWidth', this).call(this, t, n) : (this.info('notFullscreen => videoWidth('.concat(t, ')')), this.notFullscreen(function () { B(M(L.prototype), 'videoWidth', e).call(e, t, n) }), this) : B(M(L.prototype), 'videoWidth', this).call(this, t, n) } }, { key: 'videoHeight', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return t != null && this.inFullscreen() ? (this.info('notFullscreen => videoHeight('.concat(t, ')')), this.notFullscreen(function () { B(M(L.prototype), 'videoHeight', e).call(e, t, n) }), this) : B(M(L.prototype), 'videoHeight', this).call(this, t, n) } }, { key: 'playbackRate', value: function (t) { const e = this; return t != null ? (this.initEngineAfterEmbedded(), this.ready(function () { e.info('playbackRate', t); const n = parseFloat(t); if (isNaN(n)) return e.error('playbackRate: Invalid argument "#{rate}" given. Expected a float.'), e; t = n; const i = e.engine.getPlaybackRate(); e.engine.setPlaybackRate(t), e._eventLoopDuration = Math.max(50, Math.min(500, e._baseEventLoopDuration / t)), e._playbackRate = t, i !== e._playbackRate && (e.trigger('playbackratechange', e._playbackRate), e.embedElement.dispatchEvent(new CustomEvent('ratechange', { detail: { playbackRate: e._playbackRate } }))) }), this) : this.engine ? this.engine.getPlaybackRate() : 1 } }, { key: 'trim', value: function (t) { const e = this; if (t == null) return this.engine.getTrim(); this.embedded(function () { (0, c.equalsDeep)(t, e.engine.getTrim()) || (e.engine.setTrim(t), e.trigger('trimchange', t)) }) } }, { key: 'captureCurrentFrame', value: function () { let t; return (t = this.engine).captureCurrentFrame.apply(t, arguments) } }, { key: 'getReportAProblemData', value: function (t) { const e = this; const n = function (t) { try { return t() } catch (t) { return 'threw exception: '.concat(t.message) } }; const r = W(this.publicApi._opts); const o = this.publicApi._optionSources(); Object.keys(o).forEach(function (t) { o[t] = W(o[t]) }); const a = { player_version: T.PLAYER_VERSION, media_key: this._mediaData.mediaKey, account_key: this._mediaData.accountKey, visitor_key: this.visitorKey(), event_key: this.eventKey(), referrer: document.referrer, page_url: location.href, extra_data: { first_1000_logs: i.Wistia.wlog.first1000LogLines(), last_1000_logs: i.Wistia.wlog.last1000LogLines(), browser_time: new Date(), option_sources: n(function () { return o }), embedOptions: r, active_plugins: n(function () { return Object.keys(e.publicApi.plugin) }), assets: this._mediaData.assets, selectedAsset: this.engine.selectedAsset(), attrs: this._attrs, judy: n(function () { return s.report(e.publicApi.judyCtx(), e._mediaData, e._opts) }), detect: i.Wistia.detect, engineDiagnostics: n(function () { return e.engine.diagnosticData() }) } }; for (const l in this.publicApi.plugin) { const u = this.publicApi.plugin[l]; typeof u.getReportAProblemData === 'function' && (a.extra_data[l] = u.getReportAProblemData()) } return a } }, { key: 'isKeyboardFocused', value: function (t) { return t != null && (this._isKeyboardFocused = t), this._isKeyboardFocused } }, { key: 'setControlEnabled', value: function (t, e) { const n = this; const i = this.isControlEnabled(t) !== e; this._enabledControls[t] = e; const r = function () { e ? n.trigger('controlenabled', t) : n.trigger('controldisabled', t) }; return i ? this.embedded() ? this.renderUI().then(r) : new Promise(function (t) { n.embedded(t), r() }) : this.ui && this.ui.lastRenderPromise || Promise.resolve() } }, { key: 'isControlDisabled', value: function (t) { const e = i.Wistia._controlDefinitions[t]; return !!(e && e.isVideoChrome && this._opts.chromeless) || !1 === this._enabledControls[t] } }, { key: 'isControlEnabled', value: function (t) { return !1 !== this._enabledControls[t] && this.publicApi.controls[t] != null } }, { key: 'whenControlMounted', value: function (t) { const e = this; return new Promise(function (n) { e.embedded(function () { e.behaviors.ui.whenControlMounted(t).then(n) }) }) } }, { key: 'getControl', value: function (t) { return this.ui && this.ui.controls && this.ui.controls[t] } }, { key: '_doEnterInputContexts', value: function () { const t = this; this._inputContextsToEnter = this._inputContextsToEnter.reverse().map(function (e) { const n = t._playerContext.indexOf(e); return n > 0 && t._playerContext.splice(n, 1), (n === -1 || n > 0) && (t._playerContext.unshift(e), t.trigger('inputcontextchange', e)), e }) } }, { key: 'enterInputContext', value: function (t) { const e = this; (0, h.clearTimeouts)(''.concat(this.uuid, '.enter_input_contexts')), this._inputContextsToEnter.push(t), (0, h.doTimeout)(''.concat(this.uuid, '.enter_input_contexts'), function () { e._doEnterInputContexts() }, 10) } }, { key: 'originalenterInputContext', value: function (t) { const e = this._playerContext.indexOf(t); e > 0 && this._playerContext.splice(e, 1), (e === -1 || e > 0) && (this._playerContext.unshift(t), this.trigger('inputcontextchange', t)) } }, { key: 'exitInputContext', value: function (t) { const e = this.getInputContext(); const n = this._playerContext.indexOf(t); if (n !== -1) { this._playerContext.splice(n, 1); const i = this.getInputContext(); e !== i && this.trigger('inputcontextchange', i) } } }, { key: 'getInputContext', value: function () { return this._playerContext[0] } }, { key: 'getMediaElement', value: function () { return this.engine && this.engine.getMediaElement() } }, { key: 'whenVideoElementInDom', value: function () { const t = this; return this._whenVideoElementInDom ? this._whenVideoElementInDom : this.engine ? Promise.resolve(this.getMediaElement()) : this._whenVideoElementInDom = new Promise(function (e) { t.bind('engine-initialized', function () { return e(t.getMediaElement()), t.unbind }) }) } }, { key: 'inSilentPlaybackMode', value: function () { return !!this._inSilentPlaybackMode } }, { key: 'checkForReady', value: function () { this.behaviors.embed.checkForReady() } }, { key: 'loadOverlayCode', value: function () { const t = this; return new Promise(function (e) { t.behaviors.overlays ? e() : (0, p.dynamicImport)('assets/external/vulcanV2Player/behaviors/OverlaysBehavior.js').then(function (n) { t.behaviors.overlays || t.addBehavior(n.OverlaysBehavior), e() }) }) } }, { key: 'defineOverlay', value: function (t, e) { const n = this; return this.loadOverlayCode().then(function () { n._overlays[t] = e }) } }, { key: 'requestOverlay', value: function (t) { const e = this; return this.loadOverlayCode().then(function () { return e.behaviors.overlays.requestOverlay(t) }) } }, { key: 'cancelOverlay', value: function (t) { const e = this; return this.loadOverlayCode().then(function () { return e.behaviors.overlays.cancelOverlay(t) }) } }, { key: 'undefineOverlay', value: function (t) { const e = this; return this.loadOverlayCode().then(function () { return e.behaviors.overlays.undefineOverlay(t) }) } }, { key: 'getOverlays', value: function () { return this._overlays } }, { key: 'layout', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if (t == null) return this._layout; this.whenVideoElementInDom().then(function () { e.engine.setLayout(t, n) }), this._layout = t } }, { key: 'focus', value: function () { this.isAudio() ? this.whenControlMounted('audioBackgroundFocus').then(function (t) { t.focus() }) : this.whenControlMounted('backgroundFocus').then(function (t) { t.focus() }) } }, { key: '_inNativeMode', value: function () { let t; return ((t = this.behaviors.ui) === null || void 0 === t ? void 0 : t.inNativeMode()) || !1 } }, { key: '_bandwidthTest', value: function () { return this.behaviors.bandwidthTest.bandwidthTest() } }, { key: '_mozillaAtEnd', value: function () { return this.behaviors.relayEvents.mozillaAtEnd() } }, { key: '_focusNextVisibleElem', value: function () { return this.behaviors.ui.focusNextVisibleElem() } }, { key: 'openTabMenu', value: function () { this.isAudio() && this.ui.openTabMenu() } }, { key: 'closeTabMenu', value: function () { this.isAudio() && this.ui.closeTabMenu() } }, { key: 'openChaptersTab', value: function () { const t = this; this.isAudio() && this.whenControlMounted('chaptersTab').then(function (e) { t.ui.setSelectedTab(e.constructor.handle), t.openTabMenu() }) } }, { key: 'openShareTab', value: function () { const t = this; this.isAudio() && this.whenControlMounted('shareTab').then(function (e) { t.ui.setSelectedTab(e.constructor.handle), t.openTabMenu() }) } }, { key: 'openTranscriptTab', value: function () { const t = this; this.isAudio() && this.whenControlMounted('transcriptTab').then(function (e) { t.ui.setSelectedTab(e.constructor.handle), t.openTabMenu() }) } }, { key: 'turnOffCaptions', value: function () { let t, e; (t = this.controls.captions) === null || void 0 === t || t.turnOff(), (e = this.controls.captionsButton) === null || void 0 === e || e.matchMenuToSelectedTextTrack() } }], n && x(e.prototype, n), d && x(e, d), Object.defineProperty(e, 'prototype', { writable: !1 }), L }(i.Wistia.Video)); i.Wistia.VulcanV2Player = L, i.Wistia.plugin('vulcanV2Player', function (t, e) { i.Wistia.info('vulcanV2Player no-op plugin executed') }); var W = function (t) { const e = (0, c.clone)(t); return e.container && (e.container = 'removed to avoid circular'), e } }i.Wistia.VulcanV2Player }, (t, e, n) => { n.d(e, { LiveMediaTracker: () => i.LiveMediaTracker }); var i = n(147) }, (t, e, n) => { n.d(e, { LiveMediaTracker: () => W }); const i = n(121); const r = n(5); const o = n(29); const a = n(148); const s = n(152); const l = n(153); function u (t) { return (function (t) { if (Array.isArray(t)) return c(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return c(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return c(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function c (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function h (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function d (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? h(Object(n), !0).forEach(function (e) { y(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function p (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, v(i.key), i) } } function f (t, e) { g(t, e), e.add(t) } function y (t, e, n) { return (e = v(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function v (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function m (t, e, n) { g(t, e), e.set(t, n) } function g (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') } function b (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n } function _ (t, e) { return (function (t, e) { if (e.get) return e.get.call(t); return e.value }(t, P(t, e, 'get'))) } function w (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, P(t, e, 'set'), n)), n } function P (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) } const O = new WeakMap(); const k = new WeakMap(); const S = new WeakMap(); const E = new WeakMap(); const T = new WeakMap(); const C = new WeakMap(); const A = new WeakMap(); const j = new WeakMap(); const x = new WeakMap(); const B = new WeakMap(); const R = new WeakMap(); const D = new WeakMap(); const M = new WeakSet(); const I = new WeakMap(); const L = new WeakSet(); var W = (function () { function t (e) { const n = this; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), f(this, L), f(this, M), m(this, O, { writable: !0, value: void 0 }), m(this, k, { writable: !0, value: void 0 }), m(this, S, { writable: !0, value: void 0 }), m(this, E, { writable: !0, value: [] }), m(this, T, { writable: !0, value: {} }), m(this, C, { writable: !0, value: void 0 }), y(this, 'SCOPE', 'live_event'), m(this, A, { writable: !0, value: function () { const t = _(n, k)._mediaData; w(n, E, []), w(n, S, new l.Client(t.analyticsHost)); const e = (0, s.getOrSetIsFirst)(n.hashedId, n.SCOPE, 'load'); w(n, C, a.PlaySession.load(_(n, O), { visitor_key: _(n, k).visitorKey(), session_key: (0, i.uniqId)(''.concat('a5b1196b7e41ce9c079b723e3fe4dd7f'.substring(0, 7), '_')), embed_url: _(n, k)._attrs.pageUrl, referrer_url: _(n, k)._attrs.referrerUrl, account_id: t.accountId, live_stream_event_id: t.liveStreamEventDetails.id, media_id: t.mediaId, media_type: 'Video', player_type: 'modern' }, { first: e, scope: n.SCOPE, captions: n.captionsEnabled, live: n.isLive, email: n.email })), b(n, M, F).call(n, n.lastEvent, { force: !0 }), _(n, k).state() === 'playing' && _(n, j).call(n), _(n, k).bind('play', _(n, j)), _(n, k).bind('pause', _(n, x)), _(n, k).bind('seek', _(n, R)), _(n, k).bind('end', _(n, D)), _(n, T).flush = setInterval(_(n, I), 5e3) } }), m(this, j, { writable: !0, value: function () { const t = (0, s.getOrSetIsFirst)(n.hashedId, n.SCOPE, a.PlaySession.Event.PLAY); const e = n.captionsEnabled; w(n, C, _(n, C).play(Date.now(), _(n, k).time(), { first: t, captions: e, live: n.isLive, email: n.email })); const i = _(n, C).lastEvent.event === a.PlaySession.Event.PLAY; b(n, M, F).call(n, n.lastEvent, { force: i }), _(n, T).update = setInterval(_(n, B), 5e3) } }), m(this, x, { writable: !0, value: function () { b(n, L, N).call(n, 'update'), w(n, C, _(n, C).pause(Date.now(), _(n, k).time(), { captions: n.captionsEnabled, live: n.isLive, email: n.email })), b(n, M, F).call(n, n.lastEvent) } }), m(this, B, { writable: !0, value: function () { n.isPlaying && (w(n, C, _(n, C).update(Date.now(), _(n, k).time(), { captions: n.captionsEnabled, live: n.isLive, email: n.email })), b(n, M, F).call(n, n.lastEvent)) } }), m(this, R, { writable: !0, value: function (t, e) { w(n, C, _(n, C).seek(Date.now(), e, t, { captions: n.captionsEnabled, live: n.isLive, email: n.email })), b(n, M, F).call(n, n.lastEvent) } }), m(this, D, { writable: !0, value: function () { w(n, C, _(n, C).end(Date.now(), _(n, k).time(), { captions: n.captionsEnabled, live: n.isLive, email: n.email })), b(n, M, F).call(n, n.lastEvent, { force: !0 }) } }), m(this, I, { writable: !0, value: function () { if (_(n, E).length !== 0) { const t = _(n, E); const e = d(d({}, _(n, C).meta), {}, { events: t, anonymize_ip: n.shouldAnonymizeIp }); w(n, E, []), _(n, k).debug('Submitting events', e), _(n, S).liveStream(e).then(function (t) { if (!t.ok) throw new Error('Failed to send tracking events. Server responded with status: '.concat(t.status)) }).catch(function (e) { _(n, k).error(e), w(n, E, [].concat(u(t), u(_(n, E))).sort(function (t, e) { return t.time - e.time })) }) } } }), w(this, O, Date.now()), w(this, k, e) } let e, n, c; return e = t, (n = [{ key: 'meta', get: function () { let t; return (t = _(this, C)) === null || void 0 === t ? void 0 : t.meta } }, { key: 'lastEvent', get: function () { let t; return (t = _(this, C)) === null || void 0 === t ? void 0 : t.lastEvent } }, { key: 'isPlaying', get: function () { let t; return (t = _(this, C)) === null || void 0 === t ? void 0 : t.isPlaying } }, { key: 'captionsEnabled', get: function () { return !!_(this, k).getSelectedCaptions() } }, { key: 'isLive', get: function () { let t, e; return !((t = _(this, k)._mediaData) === null || void 0 === t || (e = t.liveStreamEventDetails) === null || void 0 === e || !e.startedAt) } }, { key: 'hashedId', get: function () { return _(this, k).hashedId() } }, { key: 'shouldAnonymizeIp', get: function () { return Boolean(_(this, k)._opts.anonymizeIp || !(0, o.isVisitorTrackingEnabled)()) } }, { key: 'email', get: function () { return _(this, k).email() } }, { key: 'monitor', value: function () { const t = this; _(this, k).doNotTrack() || (this.stopMonitoring(), _(this, k).hasData(function () { return (0, r.pageLoaded)(_(t, A)) })) } }, { key: 'stopMonitoring', value: function () { _(this, I).call(this), b(this, L, N).call(this, 'flush'), b(this, L, N).call(this, 'update'), _(this, k).unbind('play', _(this, j)), _(this, k).unbind('pause', _(this, x)), _(this, k).unbind('seek', _(this, R)), _(this, k).unbind('end', _(this, D)) } }, { key: 'timeDelta', value: function () { return (new Date()).getTime() - _(this, O) } }, { key: 'eventKey', value: function () { let t; return (t = this.meta) === null || void 0 === t ? void 0 : t.session_key } }, { key: 'visitorKey', value: function () { return _(this, k).visitorKey() } }]) && p(e.prototype, n), c && p(e, c), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()); function F (t) { const e = (arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}).force; const n = void 0 !== e && e; _(this, k).debug(t), w(this, E, [].concat(u(_(this, E)), [t])), n && _(this, I).call(this) } function N (t) { _(this, T)[t] && (clearInterval(_(this, T)[t]), delete _(this, T)[t]) } }, (t, e, n) => { n.d(e, { PlaySession: () => i.PlaySession }); n(149); var i = n(150) }, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function r (t, e, n) { !(function (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') }(t, e)), e.set(t, n) } function o (t, e) { return (function (t, e) { if (e.get) return e.get.call(t); return e.value }(t, s(t, e, 'get'))) } function a (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, s(t, e, 'set'), n)), n } function s (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) }n.d(e, { InclusiveRange: () => c }); const l = new WeakMap(); const u = new WeakMap(); var c = (function () { function t (e, n) { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), r(this, l, { writable: !0, value: void 0 }), r(this, u, { writable: !0, value: void 0 }), a(this, l, e), a(this, u, n) } let e, n, s; return e = t, (n = [{ key: 'start', get: function () { return o(this, l) } }, { key: 'end', get: function () { return o(this, u) } }, { key: 'isEmpty', get: function () { return this.start == this.end } }, { key: 'isAscending', get: function () { return this.start <= this.end } }, { key: 'foreach', value: function (t) { for (let e = this.start; e <= this.end; ++e)t(e) } }, { key: 'reduce', value: function (t, e) { let n = e; return this.foreach(function (e) { n = t(n, e) }), n } }, { key: 'includes', value: function (t) { const e = Math.min(this.start, this.end); const n = Math.max(this.start, this.end); return e <= t && t <= n } }, { key: 'toJSON', value: function () { return { start: this.start, end: this.end } } }]) && i(e.prototype, n), s && i(e, s), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { n.d(e, { PlaySession: () => P }); let i; const r = n(151); const o = n(149); function a (t) { return (function (t) { if (Array.isArray(t)) return s(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return s(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return s(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function s (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function l (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function u (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? l(Object(n), !0).forEach(function (e) { d(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : l(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, p(i.key), i) } } function h (t, e) { f(t, e), e.add(t) } function d (t, e, n) { return (e = p(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function p (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function f (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') } function y (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n } function v (t, e) { return (function (t, e) { if (e.get) return e.get.call(t); return e.value }(t, g(t, e, 'get'))) } function m (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, g(t, e, 'set'), n)), n } function g (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) } const b = new WeakMap(); const _ = new WeakSet(); const w = new WeakSet(); var P = (function () { function t (e) { let n, i, r; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), h(this, w), h(this, _), r = { writable: !0, value: void 0 }, f(n = this, i = b), i.set(n, r), m(this, b, e) } let e, n, i; return e = t, n = [{ key: 'meta', get: function () { return v(this, b).meta } }, { key: 'startedAt', get: function () { return v(this, b).startedAt } }, { key: 'isPlaying', get: function () { return void 0 === v(this, b).inactiveAt } }, { key: 'scope', get: function () { return v(this, b).scope } }, { key: 'histogram', get: function () { return v(this, b).histogram } }, { key: 'history', get: function () { return v(this, b).history } }, { key: 'lastEvent', get: function () { return this.history[0] } }, { key: 'position', get: function () { return this.lastEvent.player_position } }, { key: 'play', value: function (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const r = i.first; const o = void 0 !== r && r; const s = i.captions; const l = void 0 !== s && s; const c = i.live; const h = void 0 !== c && c; const d = i.email; const p = u({ time: e, event: this.lastEvent.event === t.Event.LOAD ? t.Event.PLAY : t.Event.UNPAUSE, scope: this.scope, first: o, live: h, captions: l, email: d, player_position: n }, t.EMPTY_METRICS); return new t(u(u({}, v(this, b)), {}, { inactiveAt: void 0, history: [p].concat(a(this.history)) })) } }, { key: 'pause', value: function (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const r = i.captions; const o = void 0 !== r && r; const s = i.live; const l = void 0 !== s && s; const c = i.email; const h = y(this, _, O).call(this, n); const d = y(this, w, k).call(this, h); const p = u({ time: e, event: t.Event.PAUSE, scope: this.scope, live: l, captions: o, email: c, player_position: n }, d); return new t(u(u({}, v(this, b)), {}, { inactiveAt: e, histogram: this.histogram.union(h), history: [p].concat(a(this.history)) })) } }, { key: 'seek', value: function (e, n, i) { const r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {}; const o = r.captions; const s = void 0 !== o && o; const l = r.live; const c = void 0 !== l && l; const h = r.email; let d = t.EMPTY_METRICS; let p = this.histogram; let f = e; if (this.isPlaying) { const m = y(this, _, O).call(this, n); d = y(this, w, k).call(this, m), p = p.union(m), f = void 0 } const g = u({ time: e, event: t.Event.SEEK, scope: this.scope, live: c, captions: s, email: h, previous_player_position: n, player_position: i }, d); return new t(u(u({}, v(this, b)), {}, { inactiveAt: f, histogram: p, history: [g].concat(a(this.history)) })) } }, { key: 'update', value: function (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const r = i.captions; const o = void 0 !== r && r; const s = i.live; const l = void 0 !== s && s; const c = i.email; if (this.isPlaying) { const h = y(this, _, O).call(this, n); const d = y(this, w, k).call(this, h); const p = u({ time: e, event: t.Event.UPDATE, scope: this.scope, live: l, captions: o, email: c, player_position: n }, d); return new t(u(u({}, v(this, b)), {}, { histogram: this.histogram.union(h), history: [p].concat(a(this.history)) })) } return this } }, { key: 'end', value: function (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const r = i.captions; const o = void 0 !== r && r; const s = i.live; const l = void 0 !== s && s; const c = i.email; const h = y(this, _, O).call(this, n); const d = y(this, w, k).call(this, h); const p = u({ time: e, event: t.Event.END, scope: this.scope, live: l, captions: o, email: c, player_position: n }, d); return new t(u(u({}, v(this, b)), {}, { inactiveAt: e, histogram: this.histogram.union(h), history: [p].concat(a(this.history)) })) } }], i = [{ key: 'load', value: function (e, n) { const i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; const o = i.first; const a = void 0 !== o && o; const s = i.scope; const l = i.captions; const c = void 0 !== l && l; const h = i.live; const d = void 0 !== h && h; const p = i.email; const f = u({ time: e, event: t.Event.LOAD, scope: s, first: a, live: d, captions: c, email: p }, t.EMPTY_METRICS); return new t({ startedAt: e, meta: n, scope: s, inactiveAt: e, histogram: new r.Histogram(), history: [f] }) } }], n && c(e.prototype, n), i && c(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()); function O (t) { const e = this.lastEvent.event === i.Event.UPDATE; let n = this.position; e && (n += 1); const r = new o.InclusiveRange(Math.floor(n), Math.floor(t)); return r.isAscending ? r : void 0 } function k (t) { return t ? this.histogram.chunkInRangeBy(t, function (t) { return t.value === 0 }).reduce(function (t, e) { const n = e.at(0); const i = n.bucket; const r = n.value; const o = e.at(-1).bucket; return u(u({}, t), {}, r === 0 ? { unique_played_time: t.unique_played_time + e.length, unique_played_ranges: [].concat(a(t.unique_played_ranges), [{ start: i, end: o }]) } : { replayed_time: t.replayed_time + e.length, replayed_ranges: [].concat(a(t.replayed_ranges), [{ start: i, end: o }]) }) }, { unique_played_time: 0, unique_played_ranges: [], replayed_time: 0, replayed_ranges: [] }) : i.EMPTY_METRICS }i = P, d(P, 'Event', Object.freeze({ LOAD: 'load', PLAY: 'play', SEEK: 'seek', PAUSE: 'pause', UNPAUSE: 'unpause', UPDATE: 'update', END: 'end' })), d(P, 'EMPTY_METRICS', { unique_played_time: 0, unique_played_ranges: [], replayed_time: 0, replayed_ranges: [] }) }, (t, e, n) => { n.d(e, { Histogram: () => f }); const i = n(149); function r (t) { return (function (t) { if (Array.isArray(t)) return t }(t)) || s(t) || a(t) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function o (t) { return (function (t) { if (Array.isArray(t)) return l(t) }(t)) || s(t) || a(t) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function a (t, e) { if (t) { if (typeof t === 'string') return l(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); return n === 'Object' && t.constructor && (n = t.constructor.name), n === 'Map' || n === 'Set' ? Array.from(t) : n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? l(t, e) : void 0 } } function s (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) } function l (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function c (t, e, n) { !(function (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') }(t, e)), e.set(t, n) } function h (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, d(t, e, 'set'), n)), n } function d (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) } const p = new WeakMap(); var f = (function () { function t () { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), c(this, p, { writable: !0, value: void 0 }), h(this, p, e) } let e, n, a; return e = t, (n = [{ key: 'buckets', get: function () { return (function (t, e) { return e.get ? e.get.call(t) : e.value }(t = this, d(t, p, 'get'))); let t } }, { key: 'valueAt', value: function (t) { return this.buckets[t] || 0 } }, { key: 'union', value: function (e) { const n = this; if (!e) return this; const r = o(this.buckets); return e.foreach(function (t) { r[t] = n.valueAt(t) + 1 }), new i.InclusiveRange(0, e.start - 1).foreach(function (t) { r[t] = n.valueAt(t) }), new t(r) } }, { key: 'chunkInRangeBy', value: function (t, e) { const n = this; const i = Symbol('empty'); const a = t.reduce(function (t, i) { const a = t.chunks; const s = t.flip; const l = { bucket: i, value: n.valueAt(i) }; const u = e(l); if (s !== u) return { chunks: [[l]].concat(o(a)), flip: u }; const c = r(a); const h = c[0]; const d = c.slice(1); return { chunks: [[].concat(o(h), [l])].concat(o(d)), flip: s } }, { chunks: [], flip: i }); return a.chunks.reverse() } }]) && u(e.prototype, n), a && u(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { n.d(e, { getOrSetIsFirst: () => s }); const i = n(31); function r (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function o (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? r(Object(n), !0).forEach(function (e) { a(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function a (t, e, n) { return (e = (function (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(e))) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var s = function (t, e, n) { const r = ['wistia', t, e].join('.'); const s = (0, i.getLocalStorage)(r); return !(n in s) && ((0, i.setLocalStorage)(r, o(o({}, s), {}, a({}, n, 1))), !0) } }, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, o(i.key), i) } } function r (t, e, n) { return e && i(t.prototype, e), n && i(t, n), Object.defineProperty(t, 'prototype', { writable: !1 }), t } function o (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function a (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') } function s (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, l(t, e, 'set'), n)), n } function l (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) }n.d(e, { Client: () => h }); const u = new WeakMap(); const c = new WeakSet(); var h = r(function t (e) { let n; let i; const r = this; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), a(n = this, i = c), i.add(n), (function (t, e, n) { a(t, e), e.set(t, n) }(this, u, { writable: !0, value: void 0 })), (function (t, e, n) { (e = o(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n }(this, 'liveStream', function (t) { return (function (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n }(r, c, d)).call(r, '/live-stream/1.0.0', t) })), s(this, u, e) }); function d (t, e) { let n; const i = new URL(t, (function (t, e) { return e.get ? e.get.call(t) : e.value }(n = this, l(n, u, 'get')))); return fetch(i, { method: 'POST', headers: { 'Content-Type': 'application/json', Accept: 'application/json' }, mode: 'cors', credentials: 'omit', body: JSON.stringify(e), keepalive: !0 }) } }, (t, e, n) => { const i = n(3); const r = n(2); const o = n(39); const a = n(62); const s = n(155); const l = n(156); const u = n(159); const c = n(60); const h = n(38); const d = n(37); function p () { return p = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, p.apply(this, arguments) } function f (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, b(i.key), i) } } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(0, h.defineTranslations)('en-US', { AUDIO_DESCRIPTION_HIDE_MENU: 'Hide audio description menu', AUDIO_DESCRIPTION_SHOW_MENU: 'Show audio description menu' }); const _ = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(u, t)); let e; let n; let i; const a = v(u); function u (t) { let e, n, i, r; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, u)), e = a.call(this, t), n = m(e), r = function (t) { const n = e.video.engine.getCurrentAudioTrackId(); Number(n) !== Number(t) && e.video.changeAudioTrack(t), (0, d.isMouseDownRecently)() && setTimeout(function () { e.dialog.close(), e.buttonRoot.parentElement.focus() }, 300) }, (i = b(i = 'onClickTrack')) in n ? Object.defineProperty(n, i, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : n[i] = r, e.video = t, e.unbinds.push(t.on('playerlanguagechange', function () { e.menuElem && e.renderMenu() }), t.on('audiostreamchange', function () { e.menuElem && e.renderMenu() })), e } return e = u, (n = [{ key: 'controlDialogOpened', value: function () { this.updateButtonLabel() } }, { key: 'controlDialogClosed', value: function () { this.updateButtonLabel() } }, { key: 'destroy', value: function () { (0, c.destroyControl)(this) } }, { key: 'mountButton', value: function (t) { this.buttonRoot = t, this.renderButton() } }, { key: 'mountDialog', value: function (t) { const e = this; this.dialogRoot = t; const n = (0, o.dynamicImport)('assets/external/interFontFace.js').then(function () { e.renderMenu() }); return this.loading(new Promise(function (t) { n.then(t) })), n } }, { key: 'onControlPropsUpdated', value: function (t) { this.dialog && this.dialog.isOpen() && this.renderMenu(), t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code && (this.renderButton(), this.renderMenu()) } }, { key: 'renderButton', value: function () { this.updateButtonLabel(), (0, r.render)((0, r.h)(s.default, null), this.buttonRoot), this.reactMounts.button = [this.buttonRoot] } }, { key: 'renderMenu', value: function () { const t = this; if (this.dialog.isOpen() && this.dialogRoot) { const e = this.video.engine.getAudioTracks(); (0, r.render)((0, r.h)(l.AudioDescriptionMenu, p({}, this.props, { elemRef: function (e) { return t.menuElem = e }, onClick: this.onClickTrack, scale: this.props.scale, tracks: e })), this.dialogRoot), this.reactMounts.menu = [this.dialogRoot] } } }, { key: 'updateButtonLabel', value: function () { this.dialog && (this.dialog.isOpen() ? this.setButtonLabel(this.translate('HIDE_MENU')) : this.setButtonLabel(this.translate('SHOW_MENU'))) } }, { key: 'translate', value: function (t) { return (0, h.getTranslation)(this.props.playerLanguage.code, 'AUDIO_DESCRIPTION_'.concat(t)) } }]) && f(e.prototype, n), i && f(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), u }(u.default)); _.shouldMount = function (t) { let e, n, i; return !(function (t) { let e; const n = (e = t.embedOptions().plugin) === null || void 0 === e ? void 0 : e.extendedAudioDescription; return n && !1 !== n.on }(t)) && !1 !== t.embedOptions().audioDescriptionIsRequired && ((e = (n = t._impl) === null || void 0 === n || (i = n.getAudioTracks) === null || void 0 === i ? void 0 : i.call(n)) !== null && void 0 !== e ? e : []).length > 1 }, _.handle = 'audioDescriptionButton', _.type = 'control-bar-right', _.sortValue = 51, _.isVideoChrome = !0, (0, a.defineControl)(_), i.Wistia.AudioDescriptionControl = _ }, (t, e, n) => { n.d(e, { default: () => f }); const i = n(2); const r = n(35); function o () { return o = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o.apply(this, arguments) } function a (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function s (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? a(Object(n), !0).forEach(function (e) { l(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function l (t, e, n) { return (e = c(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, c(i.key), i) } } function c (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } const f = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(c, t)); let e; let n; let a; const l = d(c); function c () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)), l.apply(this, arguments) } return e = c, (n = [{ key: 'shouldComponentUpdate', value: function () { return !1 } }, { key: 'render', value: function () { const t = { fill: 'none', stroke: '#ffffff', 'stroke-width': '1.8', 'stroke-linecap': 'round' }; const e = s(s({}, t), {}, { 'stroke-linejoin': 'round' }); return (0, i.h)('svg', o({}, (0, r.standardSvgAttrs)({ width: 40, height: 34, ariaHidden: !0 }), { onMouseEnter: this.props.onMouseEnter }), (0, i.h)('g', e, (0, i.h)('path', { d: 'M19.6,14.5c2.2,0,3,1.4,3,2.8c0,1.3-0.7,2.8-3,2.8h-1.5v-5.6H19.6z' }), (0, i.h)('polyline', { points: '9.9,20.1 12.5,14.5 14.9,20.1' }), (0, i.h)('path', { d: 'M10.4,18.9h4' })), (0, i.h)('g', t, (0, i.h)('path', { d: 'M27.4,24.7c2.2-2.1,3.2-4.9,3.2-7.4c0-2.7-1-5.3-3.2-7.4' }), (0, i.h)('path', { d: 'M24.5,12.8c1.4,1.2,2,2.8,2,4.5c0,1.6-0.5,3.3-2,4.5' }))) } }]) && u(e.prototype, n), a && u(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(i.Component)) }, (t, e, n) => { n.d(e, { AudioDescriptionMenu: () => h }); const i = n(2); const r = n(157); const o = n(158); function a () { return a = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, a.apply(this, arguments) } function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function l (t, e) { return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, l(t, e) } function u (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = c(t); if (e) { const r = c(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function c (t) { return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, c(t) } var h = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && l(t, e) }(d, t)); let e; let n; let c; const h = u(d); function d () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, d)), h.apply(this, arguments) } return e = d, (n = [{ key: 'render', value: function () { const t = this; return (0, i.h)('div', null, (0, i.h)('fieldset', { style: { border: 0, padding: 0, margin: 0 } }, (0, i.h)(r.default, { tagName: 'legend' }, 'Audio Description Menu'), this.props.tracks.map(function (e, n) { return (0, i.h)(o.AudioTrackMenuItem, a({}, t.props, { track: e, id: n, isLastItem: n === t.props.tracks.length - 1, isFirstItem: n === 0 })) }))) } }]) && s(e.prototype, n), c && s(e, c), Object.defineProperty(e, 'prototype', { writable: !1 }), d }(i.Component)) }, (t, e, n) => { n.d(e, { default: () => u }); const i = n(2); function r () { return r = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, r.apply(this, arguments) } function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function a (t, e) { return a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, a(t, e) } function s (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = l(t); if (e) { const r = l(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function l (t) { return l = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, l(t) } const u = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && a(t, e) }(c, t)); let e; let n; let l; const u = s(c); function c () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)), u.apply(this, arguments) } return e = c, (n = [{ key: 'render', value: function () { const t = this.props.tagName || 'div'; return (0, i.h)(t, r({}, this.props, { ref: this.props.elemRef, style: this.visuallyHiddenStyles() }), this.props.children) } }, { key: 'visuallyHiddenStyles', value: function () { return { clip: 'rect(1px, 1px, 1px, 1px)', height: '1px', overflow: 'hidden', position: 'absolute', whiteSpace: 'nowrap', width: '1px' } } }]) && o(e.prototype, n), l && o(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(i.Component)) }, (t, e, n) => { n.d(e, { AudioTrackMenuItem: () => g }); const i = n(2); const r = n(33); const o = n(37); const a = n(35); const s = n(20); const l = n(38); const u = n(157); function c () { return c = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, c.apply(this, arguments) } function h (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, m(i.key), i) } } function d (t, e) { return d = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, d(t, e) } function p (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = y(t); if (e) { const r = y(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return f(t) }(this, n)) } } function f (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function y (t) { return y = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, y(t) } function v (t, e, n) { return (e = m(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function m (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(0, l.defineTranslations)('en-US', { AUDIO_DESCRIPTION_OFF: 'Off' }); var g = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && d(t, e) }(g, t)); let e; let n; let y; const m = p(g); function g (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, g)), v(f(e = m.call(this, t)), 'onBlur', function () { e.state.isKeyboardFocused && e.setState({ isKeyboardFocused: !1 }) }), v(f(e), 'onClick', function () { e.props.onClick(e.props.id) }), v(f(e), 'onFocus', function () { (0, o.isMouseDown)() || e.setState({ isKeyboardFocused: !0 }) }), v(f(e), 'onMouseEnter', function () { e.setState({ isHovering: !0 }) }), v(f(e), 'onMouseLeave', function () { e.setState({ isHovering: !1 }) }), e.uuid = (0, s.seqId)(), e } return e = g, (n = [{ key: 'checkStyle', value: function () { return { height: _(this), verticalAlign: 'middle', visibility: this.props.track.isSelected ? 'visible' : 'hidden', width: b(this) } } }, { key: 'menuItemStyle', value: function () { const t = this.props.controlBarBorderRadius; return { background: this.state.isHovering ? 'rgba(0,0,0,.3)' : '', borderBottomLeftRadius: this.props.isLastItem ? ''.concat(t, 'px') : 0, borderBottomRightRadius: this.props.isLastItem ? ''.concat(t, 'px') : 0, borderTopLeftRadius: this.props.isFirstItem ? ''.concat(t, 'px') : 0, borderTopRightRadius: this.props.isFirstItem ? ''.concat(t, 'px') : 0, boxShadow: this.state.isKeyboardFocused ? '0 0 0 2px #fff inset' : 'none', display: 'block', fontFamily: r.interFontFamily, fontSize: w(this), lineHeight: _(this), marginRight: ''.concat(10 * this.props.scale, 'px'), textAlign: 'left', width: '100%' } } }, { key: 'translate', value: function (t) { return (0, l.getTranslation)(this.props.playerLanguage.code, 'AUDIO_DESCRIPTION_'.concat(t)) } }, { key: 'render', value: function () { const t = this.props; const e = t.track; const n = t.elemRef; let r = e.label; r === 'Original' && (r = this.translate('OFF')); const o = 'AD-'.concat(this.uuid, '-').concat(r, '+').concat(e.id); return (0, i.h)('div', { onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave, ref: n, style: this.menuItemStyle() }, (0, i.h)(u.default, { checked: Boolean(e.isSelected), id: o, name: 'Audio Description Menu', onBlur: this.onBlur, onClick: this.onClick, onFocus: this.onFocus, tagName: 'input', type: 'radio', value: r }), (0, i.h)('label', { class: 'w-css-reset', for: o }, (0, i.h)('svg', c({}, (0, a.standardSvgAttrs)({ width: 40, height: 34 }), { class: 'w-checkmark', style: this.checkStyle() }), (0, i.h)('polyline', { fill: 'none', stroke: '#ffffff', 'stroke-width': '2', 'stroke-linecap': 'round', 'stroke-linejoin': 'round', 'stroke-miterlimit': '10', points: '17,17 20,20 25,14 ' })), r)) } }]) && h(e.prototype, n), y && h(e, y), Object.defineProperty(e, 'prototype', { writable: !1 }), g }(i.Component)); var b = function (t) { return ''.concat((function (t) { return 40 * t.props.scale }(t)), 'px') }; var _ = function (t) { return ''.concat((function (t) { return 34 * t.props.scale }(t)), 'px') }; var w = function (t) { return 14 * t.props.scale } }, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function r (t, e, n) { !(function (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') }(t, e)), e.set(t, n) } function o (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, a(t, e, 'set'), n)), n } function a (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) }n.d(e, { default: () => l }); const s = new WeakMap(); const l = (function () { function t (e) { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), r(this, s, { writable: !0, value: void 0 }), this.video = e, this.embedElement = e.container, this.unbinds = [], this.eventListeners = new Map(), this.reactMounts = {}, this.isWistiaPlayer = this.embedElement.tagName === 'WISTIA-PLAYER', this.impl = e, this.api = this.isWistiaPlayer ? this.embedElement : e.publicApi } let e, n, l; return e = t, (n = [{ key: 'mount', value: function (t) { this.rootElem = t } }, { key: 'disabledButton', get: function () { return (function (t, e) { return e.get ? e.get.call(t) : e.value }(t = this, a(t, s, 'get'))); let t }, set: function (t) { o(this, s, t) } }]) && i(e.prototype, n), l && i(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { n(3); const i = n(2); const r = n(39); const o = n(159); const a = n(161); const s = n(60); const l = n(62); const u = n(38); function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, v(i.key), i) } } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = f(t); if (e) { const r = f(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return p(t) }(this, n)) } } function p (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function f (t) { return f = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, f(t) } function y (t, e, n) { return (e = v(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function v (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function m (t, e, n) { g(t, e), e.set(t, n) } function g (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') } function b (t, e) { return (function (t, e) { if (e.get) return e.get.call(t); return e.value }(t, w(t, e, 'get'))) } function _ (t, e, n) { return (function (t, e, n) { if (e.set)e.set.call(t, n); else { if (!e.writable) throw new TypeError('attempted to set read only private field'); e.value = n } }(t, w(t, e, 'set'), n)), n } function w (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to ' + n + ' private field on non-instance'); return e.get(t) }(0, u.defineTranslations)('en-US', { CAPTIONS_DISABLED: 'No captions available', CAPTIONS_HIDE_MENU: 'Hide captions menu', CAPTIONS_OFF: 'Off', CAPTIONS_SHOW_MENU: 'Show captions menu', CAPTIONS_TURN_OFF: 'Turn off captions', CAPTIONS_TURN_ON: 'Turn on captions' }); const P = 'disabled'; const O = 'on'; const k = 'off'; const S = new WeakMap(); const E = new WeakMap(); const T = new WeakSet(); const C = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(l, t)); let e; let n; let r; const o = d(l); function l (t) { let e, n, i; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, l)), e = o.call(this, t), g(n = p(e), i = T), i.add(n), m(p(e), S, { writable: !0, value: void 0 }), m(p(e), E, { writable: !0, value: void 0 }), y(p(e), 'onClickButton', function () { let t; if ((t = e.captionsV3Control) !== null && void 0 !== t && t.selectedLanguage)e.captionsV3Control.setLanguage(void 0), _(p(e), E, k); else { const n = e.captionsV3Control.captionAndSubtitleTextTracks()[0].language; e.captionsV3Control.setLanguage(n), _(p(e), E, O) }e.renderButton() }), e.video = t, e.unbinds = [], e.disabledButton = !0, _(p(e), E, P), (function (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n }(p(e), T, A)).call(p(e)).then(function () { e.captionsV3Control.captionAndSubtitleTextTracks().length > 0 && (e.disabledButton = !1, _(p(e), E, k), e.renderButton()), e.unbinds.push(e.video.on('addtrack', function () { e.disabledButton = !1, _(p(e), E, k), e.renderButton() }), e.video.on('captionschange', function () { e.captionsV3Control.selectedLanguage ? _(p(e), E, O) : _(p(e), E, k), e.renderButton() })) }), e } return e = l, (n = [{ key: 'destroy', value: function () { (0, s.destroyControl)(this) } }, { key: 'mountButton', value: function (t) { this.buttonRoot = t, this.renderButton() } }, { key: 'onControlPropsUpdated', value: function (t) { this.dialog && this.dialog.isOpen() && this.renderDialog(), t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code && this.updateButtonLabel() } }, { key: 'renderButton', value: function () { let t; !this.video._inNativeMode() && this.buttonRoot && (this.updateButtonLabel(), (0, i.render)((0, i.h)(a.default, { onClick: this.onClickCaptionsButton, color: this.video.playerColor(), filled: Boolean((t = this.captionsV3Control) === null || void 0 === t ? void 0 : t.selectedTrack) }), this.buttonRoot), this.reactMounts.button = [this.buttonRoot]) } }, { key: 'updateButtonLabel', value: function () { let t; const e = (y(t = {}, O, 'CAPTIONS_TURN_OFF'), y(t, k, 'CAPTIONS_TURN_ON'), y(t, 'menu-closed', 'CAPTIONS_SHOW_MENU'), y(t, 'menu-open', 'CAPTIONS_HIDE_MENU'), y(t, P, 'CAPTIONS_DISABLED'), t)[b(this, E)]; const n = (0, u.getTranslation)(this.props.playerLanguage.code, e); this.setButtonLabel(n) } }]) && c(e.prototype, n), r && c(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), l }(o.default)); function A () { const t = this; return b(this, S) || _(this, S, (0, r.dynamicImport)('assets/external/captions-v3.js').then(function (e) { return (0, l.defineControl)(e.CaptionsV3Control), t.video.whenControlMounted('captionsV3') }).then(function () { t.captionsV3Control = t.video.controls.captionsV3 })), b(this, S) }C.handle = 'captionsV3Button', C.type = 'control-bar-right', C.sortValue = 50, C.shouldMount = function (t) { return t.isLiveMedia() }, (0, l.defineControl)(C) }, (t, e, n) => { n.d(e, { default: () => f }); const i = n(2); const r = n(35); function o () { return o = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o.apply(this, arguments) } function a (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function s (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? a(Object(n), !0).forEach(function (e) { l(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : a(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function l (t, e, n) { return (e = c(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, c(i.key), i) } } function c (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } const f = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(c, t)); let e; let n; let a; const l = d(c); function c () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)), l.apply(this, arguments) } return e = c, (n = [{ key: 'shouldComponentUpdate', value: function (t) { return this.props.filled !== t.filled } }, { key: 'render', value: function () { const t = { 'stroke-linecap': 'round', 'stroke-miterlimit': 10 }; const e = s(s({}, t), {}, { fill: this.props.filled ? '#fff' : 'none', stroke: '#ffffff' }); const n = s(s({}, t), {}, { fill: 'none', stroke: this.props.filled ? '#'.concat(this.props.color) : '#fff' }); return (0, i.h)('svg', (0, r.standardSvgAttrs)({ width: 40, height: 34 }), (0, i.h)('g', null, (0, i.h)('path', o({}, e, { 'stroke-width': '2', d: 'M31,21.9c0,1.6-1.4,3-3,3H12c-1.6,0-3-1.4-3-3V12c0-1.6,1.4-3,3-3h16c1.6,0,3,1.4,3,3V21.9z' }))), (0, i.h)('g', null, (0, i.h)('path', o({}, n, { 'stroke-width': '1.8', d: 'M18.4,18.7c-0.5,0.7-1.1,1.2-2.1,1.2c-1.3,0-2.4-1.1-2.4-2.8c0-1.6,1-2.8,2.4-2.8c1,0,1.6,0.5,2,1.2' }))), (0, i.h)('g', null, (0, i.h)('path', o({}, n, { 'stroke-width': '1.8', d: 'M25.8,18.7c-0.5,0.7-1.1,1.2-2.1,1.2c-1.3,0-2.4-1.1-2.4-2.8c0-1.6,1-2.8,2.4-2.8c1,0,1.6,0.5,2,1.2' })))) } }]) && u(e.prototype, n), a && u(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(i.Component)) }, (t, e, n) => { n(3); const i = n(2); const r = n(45); const o = n(11); const a = n(159); const s = n(60); const l = n(62); const u = n(38); function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, v(i.key), i) } } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = f(t); if (e) { const r = f(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return p(t) }(this, n)) } } function p (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function f (t) { return f = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, f(t) } function y (t, e, n) { return (e = v(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function v (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const m = (0, o.cachedDetect)(); (0, u.defineTranslations)('en-US', { BACKGROUND_FOCUS_SHOW_CONTROLS: 'Show controls' }); const g = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(l, t)); let e; let n; let o; const a = d(l); function l (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, l)), y(p(e = a.call(this, t)), 'onControlPropsUpdated', function (t) { const n = e.props.isFocusable; t.isFocusable != n && n && e._focusImmediately && (e.el.focus({ preventScroll: !0 }), e._focusImmediately = !1) }), y(p(e), 'focus', function () { e.props.isFocusable ? e.el.focus({ preventScroll: !0 }) : e._focusImmediately = !0 }), y(p(e), 'onBlur', function () { e.video.exitInputContext('background-focus'), e.video.controls.focusOutline.hide() }), y(p(e), 'onFocus', function () { e.video.enterInputContext('background-focus'), !0 === e.video.isKeyboardFocused() && e.video.controls.focusOutline.show() }), y(p(e), 'render', function () { const t = !e.video.publicApi.popover || e.video.publicApi.popover.isVisible() ? 0 : -1; (0, i.render)((0, i.h)('button', { ref: function (t) { return e.el = t }, 'aria-label': ''.concat(e.getTranslation(), ': ').concat((0, r.unescapeHtml)(e.video.name() || '')), class: 'w-css-reset w-vulcan-v2-button', onBlur: e.onBlur, onFocus: e.onFocus, style: e.style(), tabIndex: t }), e.rootElem), e.reactMounts = [e.rootElem] }), e.video = t, e._focusImmediately = !1, e.unbinds.push(e.video.on('play', e.render), e.video.on('pause', e.render), e.video.on('end', e.render)), e } return e = l, (n = [{ key: 'destroy', value: function () { (0, s.destroyControl)(this) } }, { key: 'mount', value: function (t) { this.rootElem = t, this.render() } }, { key: 'style', value: function () { return { width: 0, height: 0, pointerEvents: 'none' } } }, { key: 'getTranslation', value: function () { return m.touchScreen && !this.props.chromeless ? this.translate('BACKGROUND_FOCUS_SHOW_CONTROLS') : this.video.state() === 'playing' ? this.translate('PLAY_BUTTON_TITLE_WHEN_PLAYING') : this.translate('PLAY_BUTTON_TITLE_WHEN_NOT_PLAYING') } }, { key: 'translate', value: function (t) { return (0, u.getTranslation)(this.props.playerLanguage.code, t) } }]) && c(e.prototype, n), o && c(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), l }(a.default)); g.shouldMount = function () { return !0 }, g.handle = 'backgroundFocus', g.type = 'background', g.sortValue = 100, (0, l.defineControl)(g) }, (t, e, n) => { const i = n(164); const r = n(2); const o = n(159); const a = n(165); const s = n(60); const l = n(62); const u = n(166); function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, v(i.key), i) } } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = f(t); if (e) { const r = f(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return p(t) }(this, n)) } } function p (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function f (t) { return f = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, f(t) } function y (t, e, n) { return (e = v(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function v (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const m = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(f, t)); let e; let n; let o; const l = d(f); function f (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, f)), y(p(e = l.call(this, t)), 'renderButton', function () { if (!e.__destroyed && !e.hiddenButton) { const t = !e.video.publicApi.popover || e.video.publicApi.popover.isVisible() ? 0 : -1; const n = (0, u.default)(a.BigPlayButton); (0, r.render)((0, r.h)(n, { baseHeight: 80, baseWidth: 125, borderRadius: e.props.bigPlayButtonBorderRadius, buttonTabIndex: t, color: e.video.playerColor(), duration: e.video.duration(), elemRef: function (t) { return e.buttonElem = t }, isLiveMedia: e.video.isLiveMedia(), isVisible: e.shouldShow(), leftNudgeFraction: e.getLeftNudgeFraction(), noMixBlendMode: e.video.embedOptions().noMixBlendMode, onClick: e.onClick, controlBarDistance: e.props.controlBarDistance, playerLanguage: e.props.playerLanguage, scale: e.scale(), showBpbTime: e._timeEnabled, topNudgeFraction: e.getTopNudgeFraction(), videoHeight: e.props.videoHeight - 0.75 * e.props.controlBarHeight, videoName: e.video.name() || '', videoWidth: e.props.videoWidth }), e.rootElem), e.reactMounts = [e.rootElem] } }), y(p(e), 'onClick', function () { e.video.play(), e.video.focus() }), e.video = t, e.eventListeners.set('playercolorchange', function () { return e.renderButton() }), e.unbinds.push(t.on('play', e.renderButton), t.on('playrejected', e.renderButton), t.on('playpending', e.renderButton), t.on('playerlanguagechange', e.renderButton), t.on('end', e.renderButton), t.on('up', e.renderButton), t.on('trimchange', e.renderButton)), e._timeEnabled = e.video._opts.bpbTime, e.hiddenButton = e.video.isLiveMedia(), e.video.isLiveMedia() && e.video.ready(function () { e.hiddenButton = !1, e.renderButton() }), e } return e = f, (n = [{ key: 'mount', value: function (t) { this.rootElem = t, this.renderButton() } }, { key: 'destroy', value: function () { (0, s.destroyControl)(this) } }, { key: 'onControlPropsUpdated', value: function (t) { this.props.videoWidth === t.videoWidth && this.props.videoHeight === t.videoHeight && this.props.bigPlayButtonBorderRadius === t.bigPlayButtonBorderRadius || this.renderButton() } }, { key: 'shouldShow', value: function () { const t = this.video; return !1 === t.lastPlayInfo().isPending && (t.state() === 'beforeplay' || t.state() === 'ended' && t._attrs.endVideoBehavior === 'reset') } }, { key: 'scale', value: function () { return Math.min(1.3, Math.max(0.3, (0, i.controlMultiplierBasedOnVideo)(this.video, [640, 960]))) } }, { key: 'setTimeEnabled', value: function (t) { this._timeEnabled = t, this.renderButton() } }, { key: 'setLeftNudgeFraction', value: function (t) { this._leftNudgeFraction = t, this.renderButton() } }, { key: 'setTopNudgeFraction', value: function (t) { this._topNudgeFraction = t, this.renderButton() } }, { key: 'getLeftNudgeFraction', value: function () { return this._leftNudgeFraction != null ? this._leftNudgeFraction : this.video._opts.bpbLeftNudge } }, { key: 'getTopNudgeFraction', value: function () { return this._topNudgeFraction != null ? this._topNudgeFraction : this.video._opts.bpbTopNudge } }, { key: 'getButtonOffsets', value: function () { const t = this.buttonElem; return { offsetHeight: t.offsetHeight, offsetTop: t.offsetTop } } }]) && c(e.prototype, n), o && c(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), f }(o.default)); m.shouldMount = function (t) { const e = t._attrs.bigPlayButton; return e == null || !0 === e }, m.handle = 'bigPlayButton', m.type = 'above-control-bar', (0, l.defineControl)(m) }, (t, e, n) => { n.d(e, { controlMultiplierBasedOnVideo: () => u }); n(5), n(61); const i = n(11); const r = n(6); function o (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return a(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return a(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function a (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const s = (0, i.cachedDetect)(); const l = function (t) { if (!(s.iphone || s.ipad || s.android)) return [640, 960]; if (t != null && t.isAudio()) return [500, 960]; let e; let n; let i; let o; const a = (e = document.querySelector('meta[name=viewport]'), n = e && e.getAttribute('content'), i = {}, n && n.split(/[\s,]+/).forEach(function (t) { const e = t.split('='); e.length === 2 && (i[e[0]] = (0, r.cast)(e[1])) }), i); if (a.width) { o = typeof a.width === 'number' ? 0 + a.width : screen.width || window.innerWidth; const l = Math.max(a['minimum-scale'] || 0, Math.min(a['maximum-scale'] || 10, a['initial-scale'] || 1)); l < 1 && (o /= l) } else o = window.innerWidth; return [o, 2 * o / 3] }; var u = function (t, e) { const n = t.videoWidth(); const i = o(e || l(t), 2); const r = i[0]; const a = i[1]; return n <= r ? n / r : n > a ? n / a : 1 } }, (t, e, n) => { n.d(e, { BigPlayButton: () => _ }); const i = n(33); const r = n(2); const o = n(71); const a = n(45); const s = n(65); const l = n(11); const u = n(35); const c = n(38); function h () { return h = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, h.apply(this, arguments) } function d (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, g(i.key), i) } } function p (t, e) { return p = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, p(t, e) } function f (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = v(t); if (e) { const r = v(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return y(t) }(this, n)) } } function y (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function v (t) { return v = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, v(t) } function m (t, e, n) { return (e = g(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function g (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const b = (0, l.cachedDetect)(); var _ = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && p(t, e) }(g, t)); let e; let n; let l; const v = f(g); function g (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, g)), m(y(e = v.call(this, t)), 'onMouseEnter', function () { e.setState({ isHovering: !0 }) }), m(y(e), 'onMouseLeave', function () { e.setState({ isHovering: !1 }) }), m(y(e), 'onFocusIn', function () { e.setState({ isHovering: !0 }) }), m(y(e), 'onFocusOut', function () { e.setState({ isHovering: !1 }) }), e.state = { isHovering: !1 }, e } return e = g, (n = [{ key: 'render', value: function () { const t = this.props; const e = t.baseHeight; const n = t.baseWidth; const i = t.elemRef; const o = t.scale; const l = (0, u.standardSvgAttrs)({ width: n, height: e, styleOverride: { position: 'absolute', height: ''.concat(e * o, 'px') }, ariaHidden: !0 }); return (0, r.h)('div', { class: 'w-bpb-wrapper w-css-reset w-css-reset-tree', ref: i, style: this.wrapperStyle() }, (0, r.h)('button', { class: 'w-big-play-button w-css-reset-button-important w-vulcan-v2-button', style: this.buttonStyle(), onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave, onfocusin: this.onFocusIn, onfocusout: this.onFocusOut, 'aria-label': ''.concat(this.translate('TITLE_WHEN_NOT_PLAYING'), ': ').concat((0, a.unescapeHtml)(this.props.videoName)), tabIndex: this.props.buttonTabIndex, type: 'button' }, (0, r.h)('div', { style: this.blendStyle() }), (0, r.h)('div', { style: this.overlayStyle() }), (0, r.h)('svg', h({}, l, { alt: '' }), (0, r.h)('rect', { 'fill-rule': 'evenodd', 'clip-rule': 'evenodd', fill: 'none', width: n, height: e }), (0, r.h)('polygon', { 'fill-rule': 'evenodd', 'clip-rule': 'evenodd', fill: '#FFFFFF', points: '53,22 53,58 79,40' }))), this.props.showBpbTime && !0 !== this.props.isLiveMedia ? (0, r.h)('div', { class: 'w-bpb-time', style: this.timeStyle() }, (0, s.flexibleDuration)(this.props.duration)) : null) } }, { key: 'translate', value: function (t) { return (0, c.getTranslation)(this.props.playerLanguage.code, 'PLAY_BUTTON_'.concat(t)) } }, { key: 'wrapperStyle', value: function () { const t = this.props; const e = t.baseHeight; const n = t.baseWidth; const i = t.borderRadius; const r = t.isVisible; const o = t.leftNudgeFraction; const a = t.controlBarDistance; const s = t.topNudgeFraction; const l = t.scale; const u = n * l; const c = e * l; return { borderRadius: ''.concat(i, 'px'), display: r ? 'block' : 'none', left: 'calc(50% + '.concat(100 * (o || 0), '%)'), marginLeft: '-'.concat(u / 2, 'px'), marginTop: '-'.concat(c / 2, 'px'), overflow: 'hidden', position: 'absolute', top: 'calc(50% + '.concat(100 * (s || 0), '% - ').concat(a, 'px)') } } }, { key: 'shouldMixBlendMode', value: function () { const t = this.props.noMixBlendMode; return !b.edge && !t } }, { key: 'blendStyle', value: function () { const t = this.props; const e = t.baseHeight; const n = t.baseWidth; const i = t.color; const r = t.scale; return { background: new o.Color(i || '#000').alpha(1).toRgba(), display: this.shouldMixBlendMode() ? 'block' : 'none', left: 0, height: ''.concat(e * r, 'px'), mixBlendMode: 'darken', position: 'absolute', top: 0, width: ''.concat(n * r, 'px') } } }, { key: 'overlayStyle', value: function () { const t = this.props; const e = t.baseHeight; const n = t.baseWidth; const i = t.color; const r = t.scale; const a = this.state.isHovering; const s = new o.Color(i || '#000'); return s.alpha(0.7), this.shouldMixBlendMode() || s.alpha(0.85), a && s.lighten('15%'), { backgroundColor: s.toRgba(), height: ''.concat(e * r, 'px'), left: 0, position: 'absolute', top: 0, transition: 'background-color 150ms', width: ''.concat(n * r, 'px') } } }, { key: 'buttonStyle', value: function () { const t = this.props; const e = t.scale; const n = t.baseHeight; const i = t.baseWidth; return { cursor: 'pointer', height: ''.concat(n * e, 'px'), boxShadow: this.state.isKeyboardFocused ? '0 0 0 2px #fff inset' : 'none', width: ''.concat(i * e, 'px') } } }, { key: 'timeStyle', value: function () { const t = this.props.scale; return { background: 'rgba(0,0,0,.4)', color: '#fff', fontFamily: i.interNumbersSemiBold, fontSize: ''.concat(18 * t, 'px'), lineHeight: ''.concat(30 * t, 'px'), pointerEvents: 'none', textAlign: 'center' } } }]) && d(e.prototype, n), l && d(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), g }(r.Component)) }, (t, e, n) => { n.d(e, { default: () => h }); const i = n(2); const r = n(5); function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, c(i.key), i) } } function a (t, e) { return a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, a(t, e) } function s (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = u(t); if (e) { const r = u(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return l(t) }(this, n)) } } function l (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function u (t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } function c (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const h = function (t) { return (function (e) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && a(t, e) }(p, e)); let n; let u; let h; const d = s(p); function p () { let t, e, n, i; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)); for (var r = arguments.length, o = new Array(r), a = 0; a < r; a++)o[a] = arguments[a]; return t = d.call.apply(d, [this].concat(o)), e = l(t), i = function (e) { const n = t.props.onClick; n && n(e) }, (n = c(n = 'onClick')) in e ? Object.defineProperty(e, n, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = i, t } return n = p, (u = [{ key: 'render', value: function () { return (0, i.h)(t, this.props) } }, { key: 'componentDidMount', value: function () { this.setupBindings() } }, { key: 'componentDidUpdate', value: function () { this.destroyBindings(), this.setupBindings() } }, { key: 'componentWillUnmount', value: function () { this.destroyBindings() } }, { key: 'setupBindings', value: function () { this.unbinds = [], this.unbinds.push((0, r.elemBind)(this.base, 'click', this.onClick)) } }, { key: 'destroyBindings', value: function () { this.unbinds && (this.unbinds.map(function (t) { return t() }), this.unbinds = null) } }]) && o(n.prototype, u), h && o(n, h), Object.defineProperty(n, 'prototype', { writable: !1 }), p }(i.Component)) } }, (t, e, n) => { const i = n(2); const r = n(15); const o = n(37); const a = n(11); const s = n(39); const l = n(62); const u = n(38); const c = n(60); const h = n(168); const d = n(159); function p () { return p = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, p.apply(this, arguments) } function f (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, _(i.key), i) } } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t, e, n) { return (e = _(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function _ (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const w = (0, a.cachedDetect)(); (0, u.defineTranslations)('en-US', { CLICK_FOR_SOUND_DESKTOP_TEXT: 'Click for sound', CLICK_FOR_SOUND_MOBILE_TEXT: 'Tap for sound' }); const P = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(l, t)); let e; let n; let r; const a = v(l); function l (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, l)), b(m(e = a.call(this, t)), 'renderButton', function () { let t; const n = Boolean(e.video._opts.silentAutoPlayIsChromeless); const r = e.isVisible(); if (n && (r ? e.video.requestChromeless('clickForSound') : e.video.releaseChromeless('clickForSound')), e.video.trigger('clickforsoundvisibilitychange', r), r) { const o = new Promise(function (t) { setTimeout(t, 1e3) }); t = Promise.race([o, (0, s.dynamicImport)('assets/external/interFontFace.js')]) } else t = Promise.resolve(); e.lastRenderPromise || (e.lastRenderPromise = Promise.resolve()), e.lastRenderPromise.then(function () { e.lastRenderPromise = new Promise(function (n) { t.then(function () { (0, i.render)((0, i.h)(h.ClickForSoundButton, p({}, e.props, { isTouchscreen: w.touchScreen, backdropEnabled: e.getSilentAutoplayBackdropState(), buttonText: e.buttonText(), elemRef: function (t) { return e.buttonRoot = t }, isVisible: e.isVisible(), onClick: e.onClick, scale: e.scale() })), e.rootElem), e.reactMounts = [e.rootElem], e.trigger('buttonrootrendered'), n() }) }) }) }), b(m(e), 'onClick', function (t) { (0, o.isMouseDown)() || e.video.focus(), e.video.unmute(), e.video.turnOffCaptions(), e.trigger('click', t) }), e.silentAutoPlayBackdropEnabled = e.video._opts.silentAutoPlayBackdropEnabled, e.unbinds.push(t.on('play', e.renderButton), t.on('silentplaybackmodechange', e.renderButton), t.on('volumechange', e.renderButton)), e } return e = l, (n = [{ key: 'destroy', value: function () { (0, c.destroyControl)(this) } }, { key: 'mount', value: function (t) { this.rootElem = t, this.renderButton() } }, { key: 'onControlPropsUpdated', value: function (t) { const e = this.props; t.scale === e.scale && t.controlsAreVisible === e.controlsAreVisible && t.controlBarHeight === e.controlBarHeight || this.renderButton(), t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code && this.renderButton() } }, { key: 'getSilentAutoplayBackdropState', value: function () { return this.silentAutoPlayBackdropEnabled == null || this.silentAutoPlayBackdropEnabled } }, { key: 'setSilentAutoPlayBackdropEnabled', value: function (t) { this.silentAutoPlayBackdropEnabled = t, this.renderButton() } }, { key: 'isVisible', value: function () { return this._isVisible != null ? this._isVisible : this.video.inSilentPlaybackMode() } }, { key: 'setIsVisible', value: function (t) { this._isVisible = t, this.renderButton(), this.video.trigger('clickforsoundvisibilitychange', this.isVisible()) } }, { key: 'buttonText', value: function () { return this._buttonText ? this._buttonText : w.touchScreen ? this.translate('MOBILE_TEXT') : this.translate('DESKTOP_TEXT') } }, { key: 'setButtonText', value: function (t) { this._buttonText = t, this.renderButton() } }, { key: 'afterButtonRenders', value: function () { const t = this; return new Promise(function (e) { t.bind('buttonrootrendered', function () { return e(t.buttonRoot), t.unbind }) }) } }, { key: 'translate', value: function (t) { let e; return (0, u.getTranslation)((e = this.props) === null || void 0 === e ? void 0 : e.playerLanguage.code, 'CLICK_FOR_SOUND_'.concat(t)) } }, { key: 'scale', value: function () { const t = this.props.scale; return w.touchScreen ? t : 1.5 * t } }]) && f(e.prototype, n), r && f(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), l }(d.default)); (0, r.bindify)(P.prototype), P.handle = 'clickForSoundButton', P.type = 'above-control-bar', (0, l.defineControl)(P) }, (t, e, n) => { n.d(e, { ClickForSoundButton: () => h }); const i = n(2); const r = n(169); const o = n(37); const a = n(33); const s = n(57); function l (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return u(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return u(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function u (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } const c = '1000px'; var h = function (t) { const e = t.backdropEnabled; const n = t.buttonText; const u = t.elemRef; const h = t.isTouchscreen; const d = t.isVisible; const p = t.onClick; const f = t.scale; const y = 35 * f; const v = 15 * f - 2; const m = (0, r.useRef)(null); const g = l((0, r.useState)(!1), 2); const b = g[0]; const _ = g[1]; return (0, i.h)(s.CustomEventsWrapper, { class: 'w-css-reset w-css-reset-tree', 'data-handle': 'click-for-sound-backdrop', elemRef: u, onClick: p, onMouseEnter: function () { h || m.current === null || (m.current.style.maxWidth = c) }, onMouseLeave: function () { h || m.current === null || (m.current.style.maxWidth = '0px') }, style: { display: d ? 'block' : 'none', height: '100%', left: 0, pointerEvents: e ? 'auto' : 'none', position: 'absolute', top: 0, width: '100%' } }, (0, i.h)('button', { 'aria-label': n, onFocus: function () { (0, o.isMouseDown)() || _(!0) }, onBlur: function () { return _(!1) }, class: 'w-vulcan-v2-button click-for-sound-btn', style: { background: 'rgba(0,0,0,0.8)', border: '2px solid '.concat(b ? '#fff' : 'transparent'), borderRadius: '60px', cursor: 'pointer', display: 'flex', justifyContent: 'space-between', alignItems: 'center', outline: 'none', pointerEvents: 'auto', position: 'absolute', right: ''.concat(v, 'px'), top: ''.concat(v, 'px') } }, (0, i.h)('div', { ref: m, style: { display: 'flex', alignItems: 'center', justifyContent: 'flex-end', whiteSpace: 'nowrap', overflow: 'hidden', maxWidth: h ? c : 0, transition: 'max-width 200ms' } }, (0, i.h)('span', { style: { color: '#fff', fontFamily: a.interFontFamily, fontSize: '18px', fontWeight: 500, paddingLeft: '1em' } }, n)), (0, i.h)('svg', { viewBox: '0 0 237 237', width: y, height: y }, (0, i.h)('style', null, '\n  @keyframes VOLUME_SMALL_WAVE_FLASH {\n    0% { opacity: 0; }\n    33% { opacity: 1; }\n    66% { opacity: 1; }\n    100% { opacity: 0; }\n  }\n\n  @keyframes VOLUME_LARGE_WAVE_FLASH {\n    0% { opacity: 0; }\n    33% { opacity: 1; }\n    66% { opacity: 1; }\n    100% { opacity: 0; }\n  }\n\n  .volume__small-wave {\n    animation: VOLUME_SMALL_WAVE_FLASH 2s infinite;\n    opacity: 0;\n  }\n\n  .volume__large-wave {\n    animation: VOLUME_LARGE_WAVE_FLASH 2s infinite .3s;\n    opacity: 0;\n  }\n'), (0, i.h)('path', { fill: '#fff', d: 'M88 107H65v24h24l23 23V84z' }), (0, i.h)('g', { fill: 'none', stroke: '#fff', 'stroke-linecap': 'round', 'stroke-width': '10' }, (0, i.h)('path', { d: 'M142 86c9 21 9 44 0 65', class: 'volume__small-wave' }), (0, i.h)('path', { d: 'M165 74c13 23 13 66 0 89', class: 'volume__large-wave' }))))) } }, (t, e, n) => { n.d(e, { useEffect: () => b, useReducer: () => g, useRef: () => _, useState: () => m }); let i; let r; let o; let a; const s = n(2); let l = 0; const u = []; const c = []; const h = s.options.__b; const d = s.options.__r; const p = s.options.diffed; const f = s.options.__c; const y = s.options.unmount; function v (t, e) { s.options.__h && s.options.__h(r, t, l || e), l = 0; const n = r.__H || (r.__H = { __: [], __h: [] }); return t >= n.__.length && n.__.push({ __V: c }), n.__[t] } function m (t) { return l = 1, g(C, t) } function g (t, e, n) { const o = v(i++, 2); if (o.t = t, !o.__c && (o.__ = [n ? n(e) : C(void 0, e), function (t) { const e = o.__N ? o.__N[0] : o.__[0]; const n = o.t(e, t); e !== n && (o.__N = [n, o.__[1]], o.__c.setState({})) }], o.__c = r, !r.u)) { r.u = !0; const a = r.shouldComponentUpdate; r.shouldComponentUpdate = function (t, e, n) { if (!o.__c.__H) return !0; const i = o.__c.__H.__.filter(function (t) { return t.__c }); if (i.every(function (t) { return !t.__N })) return !a || a.call(this, t, e, n); let r = !1; return i.forEach(function (t) { if (t.__N) { const e = t.__[0]; t.__ = t.__N, t.__N = void 0, e !== t.__[0] && (r = !0) } }), !(!r && o.__c.props === t) && (!a || a.call(this, t, e, n)) } } return o.__N || o.__ } function b (t, e) { const n = v(i++, 3); !s.options.__s && T(n.__H, e) && (n.__ = t, n.i = e, r.__H.__h.push(n)) } function _ (t) { return l = 5, w(function () { return { current: t } }, []) } function w (t, e) { const n = v(i++, 7); return T(n.__H, e) ? (n.__V = t(), n.i = e, n.__h = t, n.__V) : n.__ } function P () { for (var t; t = u.shift();) if (t.__P && t.__H) try { t.__H.__h.forEach(S), t.__H.__h.forEach(E), t.__H.__h = [] } catch (e) { t.__H.__h = [], s.options.__e(e, t.__v) } }s.options.__b = function (t) { typeof t.type !== 'function' || t.__m || t.__ === null ? t.__m || (t.__m = t.__ && t.__.__m ? t.__.__m : '') : t.__m = (t.__ && t.__.__m ? t.__.__m : '') + (t.__ && t.__.__k ? t.__.__k.indexOf(t) : 0), r = null, h && h(t) }, s.options.__r = function (t) { d && d(t), i = 0; const e = (r = t.__c).__H; e && (o === r ? (e.__h = [], r.__h = [], e.__.forEach(function (t) { t.__N && (t.__ = t.__N), t.__V = c, t.__N = t.i = void 0 })) : (e.__h.forEach(S), e.__h.forEach(E), e.__h = [])), o = r }, s.options.diffed = function (t) { p && p(t); const e = t.__c; e && e.__H && (e.__H.__h.length && (u.push(e) !== 1 && a === s.options.requestAnimationFrame || ((a = s.options.requestAnimationFrame) || k)(P)), e.__H.__.forEach(function (t) { t.i && (t.__H = t.i), t.__V !== c && (t.__ = t.__V), t.i = void 0, t.__V = c })), o = r = null }, s.options.__c = function (t, e) { e.some(function (t) { try { t.__h.forEach(S), t.__h = t.__h.filter(function (t) { return !t.__ || E(t) }) } catch (n) { e.some(function (t) { t.__h && (t.__h = []) }), e = [], s.options.__e(n, t.__v) } }), f && f(t, e) }, s.options.unmount = function (t) { y && y(t); let e; const n = t.__c; n && n.__H && (n.__H.__.forEach(function (t) { try { S(t) } catch (t) { e = t } }), n.__H = void 0, e && s.options.__e(e, n.__v)) }; const O = typeof requestAnimationFrame === 'function'; function k (t) { let e; const n = function () { clearTimeout(i), O && cancelAnimationFrame(e), setTimeout(t) }; var i = setTimeout(n, 100); O && (e = requestAnimationFrame(n)) } function S (t) { const e = r; const n = t.__c; typeof n === 'function' && (t.__c = void 0, n()), r = e } function E (t) { const e = r; t.__c = t.__(), r = e } function T (t, e) { return !t || t.length !== e.length || e.some(function (e, n) { return e !== t[n] }) } function C (t, e) { return typeof e === 'function' ? e(t) : e } }, (t, e, n) => { const i = n(171); const r = (n(3), n(2), n(5)); const o = n(11); const a = n(37); const s = n(39); const l = n(62); const u = n(60); const c = n(58); const h = n(159); function d (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return p(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return p(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function p (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function f (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, _(i.key), i) } } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t, e, n) { return (e = _(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function _ (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const w = (0, o.cachedDetect)(); const P = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(h, t)); let e; let n; let o; const l = v(h); function h (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)), b(m(e = l.call(this, t)), 'onContextMenu', function (t, n) { let o, s; t.altKey || ((o = (s = e.video.ui).shouldOnlyShowControlBar) !== null && void 0 !== o && o.call(s) || (t.type === 'contextmenu' && t.preventDefault(), e.pageX = t.pageX, e.pageY = t.pageY, e._hasLoaded || e.loading(new Promise(function (t) { e.resolveLoadingPromise = t }), { x: e.pageX, y: e.pageY }), new Promise(function (t) { !(n && n.isLongPress) && (0, a.isMouseDown)() ? (0, r.elemBind)(document, 'mouseup', function (n) { return e.pageX = n.pageX, e.pageY = n.pageY, t(), r.elemUnbind }) : t() }).then(function () { (0, i.logPromiseErrors)(e.loadContextMenu().then(function () { e.renderMenu && (e.resolveLoadingPromise(), e.renderMenu(), e.menuElemRef.focus()) })) }))) }), b(m(e), 'onClick', function (t) { (0, r.elemIsInside)(t.target, e.rootElem) || w.safari && t.ctrlKey || (e.hideMenu ? e.hideMenu() : e._hasLoaded || e.loading(new Promise(function (t) { t() }))) }), b(m(e), 'onDocumentMouseUp', function (t) { t.ctrlKey || (0, r.elemIsInside)(t.target, e.rootElem) || ((0, r.elemUnbind)(document, 'mouseup', e.onDocumentMouseUp), e.loadContextMenu().then(function () { e.hideMenu() })) }), w.touchScreen ? (e.touchEvents = new c.default(t.chrome), e.touchEvents.bind('longpress', e.onContextMenu)) : e.unbinds.push((0, r.elemBind)(t.chrome, 'contextmenu', e.onContextMenu)), e.unbinds.push((0, r.elemBind)(t.chrome, 'click', e.onClick)), e.eventListeners.set('hide-copy-link-and-thumbnail-change', function () { e.renderMenu() }), e.eventListeners.forEach(function (e, n) { t.embedElement.addEventListener(n, e) }), e } return e = h, (n = [{ key: 'mount', value: function (t) { this.rootElem = t } }, { key: 'destroy', value: function () { this.touchEvents && (this.touchEvents.destroy(), this.touchEvents = null), (0, u.destroyControl)(this) } }, { key: 'onControlPropsUpdated', value: function (t) { this.props.playerLanguage === t.playerLanguage && this.props.controlBarBorderRadius === t.controlBarBorderRadius || !this._visible || this.renderMenu() } }, { key: 'loadContextMenu', value: function () { const t = this; return Promise.all([(0, s.dynamicImport)('assets/external/interFontFace.js'), (0, s.dynamicImport)('assets/external/vulcanV2Player/shared/controls/ContextMenuControl/menu.js')]).then(function (e) { const n = d(e, 2)[1].ContextMenuExtensions; for (const i in n)t[i] = n[i].bind(t); t._hasLoaded = !0 }) } }, { key: 'removeEventListeners', value: function () { const t = this; this.eventListeners instanceof Map && (this.eventListeners.forEach(function (e, n) { t.impl.video.embedElement.removeEventListener(n, e) }), this.eventListeners.clear()) } }]) && f(e.prototype, n), o && f(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(h.default)); P.handle = 'contextMenu', P.type = 'foreground', (0, l.defineControl)(P) }, (t, e, n) => { n.d(e, { logPromiseErrors: () => r }); const i = function (t) { setTimeout(function () { throw t }, 0) }; var r = function (t) { return t.catch(i) } }, (t, e, n) => { n(3); const i = n(2); const r = n(159); const o = n(173); const a = n(60); const s = n(62); const l = n(38); function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, f(i.key), i) } } function c (t, e) { return c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, c(t, e) } function h (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return d(t) }(this, n)) } } function d (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } function f (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(0, l.defineTranslations)('en-US', { ELLIPSIS_LESS: 'Show fewer buttons', ELLIPSIS_MORE: 'Show more buttons' }); const y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && c(t, e) }(p, t)); let e; let n; let r; const s = h(p); function p () { let t, e, n, i; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)); for (var r = arguments.length, o = new Array(r), a = 0; a < r; a++)o[a] = arguments[a]; return t = s.call.apply(s, [this].concat(o)), e = d(t), i = function () { t.video.ui.isShowingMore() ? (t.video.ui.showLess(), t.renderButton()) : (t.video.ui.showMore(), t.renderButton()) }, (n = f(n = 'onClickButton')) in e ? Object.defineProperty(e, n, { value: i, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = i, t } return e = p, (n = [{ key: 'destroy', value: function () { (0, a.destroyControl)(this) } }, { key: 'mountButton', value: function (t) { this.buttonElem = t, this.renderButton() } }, { key: 'renderButton', value: function () { (0, i.render)((0, i.h)(o.EllipsisButton, null), this.buttonElem), this.setButtonLabel(this.translate(this.video.ui.isShowingMore() ? 'LESS' : 'MORE')) } }, { key: 'translate', value: function (t) { return (0, l.getTranslation)(this.props.playerLanguage.code, 'ELLIPSIS_'.concat(t)) } }]) && u(e.prototype, n), r && u(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(r.default)); y.handle = 'ellipsisButton', y.isVideoChrome = !0, y.type = 'ellipsis', y.sortValue = 1e5, y.shouldMount = function (t) { let e; let n; const i = ((e = t._impl.ui) === null || void 0 === e ? void 0 : e.getControlsByType('control-bar-right')) || []; const r = ((n = t._impl.ui) === null || void 0 === n ? void 0 : n.getControlsByType('playbar')) || []; return i.length > 0 && r.length > 0 && t._impl.ui && !t._impl.ui.shouldShowMoreDefaultValue() }, (0, s.defineControl)(y) }, (t, e, n) => { n.d(e, { EllipsisButton: () => a }); const i = n(2); const r = n(35); function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } var a = (function () { function t () { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)) } let e, n, a; return e = t, (n = [{ key: 'shouldComponentUpdate', value: function () { return !1 } }, { key: 'render', value: function () { return (0, i.h)('svg', (0, r.standardSvgAttrs)({ width: 40, height: 34, ariaHidden: !0 }), (0, i.h)('circle', { cx: '20', cy: '17', r: '2' }), (0, i.h)('circle', { cx: '13', cy: '17', r: '2' }), (0, i.h)('circle', { cx: '27', cy: '17', r: '2' })) } }]) && o(e.prototype, n), a && o(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { n(3); const i = n(2); const r = n(159); const o = n(60); const a = n(62); function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function l (t, e) { return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, l(t, e) } function u (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = c(t); if (e) { const r = c(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function c (t) { return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, c(t) } const h = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && l(t, e) }(c, t)); let e; let n; let r; const a = u(c); function c (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)), (e = a.call(this, t)).video = t, e._isVisible = !1, e } return e = c, (n = [{ key: 'destroy', value: function () { (0, o.destroyControl)(this) } }, { key: 'mount', value: function (t) { this.rootElem = t, this.render() } }, { key: 'hide', value: function () { this._isVisible = !1, this.render() } }, { key: 'show', value: function () { this._isVisible = !0, this.render() } }, { key: 'style', value: function () { return { boxShadow: '0 0 0 2px #fff inset', borderRadius: ''.concat(this.props.playerBorderRadius, 'px'), display: this._isVisible ? 'block' : 'none', height: '100%', left: 0, pointerEvents: 'none', position: 'absolute', right: 0, width: '100%' } } }, { key: 'render', value: function () { (0, i.render)((0, i.h)('div', { style: this.style(), class: 'w-focus-outline' }), this.rootElem) } }]) && s(e.prototype, n), r && s(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(r.default)); h.shouldMount = function (t) { return !t.isAudio() }, h.handle = 'focusOutline', h.type = 'foreground', h.sortValue = 100, (0, a.defineControl)(h) }, (t, e, n) => { const i = n(2); const r = n(5); const o = n(11); const a = n(159); const s = n(176); const l = n(60); const u = n(62); const c = n(38); function h (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, m(i.key), i) } } function d (t, e) { return d = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, d(t, e) } function p (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = y(t); if (e) { const r = y(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return f(t) }(this, n)) } } function f (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function y (t) { return y = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, y(t) } function v (t, e, n) { return (e = m(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function m (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const g = (0, o.cachedDetect)(); (0, c.defineTranslations)('en-US', { FULLSCREEN_DOUBLE_TAP: 'Double-tap to zoom in or out', FULLSCREEN_TITLE_WHEN_IN_FULLSCREEN: 'Unfullscreen', FULLSCREEN_TITLE_WHEN_NOT_IN_FULLSCREEN: 'Fullscreen' }); const b = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && d(t, e) }(u, t)); let e; let n; let o; const a = p(u); function u (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, u)), v(f(e = a.call(this, t)), 'onClickButton', function () { e.toggleFullscreen() }), v(f(e), 'onKeyUp', function (t) { if (!(0, r.formInputIsFocused)()) { const n = e.impl.getInputContext(); n !== 'background-focus' && n !== 'player-mouseover' && n !== 'player-focus' && n !== 'playbar-focus' || t.keyCode === 70 && e.toggleFullscreen() } }), e.unbinds.push(e.impl.on('enterfullscreen', function () { e.renderButton() }), e.impl.on('cancelfullscreen', function () { e.renderButton() }), (0, r.elemBind)(document, 'keyup', e.onKeyUp)), _() || w(e.impl) || !P() || (e.mountDialog = e.maybeMountDialog), e } return e = u, (n = [{ key: 'destroy', value: function () { (0, l.destroyControl)(this) } }, { key: 'inFullscreen', value: function () { return this.isWistiaPlayer ? this.api.inFullscreen : this.api.inFullscreen() } }, { key: 'onControlPropsUpdated', value: function (t) { t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code && (this.renderButton(), this.dialog && this.dialog.isOpen() && this.renderDialog()) } }, { key: 'maybeMountDialog', value: function (t) { this.dialogElem = t, this.renderDialog() } }, { key: 'renderDialog', value: function () { this.dialogElem.innerHTML = this.translate('DOUBLE_TAP') } }, { key: 'mountButton', value: function (t) { this.buttonElem = t, this.renderButton() } }, { key: 'renderButton', value: function () { if (this.buttonElem) { const t = this.inFullscreen() ? this.translate('TITLE_WHEN_IN_FULLSCREEN') : this.translate('TITLE_WHEN_NOT_IN_FULLSCREEN'); this.setButtonLabel(t), (0, i.render)((0, i.h)(s.default, null), this.buttonElem), this.reactMounts = [this.buttonElem] } } }, { key: 'translate', value: function (t) { return (0, c.getTranslation)(this.props.playerLanguage.code, 'FULLSCREEN_'.concat(t)) } }, { key: 'toggleFullscreen', value: function () { (_() || w(this.impl)) && (this.inFullscreen() ? this.api.cancelFullscreen() : this.api.requestFullscreen()) } }]) && h(e.prototype, n), o && h(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), u }(a.default)); b.handle = 'fullscreenControl', b.type = 'control-bar-right', b.sortValue = 1e3, (0, u.defineControl)(b); var _ = function () { return g.fullscreenEnabled }; var w = function (t) { const e = t._mediaData; const n = t._opts; const i = (e.spherical || n.spherical) && !n.overrideSpherical; const r = !!e.secondaryMediaData; const o = top !== self; return g.ios.version > 0 && (!o || !i && !r) }; var P = function () { return g.ios.version > 0 || g.android }; b.shouldMount = function (t) { const e = t._attrs.fullscreenControl; return (!0 === e || e == null) && (_() || w(t) || P()) } }, (t, e, n) => { n.d(e, { default: () => c }); const i = n(2); const r = n(35); function o () { return o = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o.apply(this, arguments) } function a (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function s (t, e) { return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, s(t, e) } function l (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = u(t); if (e) { const r = u(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function u (t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } const c = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && s(t, e) }(h, t)); let e; let n; let u; const c = l(h); function h () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)), c.apply(this, arguments) } return e = h, (n = [{ key: 'shouldComponentUpdate', value: function () { return !1 } }, { key: 'render', value: function () { const t = { fill: 'none', stroke: '#ffffff', 'stroke-width': 2, 'stroke-linecap': 'round', 'stroke-linejoin': 'round', 'stroke-miterlimit': 10 }; return (0, i.h)('svg', (0, r.standardSvgAttrs)({ width: 40, height: 34, ariaHidden: !0 }), (0, i.h)('g', null, (0, i.h)('g', null, (0, i.h)('polyline', o({}, t, { points: '31.4,12.6 31.4,8.7 25.8,8.7' })), (0, i.h)('polyline', o({}, t, { points: '14.7,8.7 9.1,8.7 9.1,12.6' })), (0, i.h)('polyline', o({}, t, { points: '25.8,24.8 31.4,24.8 31.4,20.9' })), (0, i.h)('polyline', o({}, t, { points: '9.1,20.9 9.1,24.8 14.7,24.8' }))), (0, i.h)('rect', o({ x: '13.7', y: '12.3' }, t, { 'enable-background': 'new', width: '13.3', height: '8.9' })))) } }]) && a(e.prototype, n), u && a(e, u), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(i.Component)) }, (t, e, n) => { n(3); const i = n(5); const r = n(2); const o = n(159); const a = n(178); const s = n(60); const l = n(62); function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, y(i.key), i) } } function c (t, e) { return c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, c(t, e) } function h (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return d(t) }(this, n)) } } function d (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } function f (t, e, n) { return (e = y(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function y (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const v = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && c(t, e) }(p, t)); let e; let n; let o; const l = h(p); function p (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), f(d(e = l.call(this, t)), 'show', function (t) { e._isVisible = !0, e.renderMenu(t) }), f(d(e), 'hide', function () { e._isVisible = !1, (0, r.render)((0, r.h)('nothing', null), e.rootElem), e.reactMounts = [e.rootElem] }), e._isVisible = !1, e } return e = p, (n = [{ key: 'destroy', value: function () { (0, s.destroyControl)(this) } }, { key: 'mount', value: function (t) { this.rootElem = t } }, { key: 'renderMenu', value: function (t) { const e = t.x || 0; const n = t.y || 0; const o = (0, i.elemOffset)(this.video._embedContainer); this._isVisible && ((0, r.render)((0, r.h)(a.default, { videoOffset: o, x: e, y: n }), this.rootElem), this.reactMounts = [this.rootElem]) } }]) && u(e.prototype, n), o && u(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(o.default)); v.handle = 'loadingHourglass', v.type = 'foreground', (0, l.defineControl)(v) }, (t, e, n) => { n.d(e, { default: () => d }); const i = n(2); const r = n(5); function o () { return o = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o.apply(this, arguments) } function a (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, h(i.key), i) } } function s (t, e) { return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, s(t, e) } function l (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = c(t); if (e) { const r = c(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return u(t) }(this, n)) } } function u (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function c (t) { return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, c(t) } function h (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const d = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && s(t, e) }(p, t)); let e; let n; let c; const d = l(p); function p (t) { let e, n, i, r; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), e = d.call(this, t), n = u(e), r = function (t) { const n = t.pageX - e.props.videoOffset.left + 10; const i = t.pageY - e.props.videoOffset.top; e.setState({ x: n, y: i }) }, (i = h(i = 'onMouseMove')) in n ? Object.defineProperty(n, i, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : n[i] = r, e.animationInterval = void 0, e.state = { x: e.props.x + 10, y: e.props.y, floatingPixel: 8 }, e } return e = p, (n = [{ key: 'componentWillMount', value: function () { const t = this; this.animationInterval = setInterval(function () { let e = t.state.floatingPixel + 1; e > 10 && (e = 8), t.setState({ floatingPixel: e }) }, 500), (0, r.elemBind)(document, 'mousemove', this.onMouseMove) } }, { key: 'componentWillUnmount', value: function () { clearInterval(this.animationInterval), (0, r.elemUnbind)(document, 'mousemove', this.onMouseMove) } }, { key: 'sandStyle', value: function () { return { fill: '#000000', width: '1', height: '1' } } }, { key: 'anchorStyle', value: function () { return { height: 0, left: ''.concat(this.state.x, 'px'), position: 'absolute', top: ''.concat(this.state.y, 'px'), width: 0 } } }, { key: 'sandProps', value: function (t, e) { return { className: 'sand', x: t, y: e, style: this.sandStyle() } } }, { key: 'useRules', value: function () { return { fill: '#FFFFFF', 'fill-rule': 'evenodd' } } }, { key: 'hourGlassProps', value: function (t) { return { stroke: '#000000', x: '1.5', y: t, width: '12', height: '2' } } }, { key: 'defsProps', value: function (t) { return { x: 1, y: t, width: 13, height: 3 } } }, { key: 'render', value: function () { const t = this; return (0, i.h)('div', { style: this.anchorStyle(), onMouseMove: this.onMouseMove }, (0, i.h)('svg', { width: '15px', height: '20px', viewBox: '0 0 15 20', version: '1.1' }, (0, i.h)('defs', null, (0, i.h)('rect', o({ id: 'path-1' }, this.defsProps(1))), (0, i.h)('rect', o({ id: 'path-2' }, this.defsProps(16))), (0, i.h)('polygon', { id: 'path-3', points: '2 3 13 3 13 7 10.25 10 13 13 13 17 2 17 2 13 4.75 10 2 7' })), (0, i.h)('g', { id: 'Page-1', stroke: 'none', 'stroke-width': '1', fill: 'none', 'fill-rule': 'evenodd' }, (0, i.h)('g', { id: 'hourglass' }, (0, i.h)('g', { id: 'top' }, (0, i.h)('use', o({}, this.useRules(), { xlinkKref: '#path-1' })), (0, i.h)('rect', this.hourGlassProps(1.5))), (0, i.h)('g', { id: 'bottom' }, (0, i.h)('use', o({}, this.useRules(), { xlinkHref: '#path-2' })), (0, i.h)('rect', this.hourGlassProps(16.5))), (0, i.h)('g', { id: 'glass' }, (0, i.h)('use', o({}, this.useRules(), { xlinkHref: '#path-3' })), (0, i.h)('path', { stroke: '#000000', d: 'M2.5,3.5 L2.5,6.80550815 L5.42828419,10 L2.5,13.1944918 L2.5,16.5 L12.5,16.5 L12.5,13.1944918 L9.57171581,10 L12.5,6.80550815 L12.5,3.5 L2.5,3.5 Z' })), (0, i.h)('rect', { id: 'floater', fill: '#000000', x: '7', y: this.state.floatingPixel, width: '1', height: '1' }), [[5, 6], [7, 6], [6, 7], [8, 7], [7, 11], [6, 12], [8, 12], [7, 13], [6, 14], [8, 14], [5, 13], [9, 13], [4, 14], [10, 14], [5, 6], [9, 6]].map(function (e) { return (0, i.h)('rect', t.sandProps(e[0], e[1])) }))))) } }]) && a(e.prototype, n), c && a(e, c), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(i.Component)) }, (t, e, n) => { n(3); const i = n(180); const r = n(62); function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function a (t, e) { return a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, a(t, e) } function s (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = l(t); if (e) { const r = l(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function l (t) { return l = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, l(t) } const u = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && a(t, e) }(l, t)); let e; let n; let i; const r = s(l); function l () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, l)), r.apply(this, arguments) } return e = l, (n = [{ key: 'width', value: function () { return this.props.width } }, { key: 'left', value: function () { return this.props.left } }]) && o(e.prototype, n), i && o(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), l }(i.default)); u.shouldMount = function (t) { const e = t._attrs.playBarControl; return !0 === e || e == null }, u.handle = 'playbar', u.type = 'playbar', (0, r.defineControl)(u) }, (t, e, n) => { n.d(e, { default: () => w }); const i = n(73); const r = n(27); const o = n(61); const a = n(37); const s = n(5); const l = n(2); const u = n(60); const c = n(181); const h = n(159); function d () { return d = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, d.apply(this, arguments) } function p (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, _(i.key), i) } } function f () { return f = typeof Reflect !== 'undefined' && Reflect.get ? Reflect.get.bind() : function (t, e, n) { const i = (function (t, e) { for (;!Object.prototype.hasOwnProperty.call(t, e) && (t = g(t)) !== null;);return t }(t, e)); if (i) { const r = Object.getOwnPropertyDescriptor(i, e); return r.get ? r.get.call(arguments.length < 3 ? t : n) : r.value } }, f.apply(this, arguments) } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t, e, n) { return (e = _(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function _ (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const w = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(w, t)); let e; let n; let h; const _ = v(w); function w (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, w)), b(m(e = _.call(this, t)), 'onResize', function (t) { const n = t.playbarBarWidth; const i = t.playbarBarLeftOffsetFromPlayerLeftEdge; e.video.trigger('playbarresize', { playbarBarWidth: n, playbarBarLeftOffsetFromPlayerLeftEdge: i }) }), b(m(e), 'renderPlaybar', function () { const t = e.video; const n = t.plugin.chapters; const i = n ? n.getAllChapters() : []; const r = n ? n.getChapterWithVisibleTitle() : null; const o = n ? n.getChapterWithFocusedMarker() : null; const a = e.PlaybarComponent; (0, l.render)((0, l.h)(a, d({ getCurrentTime: e.getCurrentTime, getCurrentBufferTime: e.getCurrentBufferTime, duration: t.duration(), isBeforePlay: t.state() === 'beforeplay', isVisible: e.props.controlsAreVisible, isPlaying: t.state() === 'playing', isSeeking: t._impl.engine && t._impl.engine.isSeeking() }, e.props, { onDragStart: e.onDragStart, onDrag: e.onDrag, onDragEnd: e.onDragEnd, onBlur: e.onBlurPlaybar, onFocus: e.onFocusPlaybar, isPlaceholder: e.isPlaceholder(), chapters: i, chapterWithFocusedMarker: o, chapterWithVisibleTitle: r, onClickChapter: e.onClickChapter, onMouseEnterOrFocusChapter: e.onMouseEnterOrFocusChapter, onMouseLeaveOrBlurChapter: e.onMouseLeaveOrBlurChapter, mediaData: e.video._mediaData, embedOptions: e.video._opts, color: e.video.playerColor(), showTime: e.showTime, shouldShowStoryboard: e.shouldShowStoryboard(), shouldShowChapterTitles: !0, shouldShowTime: e.shouldShowTime(), storyboardAsset: e.storyboardAsset(), leftControlBarWidth: e.props.leftControlBarWidth, setTimeWidth: e.setTimeWidth, setRightBarMargin: e.setRightBarMargin, resumableTime: e.resumableTime(), getDurationBeforeCuts: e.getDurationBeforeCuts, getTimeBeforeCuts: e.getTimeBeforeCuts, onResize: e.onResize })), e.rootElem), e.reactMounts = [e.rootElem] }), b(m(e), 'getDurationBeforeCuts', function () { let t; return (t = e.video) !== null && void 0 !== t && t.engine ? e.video.engine.getDurationBeforeCuts() : -1 }), b(m(e), 'getTimeBeforeCuts', function (t) { let n; return (n = e.video) !== null && void 0 !== n && n.engine ? e.video.engine.getTimeBeforeCuts(t) : -1 }), b(m(e), 'setTimeWidth', function (t) { e._timeWidth = t }), b(m(e), 'setRightBarMargin', function (t) { e._rightBarMargin = t }), b(m(e), 'renderNothing', function () { (0, l.render)((0, l.h)('nothing', null), e.rootElem), e.reactMounts = [e.rootElem] }), b(m(e), 'renderIfNotPlaying', function () { e.video.state() !== 'playing' && e.render() }), b(m(e), 'getCurrentTime', function () { return e.video ? e.video.time() : 0 }), b(m(e), 'getCurrentBufferTime', function () { const t = e.video ? e.video.getBuffered() : []; return t.length === 0 ? 0 : t[t.length - 1].end }), b(m(e), 'onClickChapter', function (t, n) { n && (e.video.time(n.time), e.video.state() === 'beforeplay' && e.video.play()) }), b(m(e), 'onMouseEnterOrFocusChapter', function (t, n) { n && (e.chaptersPlugin().setChapterWithVisibleTitle(n.id), e.chaptersPlugin().setChapterWithFocusedMarker(n.id)) }), b(m(e), 'onMouseLeaveOrBlurChapter', function () { e.chaptersPlugin().setChapterWithVisibleTitle(null), e.chaptersPlugin().setChapterWithFocusedMarker(null) }), b(m(e), 'onDragStart', function (t, n) { e.video.requestControls('playbar-drag'), e.stateBeforeDrag = e.video.state(), e.onDrag(t, n), (0, o.doTimeout)(''.concat(e.video.uuid, '.maybe-pause-on-scrub'), function () { (0, a.isMouseDown)() && e.video.pause() }, 300) }), b(m(e), 'onDrag', function (t, n) { const i = n * e.video.duration(); i !== e._timeSeekedToRecently && (e.video.time(i), e._timeSeekedToRecently = i, (0, o.doTimeout)(''.concat(e.video.uuid, '.prevent-double-seek'), function () { e._timeSeekedToRecently = null }, 300)) }), b(m(e), 'onDragEnd', function (t, n) { e.video.releaseControls('playbar-drag'), e.onDrag(t, n), e.video.trigger('playbardragend'), e.stateBeforeDrag !== 'beforeplay' && e.stateBeforeDrag !== 'playing' || e.video.play() }), b(m(e), 'onFocusPlaybar', function () { e.video.enterInputContext('playbar-focus') }), b(m(e), 'onBlurPlaybar', function () { e.video.exitInputContext('playbar-focus') }), b(m(e), 'onKeyDown', function (t) { const n = e.video; if (e.isVisible() && !e.video._opts.spherical && !(0, s.formInputIsFocused)()) { const i = n.getInputContext(); if (i === 'playbar-focus' || i === 'player-mouseover' || i === 'background-focus' || i === 'player-focus') { const r = n.duration(); const o = t.keyCode; if (o !== 32) { e.keyDownStartedAt == null && (e.keyDownStartedAt = Date.now()); const a = Date.now() - e.keyDownStartedAt; let l = 0; l = n.state() === 'playing' ? t.shiftKey || a > 200 ? o === 33 || o === 34 ? r < 30 ? 5 : r < 60 ? 10 : 10 + r / 60 : r < 30 ? 2 : r < 60 ? 5 : 5 + r / 60 / 2 : o === 33 || o === 34 ? r < 60 ? 5 : 20 : 2 : t.shiftKey || a > 200 ? 1 : 1 / 24; let u = 0; o === 39 || o === 33 ? u = 1 : o !== 37 && o !== 34 || (u = -1), u === -1 ? (t.preventDefault(), n.time(n.time() - l)) : u === 1 && (t.preventDefault(), n.time(n.time() + l)) } else i !== 'playbar-focus' && i !== 'player-mouseover' || t.preventDefault() } } }), b(m(e), 'onKeyUp', function (t) { if (e.isVisible() && !(0, s.formInputIsFocused)()) { e.keyDownStartedAt = null; const n = e.video; n.getInputContext() === 'playbar-focus' && t.keyCode === 32 && (n.state() === 'playing' ? n.pause() : n.play()) } }), e.PlaybarComponent = c.default, e.showTime = !0, e } return e = w, (n = [{ key: 'destroy', value: function () { (0, u.destroyControl)(this) } }, { key: 'mount', value: function (t) { const e = this; f(g(w.prototype), 'mount', this).call(this, t), this.eventListeners.set('playercolorchange', function () { return e.render() }), this.eventListeners.set('resumablechange', function () { return e.render() }); const n = this.video; this.unbinds.push(n.on('play', function () { e.render() }), n.on('pause', function () { e.render() }), n.on('progress', this.renderIfNotPlaying), n.on('timechange', function () { e.render() }), n.on('end', function () { e.render() }), n.on('widthchange', function () { e.render() }), n.on('seeking', function () { e.render() }), n.on('trimchange', function () { e.renderNothing(), e.render() }), (0, s.elemBind)(document, 'keydown', this.onKeyDown), (0, s.elemBind)(document, 'keyup', this.onKeyUp)); const i = function () { const t = n.plugin.chapters; e.unbinds.push(t.on('focuschange', function () { e.render() }), t.on('changechapters', function () { e.render() })) }; n.plugin('chapters').then(i), n.on('plugininitialized', function (t) { t === 'chapters' && i() }), this.render() } }, { key: 'onControlPropsUpdated', value: function (t) { t.width !== this.props.width && this.render(), t.controlsAreVisible && !this.props.controlsAreVisible && this.render(), !t.controlsAreVisible && this.props.controlsAreVisible && this.render(), this.props.controlBarBorderRadius !== t.controlBarBorderRadius && this.render() } }, { key: 'render', value: function () { this.video.publicApi.isLiveMedia() ? this.renderNothing() : this.renderPlaybar() } }, { key: 'resumableTime', value: function () { if (this.video.shouldResume()) return (0, i.getLastTime)(this.video.hashedId()) } }, { key: 'timeWidth', value: function () { return this._timeWidth } }, { key: 'rightBarMargin', value: function () { return this._rightBarMargin } }, { key: 'chaptersPlugin', value: function () { return this.video.plugin.chapters } }, { key: 'isPlaceholder', value: function () { return !1 } }, { key: 'isVisible', value: function () { return !0 } }, { key: 'shouldShowTime', value: function () { return !0 } }, { key: 'shouldShowStoryboard', value: function () { if (this._shouldShowStoryboard != null) return this._shouldShowStoryboard; const t = !!this.storyboardAsset(); const e = !!this.video._mediaData.secondaryMediaData; return this._shouldShowStoryboard = t && !e } }, { key: 'storyboardAsset', value: function () { return (0, r.one)(this.video._mediaData.assets, { type: 'storyboard', status: r.READY, metadata: function (t) { return t && t.frame_count && t.frame_width && t.frame_height } }) } }]) && p(e.prototype, n), h && p(e, h), Object.defineProperty(e, 'prototype', { writable: !1 }), w }(h.default)) }, (t, e, n) => { n.d(e, { default: () => R }); n(3); const i = n(182); const r = n(33); const o = n(71); const a = n(6); const s = n(65); const l = n(5); const u = n(2); const c = n(11); const h = n(37); const d = n(39); const p = n(183); const f = n(58); function y () { return y = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, y.apply(this, arguments) } function v (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return m(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return m(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function m (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function g (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, k(i.key), i) } } function b (t, e) { return b = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, b(t, e) } function _ (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = P(t); if (e) { const r = P(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return w(t) }(this, n)) } } function w (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function P (t) { return P = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, P(t) } function O (t, e, n) { return (e = k(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function k (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(0, i.addInterNumbersFontFace)(); let S; let E; let T; const C = (0, c.cachedDetect)(); const A = 'vulcanV2Player/shared/ui_components'; const j = 'w-playbar'; const x = 1.001; const B = function (t) { return Math.min(1, Math.max(0, t)) }; const R = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && b(t, e) }(m, t)); let e; let n; let i; const c = _(m); function m (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, m)), O(w(e = c.call(this, t)), 'onFocusChapterMarkers', function () { e.state.isKeyboardFocused && e.setState({ isKeyboardFocused: !1 }) }), O(w(e), 'onFocus', function (t) { const n = e.props.onFocus; n && n(t), (0, h.isMouseDown)() || e.setState({ isKeyboardFocused: !0 }) }), O(w(e), 'onFocusOut', function () { e.state.isKeyboardFocused && e.setState({ isKeyboardFocused: !1 }) }), O(w(e), 'onMouseEnter', function (t) { e.touchEvents || (t.wistiaPlayerHandled = !0, e.setState({ hoveredAt: Date.now(), isHovering: !0 }), e.cachePositionDetails(), e.props.shouldShowStoryboard && e.loadStoryboard()) }), O(w(e), 'onMouseLeave', function (t) { e.touchEvents || (t.wistiaPlayerHandled = !0, e.setState({ hoveredAt: void 0, isHovering: !1 })) }), O(w(e), 'onMouseMove', function (t) { if (!e.touchEvents) { t.wistiaPlayerHandled = !0; const n = e.getPercentFromPossiblyExternalMouseEvent(t); e.setState({ hoverPercent: n }) } }), O(w(e), 'onMouseDown', function (t) { if (!e.touchEvents && !t.wistiaPlayerHandled && !t.ctrlKey) { t.preventDefault(), e.wrapperElem.focus(), t.wistiaPlayerHandled = !0, e.cachePositionDetails(); const n = e.getPercentFromPossiblyExternalMouseEvent(t); e.handleWithProp('onDragStart', t, n), e.setState({ dragPercent: n, dragMode: !0, wasBeforePlayOnDrag: e.props.isBeforePlay }), (0, l.elemBind)(document, 'mousemove', e.onMouseMoveDragging), (0, l.elemBind)(document, 'mouseup', e.onMouseUpDragging) } }), O(w(e), 'onMouseMoveDragging', function (t) { t.preventDefault(), t.wistiaPlayerHandled = !0; const n = e.getPercentFromPossiblyExternalMouseEvent(t); e.handleWithProp('onDrag', t, n), e.setState({ dragPercent: n, dragMode: !0 }) }), O(w(e), 'onMouseUpDragging', function (t) { t.wistiaPlayerHandled = !0; const n = e.getPercentFromPossiblyExternalMouseEvent(t); e.setState({ dragPercent: n, dragMode: !1, isOverPlayhead: !1 }), e.handleWithProp('onDragEnd', t, n), (0, l.elemUnbind)(document, 'mousemove', e.onMouseMoveDragging), (0, l.elemUnbind)(document, 'mouseup', e.onMouseUpDragging) }), O(w(e), 'onTouchStart', function (t) { t.preventDefault(), t.wistiaPlayerHandled = !0, e.cachePositionDetails(); const n = e.getPercentFromTouchEvent(t); e.handleWithProp('onDragStart', t, n), e.setState({ dragPercent: n, dragMode: !0 }), e.touchEvents.on('touchmove', e.onTouchMoveDragging), e.touchEvents.on('touchend', e.onTouchEndDragging) }), O(w(e), 'onTouchMoveDragging', function (t) { t.preventDefault(), t.wistiaPlayerHandled = !0; const n = e.getPercentFromTouchEvent(t); e.handleWithProp('onDrag', t, n), e.setState({ dragPercent: n, dragMode: !0 }) }), O(w(e), 'onTouchEndDragging', function (t) { t.wistiaPlayerHandled = !0; const n = e.getPercentFromTouchEvent(t); e.setState({ dragPercent: n, dragMode: !1, isOverPlayhead: !1 }), e.handleWithProp('onDragEnd', t, n), e.touchEvents.off('touchmove', e.onTouchMoveDragging), e.touchEvents.off('touchend', e.onTouchEndDragging) }), O(w(e), 'onMouseEnterPlayhead', function () { e.setState({ isOverPlayhead: !0 }) }), O(w(e), 'onMouseLeavePlayhead', function () { e.setState({ isOverPlayhead: !1 }) }), O(w(e), 'setWrapperRef', function (t) { e.wrapperElem = t, e.props.setPlaybarElemRef && e.props.setPlaybarElemRef(t) }), O(w(e), 'startAnimLoopIfPlaying', function () { e.props.isPlaying && e.props.isVisible && requestAnimationFrame(e.continuouslyUpdatePlaybar) }), O(w(e), 'stopAnimLoop', function () { cancelAnimationFrame(e.animReq) }), O(w(e), 'continuouslyUpdatePlaybar', function () { e.drawCanvas(), e.maybeUpdateTimeText(), (0, a.assign)(e.playheadEl.style, e.playheadStyle()), e.startAnimLoopIfPlaying() }), O(w(e), 'loadStoryboard', function () { return (0, d.dynamicImport)('assets/external/vulcanV2Player/video/ui_components/Storyboard.js').then(function (t) { T = t.Storyboard, e.setState({ loadedStoryboard: !0 }) }) }), O(w(e), 'loadChapters', function () { return Promise.all([(0, d.dynamicImport)('assets/external/'.concat(A, '/ChapterMarkers.js')), (0, d.dynamicImport)('assets/external/'.concat(A, '/ChapterTitles.js'))]).then(function (t) { const n = v(t, 2); const i = n[0]; const r = n[1]; S = i.ChapterMarkers, E = r.ChapterTitles, e.setState({ loadedChapters: !0 }) }) }), e.state = { currentBufferTime: t.getCurrentBufferTime(), currentTime: t.getCurrentTime(), dragMode: !1, dragPercent: 0, hasPlayed: !1, hoverPercent: 0, isHovering: !1, isKeyboardFocused: !1, isOverPlayhead: !1, loadedChapters: !1, loadedStoryboard: !1, timeWidth: null, wasBeforePlayOnDrag: !1 }, e.setColorsFromPlayerColor(t.color), t.chapters && t.chapters.length > 0 && e.loadChapters(), e.playheadScale = x, e } return e = m, n = [{ key: 'canvasHeight', value: function () { return this.props.height * (window.devicePixelRatio || 1) } }, { key: 'canvasStyle', value: function () { return { height: ''.concat(this.props.height, 'px'), left: ''.concat(-this.leftBarMargin(), 'px'), position: 'absolute', top: 0, width: ''.concat(this.leftBarMargin() + this.unfilledBarWidth() + this.rightBarMargin(), 'px') } } }, { key: 'canvasWidth', value: function () { return (this.leftBarMargin() + this.unfilledBarWidth() + this.rightBarMargin()) * (window.devicePixelRatio || 1) } }, { key: 'playheadStyle', value: function () { const t = 1.4 * this.barHeight() * 4; const e = this.props.height / 2 - t / 2; const n = this.playedPercent() * this.unfilledBarWidth() - t / 2; return { borderRadius: '50%', height: ''.concat(t, 'px'), left: ''.concat(n, 'px'), opacity: 0, position: 'absolute', top: ''.concat(e, 'px'), width: ''.concat(t, 'px') } } }, { key: 'componentWillReceiveProps', value: function (t) { const e = this.props; e.color !== t.color && this.setColorsFromPlayerColor(t.color), this.setState({ dragMode: !1, currentTime: e.getCurrentTime(), currentBufferTime: e.getCurrentBufferTime() }), t.chapters && t.chapters.length > 0 && this.loadChapters() } }, { key: 'drawCanvas', value: function () { let t; const e = this; if (this.canvasEl) { const n = window.devicePixelRatio || 1; const i = this.state; const r = i.dragMode; const o = i.hoverPercent; const s = i.isHovering; const l = i.isKeyboardFocused; const u = i.isOverPlayhead; const c = this.canvasWidth(); const h = this.canvasHeight(); const d = this.canvasEl.getContext('2d'); d.globalCompositeOperation = 'source-over', d.clearRect(0, 0, c, h); const p = this.unfilledBarWidth(); const f = this.props.height * n / 2; d.strokeStyle = 'rgba(255,255,255,.6)', d.lineWidth = this.barHeight() * n, d.beginPath(), d.lineCap = 'round', d.moveTo(this.leftBarMargin() * n, f), d.lineTo((this.leftBarMargin() + p) * n, f), d.stroke(); const y = this.playedPercent() * p; d.strokeStyle = 'rgba(255,255,255,1)', d.lineWidth = this.barHeight() * n, d.beginPath(), d.lineCap = 'round', d.moveTo(this.leftBarMargin() * n, f), d.lineTo((this.leftBarMargin() + y) * n, f), d.stroke(); let v = this.props.chapters; const m = this.props; const g = m.chapterWithFocusedMarker; const b = m.duration; const _ = 1.4 * this.barHeight() * n; if (((t = v) === null || void 0 === t ? void 0 : t.length) > 0) { if (g) { v = (0, a.clone)(v); for (var w = -1, P = 0; P < v.length; P++) if (v[P].id === g.id) { w = P; break }v.splice(w, 1), v.push(g) }v.forEach(function (t) { const i = t.time / b; const r = (e.leftBarMargin() + i * p) * n; let o = _; g === t && (o *= 1.5), d.beginPath(), d.arc(r, f, 1.6 * o, 0, 2 * Math.PI), d.closePath(), d.globalCompositeOperation = 'destination-out', d.fill() }), v.forEach(function (t) { const i = t.time / b; const r = (e.leftBarMargin() + i * p) * n; let o = 0.6; let a = _; g === t && (a *= 2, o = 1), d.beginPath(), d.arc(r, f, a, 0, 2 * Math.PI), d.closePath(), d.globalCompositeOperation = 'source-over', d.fillStyle = 'rgba(255,255,255,'.concat(o, ')'), d.fill(); const s = a - 0.75 * e.barHeight() * n; d.beginPath(), d.arc(r, f, s, 0, 2 * Math.PI), d.closePath(), d.globalCompositeOperation = 'destination-out', d.fillStyle = 'rgba(0,0,0,1)', d.fill() }), d.globalCompositeOperation = 'source-over' } const O = r || l || u; const k = O ? 2 : x; let S = !1; k !== this.playheadScale && (S = !0, this.playheadScale = O ? 2 : x, this.lastScaledAt = Date.now()); const E = O ? 0 : 100; S && this.animateUntil(Date.now() + E); const T = E === 0 ? 1 : 2 - Math.min(1, (Date.now() - this.lastScaledAt) / E); const C = this.lastScaledAt ? T * k : 1; const A = 1.4 * this.barHeight() * n * C; const j = (this.leftBarMargin() + y) * n; const B = 2 * A; const R = 2 * B; const D = d.createRadialGradient(j, f, 0, j, f, B); if (D.addColorStop(0, 'rgba(255,255,255,.5)'), D.addColorStop(1, 'rgba(255,255,255,0)'), d.beginPath(), d.rect(j - B, f - B, R, R), d.closePath(), d.fillStyle = D, d.fill(), d.beginPath(), d.arc(j, f, A, 0, 2 * Math.PI), d.closePath(), d.fillStyle = 'rgba(255,255,255,1)', d.fill(), l && (d.beginPath(), d.arc(j, f, 1.5 * A, 0, 2 * Math.PI), d.closePath(), d.strokeWidth = n || 1, d.stroke()), s && !r && !g) { d.beginPath(); const M = 1.4 * this.barHeight() * n; const I = (this.leftBarMargin() + o * this.unfilledBarWidth()) * n - M / 2; d.arc(I, f, M, 0, 2 * Math.PI), d.closePath(), d.fillStyle = 'rgba(255,255,255,1)', d.fill() } } } }, { key: 'animateUntil', value: function (t) { (!this._animEndTime || t > this._animEndTime) && (this._animEndTime = t), this._animating || (this.animateCanvasUntilEndTime(), this._animating = !0) } }, { key: 'animateCanvasUntilEndTime', value: function () { const t = this; requestAnimationFrame(function () { Date.now() > t._animEndTime ? t._animating = !1 : (t.drawCanvas(), t.animateCanvasUntilEndTime()) }) } }, { key: 'maybeCallOnResize', value: function () { let t; let e; const n = this.unfilledBarWidth() + 2; const i = this.props.left + this.timeLeftPadding() + this.leftBarMargin() + this.timeWidth() - 1; this._lastPlaybarWidth === n && this._lastPlaybarBarLeftOffsetFromPlayerLeftEdge === i || ((t = (e = this.props).onResize) === null || void 0 === t || t.call(e, { playbarBarWidth: n, playbarBarLeftOffsetFromPlayerLeftEdge: i }), this._lastPlaybarWidth = n, this._lastPlaybarBarLeftOffsetFromPlayerLeftEdge = i) } }, { key: 'render', value: function () { const t = this; return this.maybeCallOnResize(), this.oldWrapperElem = this.wrapperElem, (0, u.h)('div', { class: ''.concat(j, '-wrapper w-css-reset w-css-reset-tree'), style: this.wrapperStyle() }, this.props.shouldShowTime ? this.renderTime() : void 0, (0, u.h)('div', { 'aria-label': 'Playbar', 'aria-orientation': 'horizontal', 'aria-valuemax': this.props.duration, 'aria-valuemin': 0, 'aria-valuenow': this.ariaValueNow(), 'aria-valuetext': this.ariaValueText(), onBlur: this.props.onBlur, onFocus: this.onFocus, onfocusout: this.onFocusOut, onKeyDown: this.onKeyDown, onMouseDown: this.onMouseDown, onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave, onMouseMove: this.onMouseMove, onMouseUp: this.onMouseUp, ref: this.setWrapperRef, role: 'slider', style: this.dragAreaStyle(), tabindex: this.props.isVisible ? 0 : -1 }, (0, u.h)('canvas', { height: this.canvasHeight(), ref: function (e) { return t.canvasEl = e }, style: this.canvasStyle(), width: this.canvasWidth() }), (0, u.h)('div', { onMouseEnter: this.onMouseEnterPlayhead, onMouseLeave: this.onMouseLeavePlayhead, ref: function (e) { return t.playheadEl = e }, style: this.playheadStyle() }), void 0 !== S ? (0, u.h)(S, y({}, this.props, { onFocus: this.onFocusChapterMarkers, timeLeft: -10, timeRight: -10 })) : null, this.props.shouldShowStoryboard && void 0 !== T ? (0, u.h)(T, y({}, this.props, { hasChapters: this.state.loadedChapters, isHovering: this.state.isHovering, getDurationBeforeCuts: this.props.getDurationBeforeCuts, getTimeBeforeCuts: this.props.getTimeBeforeCuts, hoverPercent: this.state.hoverPercent, left: this.props.left + this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin(), width: this.unfilledBarWidth() })) : null, this.props.shouldShowTimeOnHover && this.state.isHovering && (0, u.h)(p.default, { left: this.state.hoverPercent * this.unfilledBarWidth(), time: this.getHoverTime(), height: this.props.height, widthOfPlaybar: this.unfilledBarWidth() }), this.props.shouldShowChapterTitles && void 0 !== E ? (0, u.h)(E, y({}, this.props, { left: this.props.left + this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin(), width: this.unfilledBarWidth() })) : null)) } }, { key: 'renderTime', value: function () { const t = this; return (0, u.h)('div', { class: ''.concat(j, '__time'), style: this.timeStyle(), ref: function (e) { return t.timeElem = e } }) } }, { key: 'componentDidMount', value: function () { this.drawCanvas(), this.lastRenderedAt = Date.now(), C.touchScreen && this.wrapperElem && (this.touchEvents = new f.default(this.wrapperElem), this.touchEvents.on('touchstart', this.onTouchStart)), this.maybeUpdateTimeText(); const t = this.props; t.isPlaying && this.setState({ hasPlayed: !0 }), t.isPlaying && this.startAnimLoopIfPlaying(), this.props.setTimeWidth(this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin()), this.props.setRightBarMargin(this.rightBarMargin()) } }, { key: 'componentDidUpdate', value: function (t, e) { this.drawCanvas(); const n = this.props; this.lastRenderedAt = Date.now(), C.touchScreen && this.wrapperElem && this.oldWrapperElem !== this.wrapperElem && (this.touchEvents && this.touchEvents.destroy(), this.touchEvents = new f.default(this.wrapperElem), this.touchEvents.on('touchstart', this.onTouchStart)), n.isPlaying && !this.state.hasPlayed && this.setState({ hasPlayed: !0 }), this.maybeUpdateTimeText(); const i = n.isPlaying && !t.isPlaying; const r = e.currentBufferTime != this.state.currentBufferTime; const o = n.isVisible && !t.isVisible; (i || o || r) && this.startAnimLoopIfPlaying(), !n.isVisible && t.isVisible && this.stopAnimLoop(), this.props.setTimeWidth(this.timeWidth() + this.timeLeftPadding() + this.leftBarMargin()), this.props.setRightBarMargin(this.rightBarMargin()) } }, { key: 'componentWillUnmount', value: function () { (0, l.elemUnbind)(document, 'mousemove', this.onMouseMoveDragging), (0, l.elemUnbind)(document, 'mouseup', this.onMouseUpDragging), this.touchEvents && (this.touchEvents.destroy(), this.touchEvents = null) } }, { key: 'getHoverTime', value: function () { return (0, s.flexibleDuration)(Math.round(this.state.hoverPercent * this.props.duration)) } }, { key: 'placeholderStyle', value: function () { return { cursor: 'default', height: '100%', outline: 'none', position: 'relative', width: '100%' } } }, { key: 'wrapperStyle', value: function () { const t = this.props; const e = t.videoWidth; const n = t.width; return { display: 'flex', height: '100%', width: n === e ? ''.concat(n, 'px') : '100%' } } }, { key: 'dragAreaStyle', value: function () { return { cursor: 'pointer', flex: '1 1', height: ''.concat(this.props.height, 'px'), outline: 'none', marginLeft: ''.concat(this.leftBarMargin(), 'px'), marginRight: ''.concat(this.rightBarMargin(), 'px'), position: 'relative' } } }, { key: 'leftBarMargin', value: function () { return this.props.leftControlBarWidth === 0 ? this.rightBarMargin() : 1.5 * this.rightBarMargin() } }, { key: 'rightBarMargin', value: function () { const t = this.props; const e = t.duration; const n = t.scale; const i = 7 * (0, s.flexibleDuration)(900).length; const r = 7 * (0, s.flexibleDuration)(e).length; return 10 * (i < r ? i / r : 1) * n } }, { key: 'timeLeftPadding', value: function () { const t = this.props; const e = t.leftControlBarWidth; const n = t.isPlaceholder; return t.shouldShowTime ? e === 0 ? this.leftBarMargin() / 1.33 : n ? this.leftBarMargin() : this.leftBarMargin() / 3 : 0 } }, { key: 'timeStyle', value: function () { const t = this.props; const e = t.height; const n = t.scale; return { boxSizing: 'content-box', color: 'white', fontFamily: r.interNumbersSemiBold, fontSize: ''.concat(13 * n, 'px'), letterSpacing: ''.concat(0.5 * n, 'px'), lineHeight: ''.concat(e, 'px'), paddingLeft: ''.concat(this.timeLeftPadding(), 'px'), pointerEvents: 'none', position: 'relative', textAlign: 'center', width: ''.concat(this.timeWidth(), 'px') } } }, { key: 'timeWidth', value: function () { const t = this.props; const e = t.duration; const n = t.scale; return t.shouldShowTime ? 7 * (0, s.flexibleDuration)(e).length * n : 0 } }, { key: 'filledBarStyle', value: function () { const t = this.barHeight(); return { background: '#fff', borderRadius: ''.concat(t, 'px'), height: ''.concat(t, 'px'), left: 0, position: 'absolute', top: 0, width: ''.concat(100 * this.playedPercent(), '%') } } }, { key: 'barHeight', value: function () { return 2 * this.props.scale } }, { key: 'unfilledBarStyle', value: function () { const t = this.props.height; return { background: 'rgba(255,255,255,.6)', borderRadius: ''.concat(this.barHeight(), 'px'), height: ''.concat(this.barHeight(), 'px'), left: 0, pointerEvents: 'none', position: 'absolute', top: ''.concat((t - this.barHeight()) / 2, 'px'), width: ''.concat(this.unfilledBarWidth(), 'px') } } }, { key: 'unfilledBarWidth', value: function () { const t = 2 * this.props.controlBarDistance; return this.props.width - this.timeLeftPadding() - this.timeWidth() - this.leftBarMargin() - this.rightBarMargin() - t } }, { key: 'playedPercent', value: function () { const t = this.state; const e = this.props; const n = e.duration; const i = e.getCurrentTime; const r = e.isSeeking; const o = e.resumableTime; return t.dragMode || t.wasBeforePlayOnDrag && (r || !t.hasPlayed) ? t.dragPercent : o && !t.hasPlayed ? B(o / n) : B(i() / n) } }, { key: 'bufferedAheadPercent', value: function () { const t = this.state; if (this.props.isBeforePlay) return 0; if (t.dragMode) { const e = t.currentBufferTime / this.props.duration; return B(e - t.dragPercent) } return B((this.props.getCurrentBufferTime() - this.props.getCurrentTime()) / this.props.duration) } }, { key: 'emptyPercent', value: function () { return 1 - B(this.playedPercent() + this.bufferedAheadPercent()) } }, { key: 'timeText', value: function () { const t = this.state; const e = this.props; return t.dragMode || t.wasBeforePlayOnDrag && (this.props.isSeeking || !t.hasPlayed) ? (0, s.flexibleDuration)(t.dragPercent * e.duration) : t.hasPlayed || this.props.getCurrentTime() >= 1 ? (0, s.flexibleDuration)(e.getCurrentTime()) : e.resumableTime ? (0, s.flexibleDuration)(e.resumableTime) : (0, s.flexibleDuration)(e.duration) } }, { key: 'ariaValueNow', value: function () { return this.state.dragMode ? this.state.dragPercent * this.props.duration : this.props.getCurrentTime() } }, { key: 'ariaValueText', value: function () { return (0, s.accessibilityDuration)(this.props.getCurrentTime()) } }, { key: 'cachePositionDetails', value: function () { this.offset = (0, l.elemOffset)(this.wrapperElem) } }, { key: 'getPercentFromPossiblyExternalMouseEvent', value: function (t) { return t.target === this.wrapperElem ? this.getPercentFromMouseEvent(t) : this.getPercentFromPageX(t.pageX) } }, { key: 'getPercentFromMouseEvent', value: function (t) { const e = t.offsetX; const n = this.offset ? this.offset.zoom : 1; return this.getPercentFromOffsetX(e / n) } }, { key: 'getPercentFromOffsetX', value: function (t) { return Math.max(0, Math.min(1, t / this.unfilledBarWidth())) } }, { key: 'getPercentFromPageX', value: function (t) { if (void 0 === this.offset) return 0; const e = this.unfilledBarWidth(); const n = this.offset.width / e; const i = (t - this.offset.left) / n; return this.getPercentFromOffsetX(i) } }, { key: 'getPercentFromTouchEvent', value: function (t) { const e = t.changedTouches; return '0' in e ? this.getPercentFromPageX(e[0].pageX) : 0 } }, { key: 'handleWithProp', value: function (t, e) { const n = this.props[t]; if (n) { for (var i = arguments.length, r = new Array(i > 2 ? i - 2 : 0), o = 2; o < i; o++)r[o - 2] = arguments[o]; n.apply(void 0, [e].concat(r)) } } }, { key: 'maybeUpdateTimeText', value: function () { const t = this.timeText(); this.timeElem && t !== this._lastTimeText && (this.timeElem.innerText = t), this._lastTimeText = t } }, { key: 'playheadLeftPosition', value: function () { return this.unfilledBarWidth() * this.playedPercent() } }, { key: 'setColorsFromPlayerColor', value: function (t) { this.playedColor = new o.Color(t).darken(30).alpha(0.7), this.bufferedColor = new o.Color(t).lighten(75).alpha(0.6), this.emptyColor = new o.Color(t).lighten(40).alpha(0.3) } }], n && g(e.prototype, n), i && g(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), m }(u.Component)) }, (t, e, n) => { n.d(e, { addInterNumbersFontFace: () => a }); const i = n(3); const r = n(5); const o = "\n@font-face {\nfont-family: 'WistiaPlayerInterNumbersSemiBold';\nfont-feature-settings: 'tnum' 1;\nsrc: url(data:application/x-font-woff;charset=utf-8;base64,".concat('d09GMk9UVE8AAAaMAAwAAAAACgAAAAZBAAMD1wAAAAAAAAAAAAAAAAAAAAAAAAAADYpwGhQbIBwqBmAAgTIBNgIkAzAEBgWDGgcgGykJEZWkARP8KHCbm2tEznyIN98tPTUk9Ig3oiVV3pbDIzXa+f/fZgXpALFTZhBoMVFC9cp036dXvRKVmVnsxe+D+1NDQI5lG7ikZWEINIElTeBIdnxlhauQ5GQtoLHA/wN0riVdSx5xgbxF3KTbgnjVQ4B9P7YqCx7FpEZK+6ilx0AoopUh4aExJEKmkU+0ncdr4iFfKhdSFD9y91LCRaxNbVqvi0dND3rxI7ndUDR7EiwT3bhiua9krFA0oepCy2hCjwmjnjDjKjNTDz2ZuHtN8820Wfw/l8u4w4yV/f8/6uscs5rmiN00LcP4hAofyZUSyS3WinX0RGFFtnGrjj36x6dlNa57+PLTlrUisH2n9orfgd+R34XfDd0NsWDXwfwhvKHpbs3UBni37dBlPvO4KYn/PgylilcgSdw6sjsSSxsRGfIJgqhi14bKZCHcQvjUh/+3HMotTYrGLVYCxyMFjEnYC98yTAp6atAKVxaZ9eu2NMji8WTj4w/Y34elD60PPwb5bEywLqAX/amwmUo6TBCy14N/TL44jb3sE5JdUIPXXI0RBSoGt3BUObn4agKGIxxQhlyQacbstK4fS2mZoBtFNQ1bd+4zND2vQu6anl7gWFOj8MV2DVMtU44xMhpwElrrjA7zO5IqWojd/v1Vso6cqp91zC2YrGhDOy07Iqyza2q9smDIwUYek0AWbCt/8x78QmrzayQ6xtpmqfCYsLfgU9HdeP3UqutZTTNd/9Q8k08XzXzIxSdvLPda8YaeeZnkxUwql0nDKyUYdaWZjGAy7UDLHpVqBVHTxSV0wBy21El9u/491ik2J3YkdiP2LPZL41RBeeNUWtp97Bbn0Ee1g9wr9qqV/X+4R9nlPX03743dylnaXZyNp8v58yLOsFYCbUnCVQzjN+5QhlmKccO7aMkueWJggROd4qnw2x5LydUcg/NRamE3XMlkGovpRWPKWEavP74P2O1RANM/3gIIPJj7TX+lqU2geQuaBx4B/7cWAOx0ucTiEHYJU9y5DBuUMYNIHeHZz9tn+Fw2G5EBTqUlHRfRi4eB5wNlJsRsv5k4b6HyFkhIC6BO4LzPbWhW7rbCcxubeKHOc6UaBKZBMMd4j8XuRUynOCCa4EMfF9grkI1NcTaSAVtk1nrIOwFfeEBlQw4f4phb6zHzBOm0ZZ0dBcaZRVdYIo5xYiyOMEWONwQHmjKGE//VuRBgul1QrpyxmMvF4vGj0xfuuQrNt4tVTsRhEnjY9AuKa1FVLSEneQWzFd5WbO7hasX08ONUOVQgwQuVqACFXkSoIoUgK1hJEkAgbkG5CjqBS5wrRFuY2IfVwhRnLsVyZTZpatveGR4yEbYqbE6J80nM4aa+LD7Oqmr8PdSJFUQVynmgN4lerGQV1+uLdYzdOFWHPW/iK2gIQayhizQ0NMwyvBEBlrDczRfmU40CTtAHqLQGnjQG8MYkxm1MwJuTqjHwVCu9iRJ1C8ojWGHxUYowH0c5X57zpXquvlw0wzHHGMTfufxiJ1psFJTzq6nGeDvHF4LgmHHWCUViZBaInRn+cswnBi460RBPRYg9TRUQ0CZUC5LAT0qLLu50FpdTeBhjGf7/h4dg9hE0uqsBx/saOcYRDIfnOhfzGFBHyizcJK3p2edUjWrC0rn1aGjXtfVUCHMAKKhlxV8eTEIcV2jCOdKiqahv/MisrfRQVnxPJoOU62mR6pu2ZllIzo8zOZqQB7kWJXW2/c0aihata5PcIVJKfFRgHAETmEQVTCELptGMGcyigTnMJ1voUVN6uCZS9pV2hrwl7FYMvBwtUSd7L7E5qP9t7BIPRF7EcmA9ct2nIPHrxgWajtDltbXuBLuaY6qRZGa5ZlX5anfR0lYXaHUzVSFjZa8rfdhZ8rKXFZg21LVL5LFjI5TlDIbwnFGHE2dypHs6Q50N015dpOgLONEUlOqoiQgIaeCsjMq9gITDKwRMieQgKUy9UQY1BTFYZU2KpE2SkILMIjW8IdFwIKmMaK8oClJVssAEtFnz5dQ1s+w6EZoNGtPGQfzx+aoE8ikiP8GCYOWtgB+HBdWDaxACAZInVq14dZI85RRDvZGIghyONw59KV/BBEQ02P1ER8hmNGiURT2hQP8WfAY=', ');\n}\n'); var a = function () { i.Wistia._interNumbersFontFaceSemiBold || (i.Wistia._interNumbersFontFaceSemiBold = (0, r.addInlineCss)(document.body || document.head, o)) }; a() }, (t, e, n) => { n.d(e, { default: () => u }); const i = n(33); const r = n(2); function o (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function a (t, e) { return a = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, a(t, e) } function s (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = l(t); if (e) { const r = l(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function l (t) { return l = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, l(t) } const u = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && a(t, e) }(c, t)); let e; let n; let l; const u = s(c); function c () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)), u.apply(this, arguments) } return e = c, (n = [{ key: 'getLeftValue', value: function () { const t = this.props.left; return this.isInBeginningZone() ? 0 : this.isInEndZone() ? void 0 : t } }, { key: 'getRightValue', value: function () { if (this.isInEndZone()) return 0 } }, { key: 'getTopValue', value: function () { const t = this.props.height / 2 - 1.5 * this.heightOfTimeBadge(); return Math.max(2, t) } }, { key: 'isInBeginningZone', value: function () { return this.props.left < this.widthOfTimeBadge() / 2 } }, { key: 'isInEndZone', value: function () { return this.props.left >= this.props.widthOfPlaybar - this.widthOfTimeBadge() / 2 } }, { key: 'timeBadgeStyle', value: function () { const t = this.isInBeginningZone() || this.isInEndZone(); return { color: '#fff', fontFamily: i.interNumbersSemiBold, fontSize: '13px', left: this.getLeftValue(), position: 'absolute', right: this.getRightValue(), top: this.getTopValue(), transform: t ? '' : 'translateX(-50%)' } } }, { key: 'widthOfTimeBadge', value: function () { let t; return ((t = this._timeBadgeRef) === null || void 0 === t ? void 0 : t.getBoundingClientRect().width) || 24 } }, { key: 'heightOfTimeBadge', value: function () { let t; return ((t = this._timeBadgeRef) === null || void 0 === t ? void 0 : t.getBoundingClientRect().height) || 16 } }, { key: 'render', value: function () { const t = this; return (0, r.h)('span', { ref: function (e) { return t._timeBadgeRef = e }, style: this.timeBadgeStyle() }, this.props.time) } }]) && o(e.prototype, n), l && o(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(r.Component)) }, (t, e, n) => { n(3); const i = n(2); const r = n(164); const o = n(11); const a = n(159); const s = n(185); const l = n(60); const u = n(62); function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, y(i.key), i) } } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = f(t); if (e) { const r = f(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return p(t) }(this, n)) } } function p (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function f (t) { return f = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, f(t) } function y (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const v = (0, o.cachedDetect)(); const m = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(u, t)); let e; let n; let o; const a = d(u); function u (t) { let e, n, i, r; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, u)), e = a.call(this, t), n = p(e), r = function () { e.playedOnce ? e.video.isControlEnabled('centeredPlayPauseToggler') && !e.props.chromeless || e.video._inNativeMode() || (e.ignoreNextPlayOrPause ? e.ignoreNextPlayOrPause = !1 : (e.isPlaying = e.video.state() === 'playing', e.renderAndFade())) : e.playedOnce = !0 }, (i = y(i = 'showIconAndFade')) in n ? Object.defineProperty(n, i, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : n[i] = r, e.isOpaque = !1, e.unbinds.push(t.on('play', e.showIconAndFade), t.on('pause', e.showIconAndFade)), e } return e = u, (n = [{ key: 'destroy', value: function () { (0, l.destroyControl)(this) } }, { key: 'mount', value: function (t) { this.rootElem = t } }, { key: 'onControlPropsUpdated', value: function (t) { t.videoWidth !== this.props.videoWidth && this.renderButton() } }, { key: 'renderAndFade', value: function () { const t = this; const e = this.video.lastPlayInfo(); if (!this.isPlaying || e.source === 'user-event') { const n = this.video.lastPauseInfo(); (this.isPlaying || n.source === 'user-event') && (this.isOpaque = !0, this.renderButton(), clearTimeout(this.fadeTimeout), this.fadeTimeout = setTimeout(function () { t.isOpaque = !1, t.renderButton() }, 20)) } } }, { key: 'renderButton', value: function () { (0, i.render)((0, i.h)('div', { class: 'w-play-pause-notifier', style: this.rootStyle() }, (0, i.h)('div', { style: this.graphicStyle() }, (0, i.h)(s.SmallPlayButton, { isPlaying: !this.isPlaying, noPadding: !0 }))), this.rootElem), this.reactMounts = [this.rootElem] } }, { key: 'oldRootStyle', value: function () { const t = this.scale(); const e = this.isPlaying; const n = e ? 60 : 50; return { height: ''.concat((e ? 72 : 80) * t, 'px'), left: '50%', pointerEvents: 'none', position: 'absolute', opacity: this.isOpaque ? 0.5 : 0, top: '50%', transform: 'translate(-'.concat(e ? 33 : 50, '%, -50%) scale(').concat(this.isOpaque ? 0.9 : 1.1, ')'), transition: this.isOpaque ? '' : 'opacity .8s, transform .8s', width: ''.concat(n * t, 'px') } } }, { key: 'rootStyle', value: function () { const t = this.scale(); return { background: 'rgba(0,0,0,.6)', borderRadius: '50%', height: ''.concat(140 * t, 'px'), left: '50%', pointerEvents: 'none', position: 'absolute', opacity: this.isOpaque ? 0.6 : 0, top: '50%', transform: 'translate(-50%, -50%) scale('.concat(this.isOpaque ? 0.7 : 0.8, ')'), transition: this.isOpaque ? '' : 'opacity .8s, transform .8s', width: ''.concat(140 * t, 'px') } } }, { key: 'graphicStyle', value: function () { const t = this.scale(); const e = this.isPlaying; const n = e ? 60 : 50; return { height: ''.concat((e ? 72 : 80) * t, 'px'), left: '50%', pointerEvents: 'none', position: 'absolute', top: '50%', transform: 'translate(-'.concat(e ? 38 : 50, '%, -').concat(e ? 47 : 50, '%)'), width: ''.concat(n * t, 'px') } } }, { key: 'scale', value: function () { return Math.min(1.3, Math.max(0.3, (0, r.controlMultiplierBasedOnVideo)(this.video, [640, 960]))) } }, { key: 'svgStyle', value: function () { return { filter: 'drop-shadow(0px 0px 3px rgba(0,0,0,0.5))' } } }]) && c(e.prototype, n), o && c(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), u }(a.default)); m.shouldMount = function (t) { return !1 !== t._attrs.playPauseNotifier && !v.touchScreen }, m.handle = 'playPauseNotifier', m.type = 'above-control-bar', (0, u.defineControl)(m) }, (t, e, n) => { n.d(e, { SmallPlayButton: () => h }); const i = n(2); const r = n(6); const o = n(35); function a () { return a = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, a.apply(this, arguments) } function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function l (t, e) { return l = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, l(t, e) } function u (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = c(t); if (e) { const r = c(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function c (t) { return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, c(t) } var h = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && l(t, e) }(d, t)); let e; let n; let c; const h = u(d); function d () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, d)), h.apply(this, arguments) } return e = d, (n = [{ key: 'shouldComponentUpdate', value: function (t) { return this.props.isPlaying !== t.isPlaying } }, { key: 'render', value: function () { return (0, i.h)('div', { style: this.rootStyle() }, (0, i.h)('div', { style: { display: this.props.isPlaying ? 'block' : 'none', height: '100%', width: '100%' } }, this.renderPauseIcon()), (0, i.h)('div', { style: { display: this.props.isPlaying ? 'none' : 'block', height: '100%', width: '100%' } }, this.renderPlayIcon())) } }, { key: 'renderPlayIcon', value: function () { const t = this.props.noPadding; const e = t ? 0 : 20; const n = t ? 0 : 9; const r = 11.556; const o = ''.concat(e + r, ',').concat(n + 7.5, ' ').concat(e, ',').concat(n + 15, ' ').concat(e, ',').concat(n); return (0, i.h)('svg', a({}, this.svgAttrs(r + 2 * e, 15 + 2 * n), { class: 'w-css-reset w-css-reset-tree' }), (0, i.h)('polygon', { points: o })) } }, { key: 'renderPauseIcon', value: function () { const t = this.props.noPadding; const e = t ? 0 : 20; const n = t ? 0 : 11.3; return (0, i.h)('svg', a({}, this.svgAttrs(10 + 2 * e, 12 + 2 * n), { class: 'w-css-reset w-css-reset-tree' }), (0, i.h)('g', null, (0, i.h)('rect', { x: e, y: n, width: '3.5', height: 12 }), (0, i.h)('rect', { x: e + 6.5, y: n, width: '3.5', height: 12 }))) } }, { key: 'rootStyle', value: function () { return { height: '100%', width: '100%' } } }, { key: 'svgAttrs', value: function () { const t = this.props.noPadding; const e = this.props.isPlaying; const n = t ? 0 : 20; const i = t ? 0 : e ? 11.3 : 9; const a = e ? 12 : 16; const s = e ? 10 : 11.556; const l = (0, o.standardSvgAttrs)({ width: s + 2 * n, height: a + 2 * i, ariaHidden: !0 }); return (0, r.merge)(l.style, this.props.svgStyle), l } }]) && s(e.prototype, n), c && s(e, c), Object.defineProperty(e, 'prototype', { writable: !1 }), d }(i.Component)) }, (t, e, n) => { n(3); const i = n(2); const r = n(73); const o = n(159); const a = n(74); const s = n(187); const l = n(60); const u = n(62); function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } const f = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(p, t)); let e; let n; let o; const u = d(p); function p (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), (e = u.call(this, t)).video = t, e.unbinds.push(t.on('play', function () { return e.renderProgressIndicator() }), t.on('playrejected', function () { return e.renderProgressIndicator() }), t.on('playpending', function () { return e.renderProgressIndicator() }), t.on('up', function () { return e.renderProgressIndicator() }), t.on('end', function () { return e.renderProgressIndicator() })), e } return e = p, (n = [{ key: 'boundedScale', value: function () { const t = this.props.scale; return Math.min(Math.max(t, 0.8), 2) } }, { key: 'destroy', value: function () { (0, l.destroyControl)(this) } }, { key: 'isVisible', value: function () { return this._isVisible } }, { key: 'mount', value: function (t) { this.rootElem = t, this.renderProgressIndicator() } }, { key: 'onControlPropsUpdated', value: function (t) { t.containerWidth !== this.props.containerWidth && this.renderProgressIndicator() } }, { key: 'rootStyle', value: function () { return { bottom: 0, left: 0, position: 'absolute', width: '100%' } } }, { key: 'renderProgressIndicator', value: function () { const t = (function (t, e) { if (t != null && e) return 100 * t / e }((0, r.getLastTime)(this.video.hashedId()), this.video.duration())); this._isVisible = t > 0 && this.video.shouldResume() && (0, s.default)(this.video), (0, i.render)((0, i.h)('div', { style: this.rootStyle() }, (0, i.h)(a.ProgressIndicator, { color: this.video.playerColor(), isVisible: this._isVisible, percentWatched: t, scale: this.boundedScale() })), this.rootElem) } }]) && c(e.prototype, n), o && c(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(o.default)); f.handle = 'playbarlessProgressIndicator', f.type = 'foreground', f.sortValue = 1800, f.shouldMount = function (t) { return !t.isAudio() && !1 !== t._attrs.resumable && t._opts.version !== 'v1' && !1 === t._attrs.controlsVisibleOnLoad }, (0, u.defineControl)(f) }, (t, e, n) => { n.d(e, { default: () => r }); const i = (0, n(11).cachedDetect)(); const r = function (t) { const e = t.lastPlayInfo(); const n = Date.now() - e.issuedAt; const r = !e.source || e.rejectedAt; const o = e.isPending && e.source === 'user-event' && n < 2e3; const a = t._opts && t._attrs.endVideoBehavior === 'reset' && t.state() === 'ended'; const s = e.isPending && e.source === 'non-user-event' && !t.isMuted() && (!1 === t._attrs.silentAutoplay || t._attrs.silentAutoplay == null) && (i.iphone || i.ipad || i.safari); return t.up() && (t.state() === 'beforeplay' || a) && (r || s || o || a) } }, (t, e, n) => { const i = n(3); const r = n(5); const o = n(2); const a = n(39); const s = n(189); const l = n(159); const u = n(60); const c = n(62); const h = n(38); function d (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return p(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return p(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function p (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function f (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, _(i.key), i) } } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t, e, n) { return (e = _(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function _ (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) }(0, h.defineTranslations)('en-US', { SETTINGS_PLAYBACK_RATE_TITLE: 'Speed', SETTINGS_QUALITY_AUTO: 'Auto', SETTINGS_QUALITY_TITLE: 'Quality', SETTINGS_TITLE: 'Settings', SETTINGS_HIDE_MENU: 'Hide settings menu', SETTINGS_SHOW_MENU: 'Show settings menu' }); const w = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(c, t)); let e; let n; let i; const l = v(c); function c (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)), b(m(e = l.call(this, t)), 'onKeyUp', function (t) { const n = e.video.getInputContext(); const i = ['player-mouseover', 'player-focus', 'playbar-focus', 'background-focus'].indexOf(n) >= 0; if (!(0, r.formInputIsFocused)() && i && e.getPlaybackRateEnabled()) { if (t.key === '>') { const o = Math.min(e.video.playbackRate() + 0.25, 2); e.video.playbackRate(o) } if (t.key === '<') { const a = Math.max(e.video.playbackRate() - 0.25, 0.5); e.video.playbackRate(a) } } }), b(m(e), 'loadMenuCode', function () { return Promise.all([(0, a.dynamicImport)('assets/external/interFontFace.js'), (0, a.dynamicImport)('assets/external/vulcanV2Player/video/controls/SettingsControl/dialog.js')]).then(function (t) { const n = d(t, 2)[1]; if (!e.renderMenuImpl) { const i = n.renderMenu; const r = n.onSelect; e.renderMenuImpl = i.bind(m(e)), e.onSelect = r.bind(m(e)) } }) }), b(m(e), 'onMouseEnterButton', function () { e.loadMenuCode() }), e.unbinds.push(t.on('playbackratechange', function () { e.menuElem && e.renderMenu() }), t.on('qualitychange', function () { e.menuElem && e.renderMenu() }), t.on('playerlanguagechange', function () { e.menuElem && e.renderMenu() }), (0, r.elemBind)(document, 'keyup', e.onKeyUp)), t.hasData(function () { if (e._isQualityEnabled == null) { const n = t._attrs.qualityControl; e._isQualityEnabled = !0 === n || n == null } if (e._isPlaybackRateEnabled == null) { const i = t._attrs.playbackRateControl; e._isPlaybackRateEnabled = !0 === i || i == null } }), e } return e = c, (n = [{ key: 'destroy', value: function () { (0, u.destroyControl)(this) } }, { key: 'translate', value: function (t) { return (0, h.getTranslation)(this.props.playerLanguage.code, 'SETTINGS_'.concat(t)) } }, { key: 'controlDialogOpened', value: function () { this.updateButtonLabel() } }, { key: 'controlDialogClosed', value: function () { this.updateButtonLabel() } }, { key: 'mountButton', value: function (t) { this.buttonRoot = t, this.renderButton() } }, { key: 'mountDialog', value: function (t) { return this.dialogRoot = t, this.renderMenu() } }, { key: 'renderButton', value: function () { this.setButtonLabel(this.translate('TITLE')), this.updateButtonLabel(), (0, o.render)((0, o.h)(s.default, { onMouseEnter: this.onMouseEnterButton }), this.buttonRoot), this.reactMounts.button = [this.buttonRoot] } }, { key: 'renderMenu', value: function () { const t = this; if (this.dialog.isOpen()) { const e = this.loadMenuCode().then(function () { t.renderMenuImpl() }); return this.loading(new Promise(function (t) { e.then(t) })), e } } }, { key: 'onControlPropsUpdated', value: function (t) { this.dialog && this.dialog.isOpen() && this.renderMenu(), t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code && (this.renderButton(), this.renderMenu()) } }, { key: 'updateButtonLabel', value: function () { this.dialog && (this.dialog.isOpen() ? this.setButtonLabel(this.translate('HIDE_MENU')) : this.setButtonLabel(this.translate('SHOW_MENU'))) } }, { key: 'setQualityEnabled', value: function (t) { const e = this; return this._isQualityEnabled = t, this.loadMenuCode().then(function () { e.dialog.isOpen() && e.renderMenuImpl() }) } }, { key: 'getPlaybackRateEnabled', value: function () { return Boolean(this._isPlaybackRateEnabled) } }, { key: 'setPlaybackRateEnabled', value: function (t) { const e = this; return this._isPlaybackRateEnabled = t, this.loadMenuCode().then(function () { e.dialog.isOpen() && e.renderMenuImpl() }) } }]) && f(e.prototype, n), i && f(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(l.default)); w.shouldMount = function (t) { const e = t._attrs; const n = e.settingsControl; const i = e.qualityControl; const r = e.playbackRateControl; return !t.isLiveMedia() && (!1 !== n && (!0 === i || i == null || !0 === r || r == null)) }, w.handle = 'settingsButton', w.type = 'control-bar-right', w.sortValue = 200, w.isVideoChrome = !0, (0, c.defineControl)(w), i.Wistia.SettingsControl = w }, (t, e, n) => { n.d(e, { default: () => c }); const i = n(2); const r = n(35); function o () { return o = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o.apply(this, arguments) } function a (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function s (t, e) { return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, s(t, e) } function l (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = u(t); if (e) { const r = u(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function u (t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } const c = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && s(t, e) }(h, t)); let e; let n; let u; const c = l(h); function h () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)), c.apply(this, arguments) } return e = h, (n = [{ key: 'shouldComponentUpdate', value: function () { return !1 } }, { key: 'render', value: function () { return (0, i.h)('svg', o({}, (0, r.standardSvgAttrs)({ width: 40, height: 34, ariaHidden: !0 }), { onMouseEnter: this.props.onMouseEnter }), (0, i.h)('g', null, (0, i.h)('g', null, (0, i.h)('path', { d: 'M28.3,16.4h-1.9c-0.4,0-0.8-0.3-0.9-0.7l-0.4-1.1c-0.2-0.3-0.1-0.8,0.2-1.1l1.3-1.3c0.3-0.3,0.3-0.7,0-1l-0.4-0.4c-0.3-0.3-0.7-0.3-1,0l-1.3,1.3c-0.3,0.3-0.8,0.3-1.1,0.1l-1.1-0.5c-0.4-0.1-0.7-0.5-0.7-0.9V9.1c0-0.4-0.3-0.7-0.7-0.7h-0.6c-0.4,0-0.7,0.3-0.7,0.7v1.7c0,0.4-0.3,0.8-0.7,0.9l-1.2,0.5c-0.3,0.2-0.8,0.1-1.1-0.2l-1.2-1.2c-0.3-0.3-0.7-0.3-1,0l-0.4,0.4c-0.3,0.3-0.3,0.7,0,1l1.2,1.2c0.3,0.3,0.3,0.8,0.1,1.1l-0.5,1.2c-0.1,0.4-0.5,0.7-0.9,0.7h-1.6c-0.4,0-0.7,0.3-0.7,0.7v0.6c0,0.4,0.3,0.7,0.7,0.7h1.6c0.4,0,0.8,0.3,0.9,0.7l0.5,1.2c0.2,0.3,0.1,0.8-0.1,1.1l-1.2,1.2c-0.3,0.3-0.3,0.7,0,1l0.4,0.4c0.3,0.3,0.7,0.3,1,0l1.2-1.2c0.3-0.3,0.8-0.3,1.1-0.2l1.2,0.5c0.4,0.1,0.7,0.5,0.7,0.9v1.7c0,0.4,0.3,0.7,0.7,0.7h0.6c0.4,0,0.7-0.3,0.7-0.7V24c0-0.4,0.3-0.8,0.7-0.9l1.1-0.5c0.3-0.2,0.8-0.1,1.1,0.1l1.3,1.3c0.3,0.3,0.7,0.3,1,0l0.4-0.4c0.3-0.3,0.3-0.7,0-1l-1.3-1.3C25,21,25,20.5,25.1,20.2l0.4-1.1c0.1-0.4,0.5-0.7,0.9-0.7h1.9c0.4,0,0.7-0.3,0.7-0.7v-0.6C29,16.7,28.7,16.4,28.3,16.4z M23.8,17.5c0,2.2-1.8,3.9-3.9,3.9c-2.2,0-3.9-1.8-3.9-3.9s1.7-3.9,3.9-3.9C22.1,13.6,23.8,15.3,23.8,17.5z' })))) } }]) && a(e.prototype, n), u && a(e, u), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(i.Component)) }, (t, e, n) => { n(3); const i = n(2); const r = n(159); const o = n(185); const a = n(60); const s = n(62); const l = n(38); function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, y(i.key), i) } } function c (t, e) { return c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, c(t, e) } function h (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return d(t) }(this, n)) } } function d (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } function f (t, e, n) { return (e = y(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function y (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } function v (t, e) { !(function (t, e) { if (e.has(t)) throw new TypeError('Cannot initialize the same private elements twice on an object') }(t, e)), e.add(t) } const m = new WeakSet(); const g = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && c(t, e) }(p, t)); let e; let n; let r; const s = h(p); function p (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), v(d(e = s.call(this, t)), m), f(d(e), 'renderButton', function () { e.buttonRoot && (e.setButtonLabel((function (t, e, n) { if (!e.has(t)) throw new TypeError('attempted to get private field on non-instance'); return n }(d(e), m, b)).call(d(e))), (0, i.render)((0, i.h)('div', { style: e.wrapperStyle() }, (0, i.h)(o.SmallPlayButton, { isPlaying: e.video.state() === 'playing', noPadding: !0, svgStyle: { verticalAlign: 'top' } })), e.buttonRoot), e.reactMounts = [e.rootElem]) }), f(d(e), 'onClickButton', function () { const t = e.video; t.state() === 'playing' ? t.pause() : t.play() }), f(d(e), 'onKeyDownButton', function (t) { t.keyCode !== 32 && t.keyCode !== 13 || (t.__handledAlready = !0) }), e.unbinds.push(t.on('play', e.renderButton), t.on('pause', e.renderButton), t.on('end', e.renderButton)), t.isLiveMedia() ? (e.disabledButton = !0, t.ready(function () { e.disabledButton = !1, e.renderButton() })) : e.disabledButton = !1, e } return e = p, (n = [{ key: 'destroy', value: function () { (0, a.destroyControl)(this) } }, { key: 'onControlPropsUpdated', value: function (t) { (t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code || this.props.scale !== t.scale) && this.renderButton() } }, { key: 'mountButton', value: function (t) { this.buttonRoot = t, this.renderButton() } }, { key: 'wrapperStyle', value: function () { const t = this.props.scale; const e = this.video.state() === 'playing'; const n = e ? ''.concat(10 * t, 'px 0 ').concat(11 * t, 'px 0') : ''.concat(10 * t, 'px 0 ').concat(9 * t, 'px 0'); return { boxSizing: 'border-box', height: '100%', marginLeft: e ? 0 : ''.concat(1 * t, 'px'), padding: n, position: 'relative', width: '100%' } } }, { key: 'translate', value: function (t) { return (0, l.getTranslation)(this.props.playerLanguage.code, 'PLAY_BUTTON_'.concat(t)) } }, { key: 'pcfButtonWidth', value: function () { return 40 } }]) && u(e.prototype, n), r && u(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(r.default)); function b () { return this.disabledButton ? this.translate('LIVE_NOT_STARTED') : this.video.state() === 'playing' ? this.translate('TITLE_WHEN_PLAYING') : this.translate('TITLE_WHEN_NOT_PLAYING') }g.shouldMount = function (t) { const e = t._attrs.playPauseControl; const n = !0 === e || e == null; const i = t._impl.ui && t._impl.ui.shouldShowMoreDefaultValue(); return n && i }, g.handle = 'smallPlayButton', g.type = 'control-bar-left', g.sortValue = 100, (0, s.defineControl)(g) }, (t, e, n) => { n(3); const i = n(2); const r = n(62); const o = n(159); const a = n(192); const s = n(60); const l = n(38); function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function c (t, e) { return c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, c(t, e) } function h (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = d(t); if (e) { const r = d(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function d (t) { return d = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, d(t) }(0, l.defineTranslations)('en-US', { STATUS_BAR_EMBED_CODE_COPIED: 'Embed Code is now copied to your clipboard!' }); const p = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && c(t, e) }(d, t)); let e; let n; let r; const o = h(d); function d (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, d)), (e = o.call(this, t))._isVisible = !1, e } return e = d, n = [{ key: 'destroy', value: function () { (0, s.destroyControl)(this) } }, { key: 'flash', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 2e3; this._isVisible = !0, this.renderMenu(this.translate(t)), setTimeout(function () { e.hide() }, n) } }, { key: 'translate', value: function (t) { return (0, l.getTranslation)(this.props.playerLanguage.code, 'STATUS_BAR_'.concat(t)) } }, { key: 'hide', value: function () { this._isVisible = !1, (0, i.render)((0, i.h)('nothing', null), this.rootElem) } }, { key: 'renderMenu', value: function (t) { this._isVisible && ((0, i.render)((0, i.h)(a.default, { message: t }), this.rootElem), this.reactMounts = [this.rootElem]) } }], n && u(e.prototype, n), r && u(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), d }(o.default)); p.handle = 'statusBar', p.type = 'background', (0, r.defineControl)(p) }, (t, e, n) => { n.d(e, { default: () => h }); const i = n(2); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function o (t, e) { return o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, o(t, e) } function a (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = s(t); if (e) { const r = s(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function s (t) { return s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, s(t) } const l = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && o(t, e) }(h, t)); let e; let n; let s; const l = a(h); function h () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)), l.apply(this, arguments) } return e = h, (n = [{ key: 'styles', value: function () { return { background: 'rgba(0,0,0,.3)', boxShadow: 'none', cursor: 'pointer', display: 'flex', alignItems: 'center', fontSize: c(this), lineHeight: u(this), padding: '0 '.concat(10 * this.props.scale, 'px'), width: '100%', height: '30px', color: '#fff', position: 'absolute', justifyContent: 'center' } } }, { key: 'render', value: function () { return (0, i.h)('div', { style: this.styles() }, this.props.message) } }]) && r(e.prototype, n), s && r(e, s), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(i.Component)); var u = function (t) { return ''.concat((function (t) { return 34 * t.props.scale }(t)), 'px') }; var c = function (t) { return ''.concat(14 * t.props.scale, 'px') }; const h = l }, (t, e, n) => { n(3); const i = n(2); const r = n(159); const o = n(194); const a = n(187); const s = n(60); const l = n(62); function u () { return u = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, u.apply(this, arguments) } function c (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, v(i.key), i) } } function h (t, e) { return h = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, h(t, e) } function d (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = f(t); if (e) { const r = f(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return p(t) }(this, n)) } } function p (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function f (t) { return f = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, f(t) } function y (t, e, n) { return (e = v(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function v (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const m = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && h(t, e) }(f, t)); let e; let n; let r; const l = d(f); function f (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, f)), y(p(e = l.call(this, t)), 'renderThumbnail', function (t) { const n = e.video; const r = n.lastPlayInfo(); const a = Date.now() - r.issuedAt; const s = n.embedOptions().thumbnailAltText; e._isVisible = e.shouldShow(); const l = !0 === n._attrs.transparentLetterbox; (0, i.render)((0, i.h)(o.ProgressiveThumbnail, u({}, e.props, { backgroundColor: l ? 'transparent' : void 0, elemRef: function (t) { return e.thumbnailElem = t }, images: e.thumbnailAssets, isVisible: e.shouldShow(), onDisplay: t, hashedId: e.video.hashedId(), swatchEnabled: !n._attrs.poster && e._swatchEnabled, uiHasRendered: e.video._impl.ui.hasRendered(), fitStrategy: e.video._opts.fitStrategy, thumbnailAltText: s })), e.rootElem), e._isVisible && (e._hasRenderedVisible = !0); const c = 2e3 - a + 1; e._isVisible && a < 2e3 && setTimeout(function () { e._destroyed || e.renderThumbnailAndUpdateSwatch() }, c), e.reactMounts = [e.rootElem] }), y(p(e), 'renderThumbnailAndUpdateSwatch', function (t) { e.renderThumbnail(t), e.updateSwatch() }), e.unbinds.push(t.on('play', function () { e._hasPlayed = !0, e.renderThumbnailAndUpdateSwatch() }), t.on('playrejected', function () { e.renderThumbnailAndUpdateSwatch() }), t.on('playpending', function () { e.renderThumbnailAndUpdateSwatch() }), t.on('up', e.renderThumbnailAndUpdateSwatch), t.on('end', e.renderThumbnailAndUpdateSwatch)), e.eventListeners.set('thumbnailchange', function () { e.thumbnailAssets = e.video.thumbnailAssets(), e.renderThumbnailAndUpdateSwatch() }), e._swatchEnabled = t._opts.swatchEnabled ? t._opts.swatchEnabled : t._embedContainer.querySelector('.wistia_swatch'), e } return e = f, (n = [{ key: 'destroy', value: function () { (0, s.destroyControl)(this) } }, { key: 'mount', value: function (t) { const e = this; if (this.rootElem = t, this.thumbnailAssets = this.thumbnailAssets || this.video.thumbnailAssets(), !this.shouldShow()) return Promise.resolve(); const n = new Promise(function (t) { setTimeout(t, 1e3) }); const i = new Promise(function (t) { e.renderThumbnailAndUpdateSwatch(t), e.video.embedded(function () { e.__destroyed || e.renderThumbnailAndUpdateSwatch() }) }); return Promise.race([i, n]) } }, { key: 'shouldShow', value: function () { return Boolean((0, a.default)(this.video) && this.video.thumbnailAssets().length) } }, { key: 'onControlPropsUpdated', value: function (t) { const e = this; this._hasRenderedVisible && ['videoWidth', 'videoHeight', 'playerLanguage', 'playerBorderRadius'].some(function (n) { return e.props[n] !== t[n] }) && this.renderThumbnailAndUpdateSwatch() } }, { key: 'updateSwatch', value: function () { const t = this.video._embedContainer.querySelector('.wistia_swatch'); t && (t.style.borderRadius = ''.concat(this.props.playerBorderRadius, 'px')) } }]) && c(e.prototype, n), r && c(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), f }(r.default)); m.shouldShow = function () { return (0, a.default)(this.video) }, m.shouldMount = function (t) { return !t._opts.spherical }, m.handle = 'thumbnail', m.type = 'background', m.sortValue = 1e3, (0, l.defineControl)(m) }, (t, e, n) => { n.d(e, { ProgressiveThumbnail: () => y }); const i = n(6); const r = n(2); const o = n(23); const a = n(195); function s () { return s = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, s.apply(this, arguments) } function l (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, f(i.key), i) } } function u (t, e) { return u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, u(t, e) } function c (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = d(t); if (e) { const r = d(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return h(t) }(this, n)) } } function h (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function d (t) { return d = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, d(t) } function p (t, e, n) { return (e = f(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function f (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } var y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && u(t, e) }(y, t)); let e; let n; let d; const f = c(y); function y (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, y)), p(h(e = f.call(this, t)), 'afterTwoSeconds', function () { e._displayed || e.state.normalThumbOpacity !== 1 || e.setState({ normalThumbOpacity: 0 }) }), p(h(e), 'onDisplayNormalThumb', function () { e.setState({ normalThumbOpacity: 1 }), e._displayed = !0, e.onDisplay && e.onDisplay() }), e.state = { normalThumbOpacity: t.isVisible ? 1 : 0 }, e.onDisplay = t.onDisplay, e } return e = y, (n = [{ key: 'componentWillReceiveProps', value: function (t) { !this.onDisplay && t.onDisplay && (this.onDisplay = t.onDisplay) } }, { key: 'render', value: function () { this.props.isVisible && (this._hasRenderedVisible = !0); const t = { backgroundColor: this.props.backgroundColor, fitStrategy: this.props.fitStrategy, isVisible: this.props.isVisible, stillSnap: this.props.stillSnap, stretchLimit: this.props.stretchLimit, videoHeight: this.props.videoHeight, videoWidth: this.props.videoWidth, thumbnailAltText: this.props.thumbnailAltText, playerBorderRadius: this.props.playerBorderRadius }; const e = (0, i.assign)({}, t, { ariaHidden: !0, images: [{ url: ''.concat((0, o.eV1Protocol)(), '//').concat((0, o.eV1Host)(), '/embed/medias/').concat(this.props.hashedId, '/swatch') }] }); const n = (0, i.assign)({}, t, { onDisplay: this.onDisplayNormalThumb, images: this.props.images }); return (0, r.h)('div', { ref: this.props.elemRef }, this.props.swatchEnabled && this._hasRenderedVisible ? (0, r.h)(a.Thumbnail, s({}, e, { wrapperStyle: this.swatchWrapperStyle() })) : null, this._hasRenderedVisible ? (0, r.h)(a.Thumbnail, s({}, n, { wrapperStyle: this.normalThumbWrapperStyle() })) : null) } }, { key: 'componentDidMount', value: function () { setTimeout(this.afterTwoSeconds, 2e3) } }, { key: 'normalThumbWrapperStyle', value: function () { const t = this.props.swatchEnabled && this.props.uiHasRendered && this.state.normalThumbOpacity === 1 ? 'opacity 3s' : ''; return { height: '100%', left: 0, opacity: this.state.normalThumbOpacity, position: this.props.fitStrategy === 'naturalHeight' ? 'relative' : 'absolute', top: 0, transition: t, width: '100%' } } }, { key: 'swatchWrapperStyle', value: function () { return { filter: 'blur(5px)', height: '100%', left: 0, position: this.props.fitStrategy === 'naturalHeight' ? 'relative' : 'absolute', top: 0, width: '100%' } } }]) && l(e.prototype, n), d && l(e, d), Object.defineProperty(e, 'prototype', { writable: !1 }), y }(r.Component)) }, (t, e, n) => { n.d(e, { Thumbnail: () => d }); const i = n(196); const r = n(2); const o = n(6); const a = n(5); const s = n(38); function l (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function u (t, e) { return u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, u(t, e) } function c (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = h(t); if (e) { const r = h(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function h (t) { return h = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, h(t) }(0, s.defineTranslations)('en-US', { THUMBNAIL_VIDEO_THUMBNAIL: 'Video Thumbnail' }); var d = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && u(t, e) }(p, t)); let e; let n; let h; const d = c(p); function p (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), (e = d.call(this, t)).initialState = e.state = { isLoaded: !1, isDisplaying: !1 }, e.onDisplay = e.props.onDisplay, e } return e = p, (n = [{ key: 'componentWillReceiveProps', value: function (t) { t.images !== this.props.images && (clearTimeout(this.loadTimeout), this._sortedImages = null, this.loadTimeout = null, this.setState({ isLoaded: !1, isDisplaying: !1 })), !this.onDisplay && t.onDisplay && (this.onDisplay = t.onDisplay) } }, { key: 'render', value: function () { const t = this; const e = void 0 !== this.props.thumbnailAltText ? this.props.thumbnailAltText : this.translate('VIDEO_THUMBNAIL'); return (0, r.h)('div', { style: this.wrapperStyle(), class: 'w-css-reset' }, (0, r.h)('img', { class: 'w-css-reset', srcset: this.props.images.length > 1 ? this.srcSet() : null, src: this.bestSrc(), style: this.imgStyle(), alt: e, ref: function (e) { return t.imgElem = e }, 'aria-hidden': this.props.ariaHidden ? 'true' : null })) } }, { key: 'translate', value: function (t) { return (0, s.getTranslation)(this.props.playerLanguage, 'THUMBNAIL_'.concat(t)) } }, { key: 'componentDidMount', value: function () { this.setStateBasedOnImgStatus(), this.maybeCallOnDisplay(this.initialState) } }, { key: 'componentDidUpdate', value: function (t, e) { this.setStateBasedOnImgStatus(), this.maybeCallOnDisplay(e) } }, { key: 'maybeCallOnDisplay', value: function () { this.onDisplay && this.state.isDisplaying && !this.calledOnDisplay && (this.calledOnDisplay = !0, this.onDisplay()) } }, { key: 'setStateBasedOnImgStatus', value: function () { const t = this; const e = this.state; const n = this.imgElem; e.isLoaded || (n.onload || (n.onload = function () { (0, a.elemInDom)(n) && t.setState({ isLoaded: !0 }) }), n.complete && this.setState({ isLoaded: !0 })), !e.isDisplaying && e.isLoaded && this.setState({ isDisplaying: !0 }) } }, { key: 'wrapperStyle', value: function () { const t = this.state.isDisplaying && this.props.isVisible; return (0, o.assign)({}, this.props.wrapperStyle, { display: this.state.isLoaded && !t ? 'none' : 'block' }) } }, { key: 'baseStyle', value: function () { const t = this.props.fitStrategy; return t === 'cover' ? this.coverStyle() : t === 'contain' ? this.containStyle() : t === 'fill' ? this.fillStyle() : t === 'naturalHeight' ? this.naturalHeightStyle() : t === 'modernContain' ? this.modernContainStyle() : this.containStyle() } }, { key: 'imgStyle', value: function () { const t = this.state.isDisplaying && this.props.isVisible; return (0, o.assign)(this.baseStyle(), { clip: t ? 'auto' : 'rect(0,0,0,0)', display: this.state.isLoaded && !t ? 'none' : 'block', borderRadius: ''.concat(this.props.playerBorderRadius, 'px') }) } }, { key: 'modernContainStyle', value: function () { return { height: '100%', objectFit: 'contain', position: 'absolute', width: '100%', top: 0, left: 0 } } }, { key: 'containStyle', value: function () { if (!this.imgElem) return { height: '100%', left: 0, position: 'absolute', top: 0, width: '100%' }; let t; let e; const n = this.props; const i = n.videoWidth; const r = n.videoHeight; const o = i / r; const a = this.imgElem.naturalWidth / this.imgElem.naturalHeight; !1 === n.stillSnap ? (t = i, e = r) : o > a ? (e = r, t = Math.round(e * a)) : o <= a && (t = i, e = Math.round(t / a)); const s = Math.max(0, r - e); const l = Math.max(0, i - t); const u = Math.round(s / 2); const c = Math.round(l / 2); let h = u; let d = c; let p = u; let f = c; 2 * p <= this.stretchLimit() && (p = 0, h = 0, e = r), 2 * f <= this.stretchLimit() && (f = 0, d = 0, t = i); const y = this.props.backgroundColor || '#000'; return { borderTop: ''.concat(h, 'px solid ').concat(y), borderBottom: ''.concat(p, 'px solid ').concat(y), borderLeft: ''.concat(f, 'px solid ').concat(y), borderRight: ''.concat(d, 'px solid ').concat(y), boxSizing: 'content-box', height: ''.concat(e, 'px'), left: 0, position: 'absolute', top: 0, webkitTouchCallout: 'none', width: ''.concat(t, 'px') } } }, { key: 'coverStyle', value: function () { return { height: '100%', objectFit: 'cover', position: 'absolute', width: '100%' } } }, { key: 'fillStyle', value: function () { return { height: '100%', objectFit: 'fill', position: 'absolute', width: '100%' } } }, { key: 'naturalHeightStyle', value: function () { return { width: '100%', position: 'relative' } } }, { key: 'bestSrc', value: function () { return (0, i.bestImage)(this.props.images, { videoWidth: this.props.videoWidth, videoHeight: this.props.videoHeight }).url } }, { key: 'srcSet', value: function () { let t = this.sortedImages(); return t.length === 0 && (t = [(0, i.blankImage)(this.props.videoWidth, this.props.videoHeight)]), t.map(function (t) { return ''.concat(t.url, ' ').concat(t.width, 'w') }).join(', ') } }, { key: 'sortedImages', value: function () { return this._sortedImages || (this._sortedImages = (0, i.sortedImages)(this.props.images)), this._sortedImages } }, { key: 'stretchLimit', value: function () { const t = this.props.stretchLimit; return t != null ? t : 10 } }]) && l(e.prototype, n), h && l(e, h), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(r.Component)) }, (t, e, n) => { n.d(e, { bestImage: () => r, blankImage: () => o, sortedImages: () => a }); const i = n(23); var r = function (t) { const e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; const n = a(t); if (n.length === 0) return o(e.videoWith, e.videoHeight); const i = e.videoWidth; const r = (window.devicePixelRatio || 1) * i; if (r <= n[0].width) return n[0]; for (let s = 0; s < n.length; s++) { const l = n[s]; if (l.width >= r) return l } return n[n.length - 1] }; var o = function (t, e) { return { height: e, url: 'https://'.concat((0, i.eV1HostWithPort)(), '/assets/images/blank.gif'), width: t } }; var a = function (t) { return t.map(function (t) { return t.aspect = t.width / t.height, t }) } }, (t, e, n) => { const i = n(114); const r = n(5); const o = n(2); const a = n(11); const s = n(39); const l = n(38); const u = n(62); const c = n(60); const h = n(198); const d = n(159); function p (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, b(i.key), i) } } function f (t, e) { return f = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, f(t, e) } function y (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = m(t); if (e) { const r = m(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return v(t) }(this, n)) } } function v (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function m (t) { return m = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, m(t) } function g (t, e, n) { return (e = b(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function b (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const _ = (0, a.cachedDetect)(); (0, l.defineTranslations)('en-US', { VOLUME_TITLE_WHEN_MUTED: 'Unmute', VOLUME_TITLE_WHEN_UNMUTED: 'Mute' }); const w = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && f(t, e) }(m, t)); let e; let n; let a; const d = y(m); function m (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, m)), g(v(e = d.call(this, t)), 'loadSliderCode', function () { return (0, s.dynamicImport)('assets/external/vulcanV2Player/video/controls/VolumeSliderControl/VolumeSliderControl.js').then(function (t) { (0, u.defineControl)(t.VolumeSliderControl) }) }), g(v(e), 'onClickButton', function () { _.touchScreen || e.toggleMute() }), g(v(e), 'onFocusInButton', function () { e._isFocused = !0, e.video.enterInputContext('volume-button-focus'), e.loadSliderCode() }), g(v(e), 'onFocusOutButton', function () { e._isFocused = !1, e.video.exitInputContext('volume-button-focus') }), g(v(e), 'onMouseEnter', function () { e.timeoutForCloseSlider && clearTimeout(e.timeoutForCloseSlider), e.props.anyDialogOpen ? e.timeoutForOpenSlider = setTimeout(function () { e.openSlider() }, 300) : e.openSlider() }), g(v(e), 'onMouseLeave', function () { clearTimeout(e.timeoutForOpenSlider), e.timeoutForCloseSlider && clearTimeout(e.timeoutForCloseSlider), e._isFocused = !1, e.video.controls.volumeSlider && (e.props.controlBarBorderRadius ? e.timeoutForCloseSlider = setTimeout(function () { e.video.controls.volumeSlider.isVisible() || e.video.controls.volumeSlider.hide() }, 300) : e.video.controls.volumeSlider.hide()) }), g(v(e), 'openSlider', function () { e._isFocused = !0, e.loadSliderCode().then(function () { e._isFocused && e.video.controls.volumeSlider.mounted.then(function () { e.video.controls.volumeSlider.show() }) }) }), g(v(e), 'onKeyUp', function (t) { if (!(0, r.formInputIsFocused)() && !t.wistiaPlayerHandled) { const n = e.video; const o = n.getInputContext(); o !== 'background-focus' && o !== 'player-mouseover' && o !== 'player-focus' && o !== 'volume-button-focus' && o !== 'volume-slider-focus' || t.keyCode === 77 && (n.isMuted() ? (n.unmute(), (0, i.setViewerPreference)('muted', void 0)) : (n.mute(), (0, i.setViewerPreference)('muted', !0))) } }), g(v(e), 'onKeyDown', function (t) { if (!(0, r.formInputIsFocused)() && !t.wistiaPlayerHandled) { const n = e.video; const o = n.getInputContext(); if (o === 'player-mouseover' || o === 'player-focus' || o === 'volume-button-focus' || o === 'volume-slider-focus') { const a = t.keyCode; let s = 0; if (a === 38 ? s = 1 : a === 40 && (s = -1), s === 1) { t.preventDefault(); const l = t.shiftKey ? 0.01 : 0.1; n.volume(n.volume() + l), (0, i.setViewerPreference)('volume', n.volume()) } else if (s === -1) { t.preventDefault(); const u = t.shiftKey ? 0.01 : 0.1; n.volume(n.volume() - u), (0, i.setViewerPreference)('volume', n.volume()) } } } }), e.video = t, e.unbinds.push(t.on('volumechange', function () { e.buttonRoot && e.renderButton() }), (0, r.elemBind)(document, 'keyup', e.onKeyUp), (0, r.elemBind)(document, 'keydown', e.onKeyDown)), e } return e = m, (n = [{ key: 'destroy', value: function () { (0, c.destroyControl)(this) } }, { key: 'onControlPropsUpdated', value: function (t) { t.playerLanguage && this.props.playerLanguage.code !== t.playerLanguage.code && this.renderButton() } }, { key: 'mountButton', value: function (t) { this.buttonRoot = t, this.renderButton() } }, { key: 'renderButton', value: function () { this.buttonRoot && (this.setButtonLabel(this.video.isMuted() ? this.translate('TITLE_WHEN_MUTED') : this.translate('TITLE_WHEN_UNMUTED')), (0, o.render)((0, o.h)(h.default, { volume: this.video.isMuted() ? 0 : this.video.volume() }), this.buttonRoot), this.reactMounts.button = [this.buttonRoot]) } }, { key: 'translate', value: function (t) { return (0, l.getTranslation)(this.props.playerLanguage.code, 'VOLUME_'.concat(t)) } }, { key: 'getButtonTitle', value: function () { return this.video.volume() === 0 ? 'Unmute' : 'Mute' } }, { key: 'mute', value: function () { this.video.mute(), (0, i.setViewerPreference)('muted', !0) } }, { key: 'unmute', value: function () { this.video.unmute(), (0, i.setViewerPreference)('muted', void 0) } }, { key: 'toggleMute', value: function () { this.video.isMuted() ? this.unmute() : this.mute() } }]) && p(e.prototype, n), a && p(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), m }(d.default)); w.shouldMount = function (t) { const e = t._attrs.volumeControl; return !(!0 !== e && e != null || _.iphone || _.ipad || _.android) }, w.handle = 'volumeButton', w.type = 'control-bar-right', w.sortValue = 100, (0, u.defineControl)(w) }, (t, e, n) => { n.d(e, { default: () => h }); const i = n(2); const r = n(35); function o () { return o = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, o.apply(this, arguments) } function a (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function s (t, e) { return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, s(t, e) } function l (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = u(t); if (e) { const r = u(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function u (t) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, u(t) } const c = 'opacity 100ms'; const h = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && s(t, e) }(d, t)); let e; let n; let u; const h = l(d); function d (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, d)), (e = h.call(this, t)).state = { volume: t.volume }, e } return e = d, n = [{ key: 'waveCount', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.props.volume; return t > 0.66 ? 2 : t > 0.33 ? 1 : t > 0 ? 0 : -1 } }, { key: 'shouldComponentUpdate', value: function (t) { return this.waveCount() !== this.waveCount(t.volume) } }, { key: 'render', value: function () { const t = { fill: 'none', stroke: '#ffffff', 'stroke-line-cap': 'round', 'stroke-miterlimit': '10' }; return (0, i.h)('svg', (0, r.standardSvgAttrs)({ width: 40, height: 34, ariaHidden: !0 }), (0, i.h)('g', { style: this.speakerGroupStyle() }, (0, i.h)('g', null, (0, i.h)('path', { d: 'M13.8,14.2c-0.5,0.5-1.4,0.8-2,0.8h-1.6C9.5,15,9,15.5,9,16.2v1.6c0,0.7,0.5,1.2,1.2,1.2h1.6c0.7,0,1.6,0.4,2,0.8l2.3,2.3c0.5,0.5,0.8,0.3,0.8-0.4v-9.6c0-0.7-0.4-0.8-0.8-0.4L13.8,14.2z' })), (0, i.h)('g', null, (0, i.h)('path', o({}, t, { 'stroke-width': '2', d: 'M22,11.7c0,0,1.1,2.5,1.1,5s-1.1,5-1.1,5', style: this.wave1Style() })), (0, i.h)('path', o({}, t, { 'stroke-width': '2', d: 'M25.8,9.2c0,0,1.7,3.8,1.7,7.5c0,3.7-1.7,7.5-1.7,7.5', style: this.wave2Style() }))), (0, i.h)('g', { style: this.waveXStyle() }, (0, i.h)('line', o({}, t, { 'stroke-width': '1.8102', x1: '19.2', y1: '15', x2: '23.2', y2: '19' })), (0, i.h)('line', o({}, t, { 'stroke-width': '1.8102', x1: '19.2', y1: '19', x2: '23.2', y2: '15' }))))) } }, { key: 'speakerGroupStyle', value: function () { return { transform: 'translateX('.concat(this.positioningOffset(), 'px)'), transition: 'transform 100ms' } } }, { key: 'positioningOffset', value: function () { const t = this.waveCount(); return t == 0 ? 7 : t < 2 ? 3 : 1.25 } }, { key: 'waveXStyle', value: function () { return { opacity: this.waveCount() < 0 ? 1 : 0, transition: c } } }, { key: 'wave1Style', value: function () { return { opacity: this.waveCount() >= 1 ? 1 : 0, transition: c } } }, { key: 'wave2Style', value: function () { return { opacity: this.waveCount() >= 2 ? 1 : 0, transition: c } } }], n && a(e.prototype, n), u && a(e, u), Object.defineProperty(e, 'prototype', { writable: !1 }), d }(i.Component)) }, (t, e, n) => { n(3); const i = n(2); const r = n(39); const o = n(159); const a = n(200); const s = n(62); function l () { return l = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, l.apply(this, arguments) } function u (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, f(i.key), i) } } function c (t, e) { return c = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, c(t, e) } function h (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = p(t); if (e) { const r = p(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return d(t) }(this, n)) } } function d (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function p (t) { return p = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, p(t) } function f (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && c(t, e) }(p, t)); let e; let n; let o; const s = h(p); function p (t) { let e, n, i, r; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, p)), e = s.call(this, t), n = d(e), r = function (t) { e.video.setAriaLiveText(t) }, (i = f(i = 'setAriaLiveText')) in n ? Object.defineProperty(n, i, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : n[i] = r, e.video = t, e.undbinds = [], e.undbinds.push(e.video.on('play', function () { e.renderLiveStreamStatus() }), e.video.on('pause', function () { e.renderLiveStreamStatus() }), e.video.on('end', function () { e.renderLiveStreamStatus() }), e.video.on('widthchange', function () { e.renderLiveStreamStatus() }), e.video.on('playerlanguagechange', function () { e.renderLiveStreamStatus() })), e.video.ready(function () { e.renderLiveStreamStatus() }), e } return e = p, (n = [{ key: 'onControlPropsUpdated', value: function (t) { t.controlsAreVisible !== this.props.controlsAreVisible && this.renderLiveStreamStatus() } }, { key: 'mount', value: function (t) { const e = this; return this.rootElem = t, (0, r.dynamicImport)('assets/external/interFontFace.js').then(function () { e.renderLiveStreamStatus(), e.reactMounts = [e.rootElem] }) } }, { key: 'renderLiveStreamStatus', value: function () { let t; let e = null; (t = this.video._mediaData.liveStreamEventDetails) !== null && void 0 !== t && t.scheduledFor && (e = new Date(this.video._mediaData.liveStreamEventDetails.scheduledFor)), (0, i.render)((0, i.h)(a.default, l({ videoState: this.video.state(), videoReady: this.video.ready(), scheduledFor: e, setAriaLiveText: this.setAriaLiveText }, this.props)), this.rootElem) } }]) && u(e.prototype, n), o && u(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), p }(o.default)); y.handle = 'liveStreamStatusOverlay', y.type = 'foreground', y.sortValue = 500, y.shouldMount = function (t) { return t.isLiveMedia() }, (0, s.defineControl)(y) }, (t, e, n) => { n.d(e, { default: () => g }); const i = n(2); const r = n(169); const o = n(33); const a = n(65); const s = n(201); const l = n(38); function u (t, e) { return (function (t) { if (Array.isArray(t)) return t }(t)) || (function (t, e) { let n = t == null ? null : typeof Symbol !== 'undefined' && t[Symbol.iterator] || t['@@iterator']; if (n != null) { let i; let r; let o; let a; const s = []; let l = !0; let u = !1; try { if (o = (n = n.call(t)).next, e === 0) { if (Object(n) !== n) return; l = !1 } else for (;!(l = (i = o.call(n)).done) && (s.push(i.value), s.length !== e); l = !0); } catch (t) { u = !0, r = t } finally { try { if (!l && n.return != null && (a = n.return(), Object(a) !== a)) return } finally { if (u) throw r } } return s } }(t, e)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return c(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return c(t, e) }(t, e)) || (function () { throw new TypeError('Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function c (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function h (t, e) { const n = t.toLocaleString(navigator.language, { month: 'short', day: 'numeric', year: 'numeric' }); const i = t.toLocaleString(navigator.language, { hour: 'numeric', minute: 'numeric', timeZoneName: 'short' }); return ''.concat(n, ' ').concat((0, l.getTranslation)(e, 'LIVE_STREAM_STATUS_SCHEDULED_FOR_TIME_SEPARATOR'), ' ').concat(i) } function d (t) { const e = t.state; return (0, i.h)('div', { style: { backgroundColor: e === 'live' ? '#fa4040' : '', borderRadius: '50%', width: '12px', height: '12px', marginRight: '4px' } }) }(0, l.defineTranslations)('en-US', { LIVE_STREAM_STATUS_COUNTDOWN: 'Stream begins in', LIVE_STREAM_STATUS_LIVE: 'Live', LIVE_STREAM_STATUS_LIVE_ARIA: 'The stream is now live', LIVE_STREAM_STATUS_MINUTES: 'minutes', LIVE_STREAM_STATUS_SCHEDULED_FOR: 'Scheduled for', LIVE_STREAM_STATUS_SCHEDULED_FOR_ARIA: 'The stream is scheduled for', LIVE_STREAM_STATUS_SCHEDULED_FOR_TIME_SEPARATOR: 'at', LIVE_STREAM_STATUS_SECONDS: 'seconds', LIVE_STREAM_STATUS_STREAM_ENDED: 'The stream has ended', LIVE_STREAM_STATUS_WAITING_FOR_HOST: 'Waiting for host to begin', LIVE_STREAM_STATUS_WAITING_FOR_HOST_ARIA: 'Waiting for host to begin live stream' }); const p = { initial: 'idle', states: { idle: { on: { READY: 'live', NOT_READY: 'beforeStream', START_COUNTDOWN: 'countdown', PAST_SCHEDULE: 'waitingForHost' } }, beforeStream: { on: { PAST_SCHEDULE: 'waitingForHost', READY: 'live', START_COUNTDOWN: 'countdown' } }, countdown: { on: { PAST_SCHEDULE: 'waitingForHost', READY: 'live' } }, waitingForHost: { on: { READY: 'live', END: 'ended' } }, live: { on: { END: 'ended' } }, ended: {} } }; function f (t) { const e = t.children; const n = t.scale; const r = t.show; return (0, i.h)('div', { className: 'w-css-reset', style: { left: 0, position: 'absolute', top: 0, display: 'flex', opacity: r ? 1 : 0, transition: 'opacity 200ms', margin: ''.concat(v({ base: 12, scale: n }), 'px 0 0 ').concat(v({ base: 12, scale: n }), 'px') } }, e) } function y (t, e) { let n; const i = (n = p.states[t].on) === null || void 0 === n ? void 0 : n[e.type]; return void 0 === i ? t : i } function v (t) { const e = t.scale; const n = t.base; const i = 2 * n; return Math.min(i, Math.max(0, e * n)) } function m (t) { const e = t.children; const n = t.scale; return (0, i.h)('div', { className: 'w-live-status', style: { backgroundColor: 'rgba(11, 13, 14, 0.7)', padding: ''.concat(v({ base: 8, scale: n }), 'px ').concat(v({ base: 12, scale: n }), 'px'), display: 'flex', color: '#fff', alignItems: 'center', borderRadius: '4px', fontFamily: o.interFontFamily, fontSize: ''.concat(v({ base: 14, scale: n }), 'px') } }, e) } const g = function (t) { const e = this; const n = t.controlsAreVisible; const o = t.playerLanguage; const c = t.scale; const v = t.scheduledFor; const g = t.videoReady; const b = t.videoState; const _ = u((0, r.useState)(new Date()), 2); const w = _[0]; const P = _[1]; const O = b !== 'playing' || n; const k = u((0, r.useReducer)(y, p.initial), 2); const S = k[0]; const E = k[1]; (0, r.useEffect)(function () { b === 'ended' ? E({ type: 'END' }) : g ? E({ type: 'READY' }) : !(function (t) { return !!t && Date.now() < t.getTime() }(v)) ? E((function (t) { return !!t && (0, a.getSecondsRemaining)(t, new Date()) > 600 }(v)) ? { type: 'END' } : { type: 'PAST_SCHEDULE' }) : E((function (t) { return !!t && (0, a.getSecondsRemaining)(new Date(), t) < 3600 }(v)) ? { type: 'START_COUNTDOWN' } : { type: 'NOT_READY' }) }, [w, g, b]), (0, r.useEffect)(function () { e.props.setAriaLiveText(T()) }, [S]), (0, r.useEffect)(function () { if (S === 'countdown') { const t = (0, a.getSecondsRemaining)(new Date(), v); const n = Math.ceil(t); const i = Math.ceil(t / 60); const r = t / 60; let o = ''; i % 5 == 0 ? o = ''.concat(C('COUNTDOWN'), ' ').concat(i, ' ').concat(C('MINUTES')) : r && n % 5 == 0 && (o = ''.concat(C('COUNTDOWN'), ' ').concat(n, ' ').concat(C('SECONDS'))), e.props.setAriaLiveText(o) } }, [w]), (0, s.useInterval)(function () { return P(new Date()) }, S === 'live' || S === 'ended' ? null : 1e3); var T = function () { switch (S) { case 'live':return C('LIVE_ARIA'); case 'ended':return C('STREAM_ENDED'); case 'waitingForHost':return C('WAITING_FOR_HOST_ARIA'); case 'beforeStream':return ''.concat(C('SCHEDULED_FOR_ARIA'), ' ').concat(h(v, o.code)) } }; var C = function (t) { return (0, l.getTranslation)(o.code, 'LIVE_STREAM_STATUS_'.concat(t)) }; return (0, i.h)(f, { scale: c, show: O }, (0, i.h)(m, { scale: c }, S === 'live' && (0, i.h)(d, { state: 'live' }), (function () { switch (S) { case 'live':return C('LIVE'); case 'ended':return C('STREAM_ENDED'); case 'waitingForHost':return C('WAITING_FOR_HOST'); case 'beforeStream':return ''.concat(C('SCHEDULED_FOR'), ' ').concat(h(v, o.code)); case 'countdown':return ''.concat(C('COUNTDOWN'), ' ').concat((0, a.flexibleDuration)((0, a.getSecondsRemaining)(new Date(), v))) } }()))) } }, (t, e, n) => { n.d(e, { useInterval: () => r }); const i = n(169); function r (t, e) { const n = (0, i.useRef)(t); (0, i.useEffect)(function () { n.current = t }, [t]), (0, i.useEffect)(function () { if (e !== null) { const t = setInterval(function () { return n.current() }, e); return function () { return clearInterval(t) } } }, [e]) } }, (t, e, n) => { n.d(e, { default: () => u }); const i = n(3); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function o (t, e) { return o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, o(t, e) } function a (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = s(t); if (e) { const r = s(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function s (t) { return s = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, s(t) } const l = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && o(t, e) }(u, t)); let e; let n; let s; const l = a(u); function u () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, u)), l.apply(this, arguments) } return e = u, (n = [{ key: 'init', value: function () { const t = this; const e = this.impl; e.embedded(function () { e.bestEngine() === 'engines/manual_quality_video.js' && (t.bandwidthTest().isFresh() ? (t._supportsHd = t.bandwidthTest().savedResult().supportsHd, t.impl.whenVideoElementInDom().then(function () { t.impl.engine.setAttributes({ supportsHd: t._supportsHd }) })) : t.hdAsset() && t.unbinds.push(e.on('play', function () { return t.doBandwidthTest(), e.unbind }))) }) } }, { key: 'bandwidthTest', value: function () { return this._bandwidthTest || (this._bandwidthTest = new i.Wistia.BandwidthTest({ timeoutLength: 4e3, uuid: this.impl.uuid, saveKey: 'vulcan.bandwidth' })), this._bandwidthTest } }, { key: 'doBandwidthTest', value: function () { const t = this; const e = this.impl; e.info('doBandwidthTest'), this._endBandwidthTestEarly || (this._endBandwidthTestEarly = function () { e.info('_endBandwidthTestEarly'), t.bandwidthTest().endEarly(), i.Wistia.Metrics.videoCount(e, 'player/bandwidth_test/ended_early') }); const n = ['seek', 'pause', 'end', 'switched-to-asset-without-load']; n.forEach(function (n) { t.unbinds.push(e.on(n, t._endBandwidthTestEarly)) }), this._failBandwidthTestOnWaiting || (this._failBandwidthTestOnWaiting = function () { return e.info('_failBandwidthTestOnWaiting'), t.bandwidthTest().fail(), i.Wistia.Metrics.videoCount(e, 'player/bandwidth_test/failed'), e.unbind }), this.unbinds.push(e.on('waiting', this._failBandwidthTestOnWaiting)), this._endBandwidthTestOnTime = function () { e.info('_endBandwidthTestOnTime'), t._supportsHd = t.bandwidthTest().supportsHd(), e.engine.setAttributes({ supportsHd: !0 }), t._failBandwidthTestOnWaiting && e.unbind('waiting', t._failBandwidthTestOnWaiting), t._endBandwidthTestEarly && n.forEach(function (n) { e.unbind(n, t._endBandwidthTestEarly) }), i.Wistia.Metrics.videoCount(e, 'player/bandwidth_test/ended_on_time') }, this.bandwidthTest().bind('ended', this._endBandwidthTestOnTime), this.bandwidthTest().start() } }, { key: 'supportsHd', value: function () { return !!this.hdAsset() && (this._supportsHd == null || this._supportsHd) } }, { key: 'hdAsset', value: function () { if (this._hdAsset) return this._hdAsset; const t = this.impl; return this._hdAsset = t.playableAssetInRange({ width: [980, t._opts.maxHdWidth || 2e3], sortBy: 'width desc, bitrate desc' }), this._hdAsset } }]) && r(e.prototype, n), s && r(e, s), Object.defineProperty(e, 'prototype', { writable: !1 }), u }(n(203).PlayerBehavior)); l.handle = 'bandwidthTest'; const u = l }, (t, e, n) => { n.d(e, { PlayerBehavior: () => o }); const i = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } var o = (function () { function t (e) { !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), this.impl = e, this.embedElement = e.container, this.unbinds = [], this.eventListeners = new Map(), this.namedUnbinds = {} } let e, n, o; return e = t, (n = [{ key: 'addNamedUnbind', value: function (t, e) { this.namedUnbinds[t] && this.namedUnbinds[t](), this.namedUnbinds[t] = e } }, { key: 'removeNamedUnbind', value: function (t) { this.namedUnbinds[t] && (this.namedUnbinds[t](), delete this.namedUnbinds[t]) } }, { key: 'destroy', value: function () { const t = this; for (const e in this.unbinds instanceof Array && this.unbinds.map(function (t) { return t() }), this.eventListeners instanceof Map && (this.eventListeners.forEach(function (e, n) { t.embedElement.removeEventListener(n, e) }), this.eventListeners.clear()), this.namedUnbinds)i(this.namedUnbinds, e) && this.namedUnbinds[e].map(function (t) { return t() }); this.unbinds = [], this.namedUnbinds = {}, this.impl = null, this._destroyed = !0 } }]) && r(e.prototype, n), o && r(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()) }, (t, e, n) => { n.d(e, { default: () => P }); const i = n(3); const r = n(88); const o = n(26); const a = n(5); const s = n(73); const l = n(37); const u = n(45); const c = n(61); const h = n(6); const d = n(27); const p = n(39); function f (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, _(i.key), i) } } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t, e, n) { return (e = _(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function _ (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const w = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(w, t)); let e; let n; let g; const _ = v(w); function w () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, w)); for (var e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; return b(m(t = _.call.apply(_, [this].concat(n))), 'onFocusIn', function () { const e = !(0, l.isMouseDownRecently)(); t.impl && t.impl.isKeyboardFocused(e) }), b(m(t), 'updateBackgroundColor', function () { const e = t.impl; if (e.videoWrapper && !e._replacing && e.embedded()) { const n = e.ui && e.ui.isChromeless() && (e.lastPlayInfo().source === 'non-user-event' || e._attrs.autoplay) && e.isMuted(); if (!(!0 === e._attrs.transparentLetterbox) && !n || e.inFullscreen()) { const i = e._attrs.playerBackgroundColor || e._opts.backgroundColor || '#000'; e.videoWrapper.style.backgroundColor = i || '#000' } else e.videoWrapper.style.backgroundColor = 'transparent' } }), b(m(t), 'updateStartPosition', function () { let e; const n = t.impl; const i = n.state() === 'beforeplay'; const r = ((e = n.lastPlayInfo()) === null || void 0 === e ? void 0 : e.source) === 'user-event'; const o = n.shouldResume() && r; if (i) if (!n.engine || n.engine.name !== 'HlsVideo' && n.engine.name !== 'NativeHlsVideo') { if (o) { const a = (0, s.getLastTime)(n.hashedId()); n.time(a, { lazy: !0 }) } } else if (o) { const l = (0, s.getLastTime)(n.hashedId()); n.engine.updateStartPosition(l) } else n.engine.updateStartPosition(-1) }), t } return e = w, (n = [{ key: 'init', value: function () { this.unbinds.push(this.impl.on('playerbackgroundcolorchange', this.updateBackgroundColor), this.impl.publicApi.on('transitiondone', this.updateBackgroundColor), this.impl.on('playpending', this.updateStartPosition)) } }, { key: 'embed', value: function (t) { const e = this; const n = this.impl; const i = n && n._opts.oldImpl; n.oldImpl = i || t, i && i !== t ? (this.impl.on('engine-initialized', function () { i.rebuild(), i.fullRebuild() }), n.oldImpl = i) : n.oldImpl = t, n.resetStateVariables(), n.videoWrapper = (0, a.elemFromObject)({ class: 'w-video-wrapper w-css-reset', style: { clip: 'rect(0,0,0,0)', height: '100%', position: 'absolute', top: 0, width: '100%' } }), this.updateBackgroundColor(), (0, a.elemPrepend)(n.implContainer(), n.videoWrapper), n.uiContainer || (n.uiContainer = (0, a.elemFromObject)({ class: 'w-ui-container', style: { height: '100%', pointerEvents: n._inNativeMode() ? 'none' : '', left: 0, position: 'absolute', top: 0, width: '100%' } }), (0, a.elemAppend)(n.implContainer(), n.uiContainer)), n.uiContainer.addEventListener('focusin', this.onFocusIn), n.up(function () { e._preloadPreference = e.preloadValue(), n._replacing && (e.initializeEngine(), n.info('embedded'), n.embedded(!0)), n.renderUI().then(function () { try { n.setupBindings() } catch (t) { setTimeout(function () { throw t }, 0) }(0, c.doTimeout)(''.concat(n.uuid, '.finish_embedding'), function () { n.info('embedded'), n.embedded(!0), (0, a.pageLoaded)(function () { e.initializeEngine() }) }, 0) }) }), n.down() && n.embedded(!0) } }, { key: 'preloadValue', value: function () { let t; let e; const n = this.impl; if (t = n._attrs.autoplay && !n.publicApi.popover && n.looksUp() ? 'auto' : n._attrs.preload != null ? n._attrs.preload : n._mediaData.preloadPreference, n._mediaData.spherical) if (n._opts._inIframe)e = 'none'; else { const i = []; const o = (0, r.wData)('video'); for (const a in o)i.push(o[a]); e = i.length > 1 ? 'none' : 'auto' } else if (t === 'metadata')e = 'metadata'; else if (!0 === t || t === 'auto')e = 'auto'; else if (!1 === t || t === 'none')e = 'none'; else { const s = []; const l = (0, r.wData)('video'); for (const c in l)s.push(l[c]); e = n._opts._inIframe && top !== parent || n._opts._inIframe && (0, u.parentFramesLength)() > 25 || n._opts._inIframe && (!window._allIframes || window._allIframes.length > 2) || !n._opts._inIframe && s.length > 2 || n._mediaData.stats && n._mediaData.stats.loadCount > 5e3 && n._mediaData.stats.uniquePlayCount / n._mediaData.stats.uniqueLoadCount < 0.1 ? 'none' : 'metadata' } return e } }, { key: 'rebuild', value: function () { const t = this.impl; return t.info('rebuild'), t.trigger('beforerebuild'), t.embedded(function () { t.embedded(!1), t.ready(!1), t.removeBehaviors(), t.enginePromise = null, t.engine = null, t._oldVideoElem = t.elem(), t._whenVideoElementInDom = null, t.stopStreaming(), (0, a.elemRemove)(t.videoWrapper), t.videoWrapper = null, t.ui = null, t._lastPlayType = null, t._lastPlaySource = null, t._lastPlayIssuedAt = null, t._lastPlayResolvedAt = null, t._lastPlayRejectedAt = null, t.wipeOutstandingAsyncFunctions(), t.setupBehaviors(), t.embed(), t.trigger('afterrebuild') }), t } }, { key: 'checkForReady', value: function () { const t = this.impl; t._checkDownState(), t.up(function () { t.embedded(function () { t.onDimensionChangeSafe(), t.engine && t.engine.onReady().then(function () { t.onDimensionChangeSafe(), t.ready(!0) }) }) }) } }, { key: 'cleanOldImplEngine', value: function () { this.impl.oldImpl = null, this.impl.embedElement._oldEngine && (this.impl.embedElement._oldEngine = null) } }, { key: 'initializeEngine', value: function () { const t = this; const e = this.impl; if (e) { if (e.enginePromise) return e.enginePromise; const n = e.bestEngine(); return e.enginePromise = (0, p.dynamicImport)('assets/external/'.concat(n)).then(function (n) { const i = n.default; if (e.grid) try { e._mediaData = (0, o.mediaDataTransforms)(e._mediaData, e._opts), e.engine = new i(e.videoWrapper, e._mediaData, t.engineAttributes(), t.otherEngine()), t.cleanOldImplEngine(), e.trigger('engine-initialized'), e.setupBindings(), t.checkForReady() } catch (t) { e.error(t) } }) } } }, { key: 'engineAttributes', value: function () { let t; let e; let n; const r = this.impl; if (r._opts.videoQuality ? t = r._opts.videoQuality : (r._opts.videoFoam || r.videoWidth() >= 720) && (t = 'md'), r._bandwidthTest().isFresh() && (e = r._bandwidthTest().savedResult().clientKbps), r._mediaData.secondaryMediaData)n = (0, h.clone)(r._mediaData.secondaryMediaData); else if (r._opts.secondaryVideoUrl) { const o = (0, h.clone)(r._mediaData); const a = r.originalAsset(); o.assets = [{ container: 'mp4', ext: 'mp4', codec: 'x264', public: !0, url: r._opts.secondaryVideoUrl, height: a.height, width: a.width, type: 'mp4_video', display_name: ''.concat((0, d.numericSizeSnapped)(a.width, a.height), 'p'), status: d.READY, created_at: (new Date()).getTime() }], n = o } let l; let u = r._opts.layoutTiming; r._opts.twoStroke && r._opts.twoStroke.layoutTiming && (u = r._opts.twoStroke.layoutTiming), (r._startPosition || r.shouldResume()) && (l = r._startPosition || (0, s.getLastTime)(r.hashedId())), r.isResumableEnabled() && ((0, s.atOrNearBeginning)(r.hashedId()) ? i.Wistia.Metrics.videoCount(r, 'player/resumable-close-to-beginning') : (0, s.atOrNearEnd)(r.hashedId(), r.duration()) && i.Wistia.Metrics.videoCount(r, 'player/resumable-close-to-end')); const c = r._opts.trimStart === 0 && r._opts.trimEnd === -1; const p = !0 === r._attrs.transparentLetterbox; return { authorization: r._attrs.authorization, backgroundColor: p ? 'transparent' : r.playerBackgroundColor(), clipForPoster: r._opts.clipForPoster, clipFrom: r._opts.clipFrom, clipTo: r._opts.clipTo, controls: r._inNativeMode(), cuts: r._opts.cuts, deliveryCdn: r._opts.deliveryCdn, duration: r._mediaData.duration, embedHost: r._opts.embedHost, fitStrategy: r._opts.fitStrategy, hashedId: r.hashedId(), height: r.videoHeight(), hls: r._opts.hls, layoutTiming: u, liveMedia: r.isLiveMedia(), loop: r._attrs.endVideoBehavior === 'loop', muted: r._muted, password: r._opts.password, playsinline: !0, preload: this._preloadPreference, qualityMax: r._attrs.qualityMax, qualityMin: r._attrs.qualityMin, savedBandwidth: e, secondaryMediaData: n, silentAutoplay: r._attrs.silentAutoplay, startPosition: l, trimEnd: c ? void 0 : r._opts.trimEnd, trimStart: c ? void 0 : r._opts.trimStart, videoQuality: t, volume: r._attrs.volume, width: r.videoWidth() } } }, { key: 'otherEngine', value: function () { let t; let e; let n; let i; const r = this.impl; return (t = r.oldImpl) !== null && void 0 !== t && t.engine ? (n = r.oldImpl) === null || void 0 === n ? void 0 : n.engine : (e = r.embedElement) !== null && void 0 !== e && e._oldEngine ? (i = r.embedElement) === null || void 0 === i ? void 0 : i._oldEngine : null } }]) && f(e.prototype, n), g && f(e, g), Object.defineProperty(e, 'prototype', { writable: !1 }), w }(n(203).PlayerBehavior)); w.handle = 'embed'; const P = w }, (t, e, n) => { n.d(e, { default: () => O }); const i = n(3); const r = n(11); const o = n(13); const a = n(61); const s = n(28); const l = n(67); const u = n(5); const c = n(120); const h = n(203); function d (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function p (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? d(Object(n), !0).forEach(function (e) { b(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function f (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, _(i.key), i) } } function y (t, e) { return y = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, y(t, e) } function v (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = g(t); if (e) { const r = g(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return m(t) }(this, n)) } } function m (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function g (t) { return g = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, g(t) } function b (t, e, n) { return (e = _(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function _ (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const w = (0, r.cachedDetect)(); const P = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && y(t, e) }(d, t)); let e; let n; let r; const h = v(d); function d () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, d)); for (var e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; return b(m(t = h.call.apply(h, [this].concat(n))), 'onEnterFullscreen', function (e) { const n = t.impl; e !== n.chrome && !0 !== n.embedElement.usingFullscreenContainer || (n.info('_onEnterFullscreen'), n.trigger('beforeenterfullscreen'), t.setFullscreenStateOnEmbedElement({ inFullscreen: !0 }), n.notFullscreen(!1), n.behaviors.embed.updateBackgroundColor(), n.width((0, u.elemWidth)(window), { fullscreen: !0, dontChangeContainer: !0 }), n.height((0, u.elemHeight)(window), { fullscreen: !0, dontChangeContainer: !0 }), n.engine && n.engine.onEnterFullscreen(), n.trigger('enterfullscreen'), n.embedElement.dispatchEvent(new CustomEvent('enterfullscreen')), n.trigger('enter-fullscreen')) }), b(m(t), 'onEnterWebkitFullscreen', function (e) { const n = t.impl; t.setFullscreenStateOnEmbedElement({ inFullscreen: !0, nativeFullscreen: !0 }), n.notFullscreen(!1), n.trigger('enterfullscreen'), n.embedElement.dispatchEvent(new CustomEvent('enterfullscreen')), n.trigger('enter-fullscreen') }), b(m(t), 'onCancelFullscreen', function () { const e = t.impl; const n = t.getFullscreenStateOnEmbedElement(); const i = n.inFullscreen; const r = n.nativeFullscreen; const o = n.widthBeforeFullscreen; const a = n.heightBeforeFullscreen; r ? (t.setFullscreenStateOnEmbedElement({ inFullscreen: !1, nativeFullscreen: !1 }), e.notFullscreen(!0), e.trigger('cancelfullscreen'), e.embedElement.dispatchEvent(new CustomEvent('cancelfullscreen')), e.trigger('cancel-fullscreen')) : i && (e.info('onCancelFullscreen'), t.setFullscreenStateOnEmbedElement({ inFullscreen: !1 }), e.notFullscreen(!0), e.behaviors.embed.updateBackgroundColor(), e.width(o), e.height(a), e.fit(), e.engine && e.engine.onLeaveFullscreen(), e.trigger('cancelfullscreen'), e.embedElement.dispatchEvent(new CustomEvent('cancelfullscreen')), e.trigger('cancel-fullscreen')) }), b(m(t), 'fullscreenResizeToWindowFlurry', function () { const e = t.impl; t.fullscreenResizeToWindow(), [0, 50, 100, 200, 300, 500, 1e3].forEach(function (n) { (0, a.doTimeout)(''.concat(e.uuid, '.fs-resize-flurry-').concat(n), t.fullscreenResizeToWindow, n) }) }), b(m(t), 'fullscreenResizeToWindow', function () { const e = t.impl; if (e.inFullscreen() && !t.getFullscreenStateOnEmbedElement().nativeFullscreen) { e.debug('fullscreenResizeToWindow'); const n = e.width(); const i = e.height(); const r = (0, u.elemWidth)(window); const o = (0, u.elemHeight)(window); n !== r && e.width(r, { fullscreen: !0, dontChangeContainer: !0 }), i !== o && e.height(o, { fullscreen: !0, dontChangeContainer: !0 }) } }), b(m(t), 'maybeAutoFullscreen', function () { t.impl.isAudio() || t.impl._inNativeMode() && !1 === t.impl._opts.playsinline && (0, u.inUserEventContext)() && !t._hasAutoFullscreened && (t._hasAutoFullscreened = !0, t.requestFullscreen()) }), t } return e = d, n = [{ key: 'init', value: function () { const t = this; const e = this.impl; (0, l.isNil)(this.impl.embedElement._fullscreenState) && (this.impl.embedElement._fullscreenState = {}), this.unbinds.push((0, o.globalOn)('enterfullscreen', this.onEnterFullscreen), (0, o.globalOn)('cancelfullscreen', this.onCancelFullscreen), (0, u.elemBind)(window, 'resize', function () { t.fullscreenResizeToWindowFlurry() }), e.on('playpending', this.maybeAutoFullscreen)), e.whenVideoElementInDom().then(function () { e.engine.bind('webkitbeginfullscreen', t.onEnterWebkitFullscreen), e.engine.bind('webkitendfullscreen', t.onCancelFullscreen) }) } }, { key: 'requestFullscreen', value: function () { if (this.impl._opts._inIframe && /two_stroke/i.test(this.impl.bestEngine()) && (w.iphone || w.ipad)) return Promise.reject(); const t = this.impl; if (t.inFullscreen()) return Promise.resolve(); if (t.info('requestFullscreen'), this.setFullscreenStateOnEmbedElement({ widthBeforeFullscreen: t.width(), heightBeforeFullscreen: t.height() }), t.width(t.width()), t._inNativeMode() && t.engine) return t.engine.requestFullscreen(); if (w.fullscreenEnabled) { const e = t.embedElement.usingFullscreenContainer ? t.embedElement.parentNode : t.chrome; return (0, u.elemRequestFullscreen)(e) } return this.getAllowFakeFullscreen() ? (this.enterFakeFullscreen(), Promise.resolve()) : t.engine ? (t.state() === 'beforeplay' && (w.iphone || w.ipad) && t.engine.play().then(function () { return t.engine.pause() }), t.engine.requestFullscreen()) : Promise.resolve() } }, { key: 'cancelFullscreen', value: function () { const t = this.impl; return t.inFullscreen() ? (t.info('cancelFullscreen'), t._inNativeMode() ? t.engine.cancelFullscreen() : w.fullscreenEnabled ? (0, u.elemCancelFullscreen)() : this.getAllowFakeFullscreen() ? (this.cancelFakeFullscreen(), Promise.resolve()) : t.engine.cancelFullscreen()) : Promise.resolve() } }, { key: 'getAllowFakeFullscreen', value: function () { return !this.impl._opts._inIframe && w.ios.version >= 10 && (this.impl._opts.fakeFullscreen || /two_stroke/i.test(this.impl.bestEngine())) } }, { key: 'enterFakeFullscreen', value: function () { const t = this.impl; this.setFullscreenStateOnEmbedElement({ widthBeforeFullscreen: t.width(), heightBeforeFullscreen: t.height() }), this._inFakeFullscreen = !0, this._chromeParent = t.chrome.parentNode, document.body.appendChild(t.chrome), this._leftOffsetBeforeFullscreen = (0, c.scrollLeft)(), this.onEnterFullscreen(t.chrome), this.setupFakeFullscreenBindings(), (0, u.elemStyle)(t.chrome, { position: 'fixed', top: 0, left: 0, zIndex: 2147483647 }), (0, c.scrollLeft)(0), t.engine && t.engine.onEnterFullscreen() } }, { key: 'setupFakeFullscreenBindings', value: function () { const t = this; const e = this.impl; i.Wistia.eventLoop.add(''.concat(e.uuid, '.fakefullscreen'), 100, function () { t.fullscreenResizeToWindow() }), this._preventDefaultForTouchMove || (this._preventDefaultForTouchMove = function (t) { t.preventDefault() }), (0, u.elemRebind)(e.uiContainer, 'touchmove', this._preventDefaultForTouchMove) } }, { key: 'cancelFakeFullscreen', value: function () { const t = this.impl; this._inFakeFullscreen = !1, this.onCancelFullscreen(t.chrome), this._chromeParent && this._chromeParent.appendChild(t.chrome), t.chrome.style.position = '', (0, c.scrollLeft)(this._leftOffsetBeforeFullscreen), i.Wistia.eventLoop.remove(''.concat(t.uuid, '.fakefullscreen')), t.engine && t.engine.onLeaveFullscreen(), this._preventDefaultForTouchMove != null && (0, u.elemUnbind)(t.uiContainer, 'touchmove', this._preventDefaultForTouchMove) } }, { key: 'transferStateFrom', value: function (t) { const e = this; const n = t.behaviors && t.behaviors.fullscreen; if (n && (this.impl.embedElement._fullscreenState = t.embedElement._fullscreenState, n.getFullscreenStateOnEmbedElement().inFullscreen)) { (0, s.countMetric)('player/replacewith-fullscreen', 1, { inNativeFullscreen: this.inNativeFullscreen() }); const i = this.impl; i.notFullscreen(function () { const t = e.getFullscreenStateOnEmbedElement(); const n = t.widthBeforeFullscreen; const r = t.heightBeforeFullscreen; i.width(n), i.height(r) }) } } }, { key: 'inFullscreen', value: function () { return !!this.getFullscreenStateOnEmbedElement().inFullscreen } }, { key: 'inNativeFullscreen', value: function () { return !!this.getFullscreenStateOnEmbedElement().nativeFullscreen } }, { key: 'getFullscreenStateOnEmbedElement', value: function () { return this.impl.embedElement._fullscreenState || {} } }, { key: 'setFullscreenStateOnEmbedElement', value: function () { const t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; if ((0, l.isNotNil)(this.impl.embedElement._fullscreenState)) { const e = p(p({}, this.impl.embedElement._fullscreenState), t); this.impl.embedElement._fullscreenState = e } } }], n && f(e.prototype, n), r && f(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), d }(h.PlayerBehavior)); P.handle = 'fullscreen', i.Wistia._onFullscreenChange || (i.Wistia._onFullscreenChange = function () { (0, u.fullscreenElement)() ? (0, o.globalTrigger)('enterfullscreen', (0, u.fullscreenElement)()) : (0, o.globalTrigger)('cancelfullscreen') }, i.Wistia._initializers.initFullscreenTriggers = function () { (0, u.elemRebind)(document, 'webkitfullscreenchange', i.Wistia._onFullscreenChange), (0, u.elemRebind)(document, 'fullscreenchange', i.Wistia._onFullscreenChange) }, i.Wistia._destructors.destroyFullscreenTriggers = function () { (0, u.elemUnbind)(document, 'webkitfullscreenchange', i.Wistia._onFullscreenChange), (0, u.elemUnbind)(document, 'fullscreenchange', i.Wistia._onFullscreenChange) }); const O = P }, (t, e, n) => { n.d(e, { default: () => d }); const i = n(3); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, c(i.key), i) } } function o (t, e) { return o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, o(t, e) } function a (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = l(t); if (e) { const r = l(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return s(t) }(this, n)) } } function s (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function l (t) { return l = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, l(t) } function u (t, e, n) { return (e = c(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function c (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const h = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && o(t, e) }(h, t)); let e; let n; let l; const c = a(h); function h () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)); for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)n[r] = arguments[r]; return u(s(t = c.call.apply(c, [this].concat(n))), 'onPlay', function () { if (t._startedLoadingAt == null) return t._startedLoadingAt = Date.now(), t.impl.unbind }), u(s(t), 'onProgress', function () { const e = t.impl; if (e.engine.anyBuffered()) return t._firstByteReceivedAt = Date.now(), t._startedLoadingAt != null && (t._timeToFirstByte = t._firstByteReceivedAt - t._startedLoadingAt), e.unbind }), u(s(t), 'onWaiting', function (e) { const n = t.impl; const r = n.engine.anyBuffered(); !t._noDataFor5Seconds && e >= 5 && !r && (t._noDataFor5Seconds = !0, i.Wistia.Metrics.videoCount(n, 'player/no-data/5-seconds')), !t._noDataFor10Seconds && e >= 10 && !r && (t._noDataFor10Seconds = !0, i.Wistia.Metrics.videoCount(n, 'player/no-data/10-seconds')), !t._noDataFor15Seconds && e >= 15 && !r && (t._noDataFor15Seconds = !0, i.Wistia.Metrics.videoCount(n, 'player/no-data/15-seconds')) }), u(s(t), 'onClickedPlayBeforeReady', function () { i.Wistia.Metrics.videoCount(t.impl, 'player/clicked-play-before-ready') }), t } return e = h, (n = [{ key: 'init', value: function () { const t = this; this.impl.whenVideoElementInDom().then(function () { return t.doInit() }) } }, { key: 'doInit', value: function () { const t = this.impl; t.engine && t.engine.getPreload() && (this._startedLoadingAt = Date.now()), this.unbinds.push(t.on('play', this.onPlay), t.on('progress', this.onProgress), t.on('waiting', this.onWaiting), t.on('clicked-play-before-ready', this.onClickedPlayBeforeReady)) } }]) && r(e.prototype, n), l && r(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(n(203).PlayerBehavior)); h.handle = 'metrics'; const d = h }, (t, e, n) => { n.d(e, { default: () => f }); const i = n(3); const r = n(11); const o = n(203); function a (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, h(i.key), i) } } function s (t, e) { return s = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, s(t, e) } function l (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = c(t); if (e) { const r = c(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return u(t) }(this, n)) } } function u (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function c (t) { return c = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, c(t) } function h (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const d = (0, r.cachedDetect)(); const p = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && s(t, e) }(c, t)); let e; let n; let r; const o = l(c); function c () { let t, e, n, r; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, c)); for (var a = arguments.length, s = new Array(a), l = 0; l < a; l++)s[l] = arguments[l]; return t = o.call.apply(o, [this].concat(s)), e = u(t), r = function () { const e = t.impl; const n = e.getMediaElement(); if (n && n.error && n.error.code === 3 && /native_hls_video/.test(t.impl.bestEngine())) { const r = e.lastPlayInfo().isPending; e.commandQueueOpen.clearSynchronized(); const o = r ? 'playing' : 'not-playing'; i.Wistia.Metrics.videoCount(e, 'player/rebuild-non-hls-on-error/'.concat(o)), t.unbinds.push(e.on('play', function () { return i.Wistia.Metrics.videoCount(e, 'player/rebuild-non-hls-on-error/'.concat(o)), e.unbind })), e.publicApi.fullRebuild({ hls: !1, autoPlay: r && !(d.ios.version && d.ios.version < 10.1) }) } }, (n = h(n = 'onError')) in e ? Object.defineProperty(e, n, { value: r, enumerable: !0, configurable: !0, writable: !0 }) : e[n] = r, t } return e = c, (n = [{ key: 'init', value: function () { this.unbinds.push(this.impl.on('error', this.onError)) } }]) && a(e.prototype, n), r && a(e, r), Object.defineProperty(e, 'prototype', { writable: !1 }), c }(o.PlayerBehavior)); p.handle = 'playbackErrorHandling'; const f = p }, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function r (t, e) { return r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, r(t, e) } function o (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = a(t); if (e) { const r = a(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function a (t) { return a = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, a(t) }n.d(e, { ProblemMonitoringBehavior: () => s }); var s = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && r(t, e) }(l, t)); let e; let n; let a; const s = o(l); function l () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, l)), s.apply(this, arguments) } return e = l, (n = [{ key: 'init', value: function () { const t = this; this.unbinds = [this.impl.on('waiting', function (e) { e >= 5 && t.impl.trigger('problem', { type: 'long-buffer', data: { secondsWaiting: e } }) }), this.impl.on('error', function (e) { const n = t.impl.getMediaElement().error; t.impl.trigger('problem', { type: 'video-error', errorCode: n && n.code || n, errorMessage: n && n.message }) })] } }]) && i(e.prototype, n), a && i(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), l }(n(203).PlayerBehavior)); s.handle = 'problemMonitoring' }, (t, e, n) => { n.d(e, { default: () => v }); const i = n(3); const r = n(49); const o = n(203); const a = n(5); function s (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, f(i.key), i) } } function l () { return l = typeof Reflect !== 'undefined' && Reflect.get ? Reflect.get.bind() : function (t, e, n) { const i = (function (t, e) { for (;!Object.prototype.hasOwnProperty.call(t, e) && (t = d(t)) !== null;);return t }(t, e)); if (i) { const r = Object.getOwnPropertyDescriptor(i, e); return r.get ? r.get.call(arguments.length < 3 ? t : n) : r.value } }, l.apply(this, arguments) } function u (t, e) { return u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, u(t, e) } function c (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = d(t); if (e) { const r = d(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return h(t) }(this, n)) } } function h (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function d (t) { return d = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, d(t) } function p (t, e, n) { return (e = f(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function f (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && u(t, e) }(y, t)); let e; let n; let o; const f = c(y); function y () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, y)); for (var e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; return p(h(t = f.call.apply(f, [this].concat(n))), 'maybeFireStateAndTimeEvents', function () { t.fireStateChangedEventsIfChanged(), t.fireTimeChangedEventsIfChanged() }), p(h(t), 'onLookChange', function (e) { t.impl.trigger('lookchange', e) }), p(h(t), 'onPause', function () { t.maybeFireStateAndTimeEvents() }), p(h(t), 'onPlaying', function () { t._beforePlay = !1, t._ended = !1, t.maybeFireStateAndTimeEvents() }), p(h(t), 'onEnded', function () { t.maybeFireStateAndTimeEvents() }), p(h(t), 'onAudioStreamChanged', function () { t.impl.trigger('audiostreamchange') }), p(h(t), 'onVolumeChange', function () { const e = t.impl.isMuted(); t.impl.trigger('volumechange', t.impl.volume(), e), t.impl.embedElement.dispatchEvent(new CustomEvent('volumechange', { detail: { volume: t.impl.volume(), muted: e } })), e !== t._isMuted && (t._isMuted = e, t.impl.embedElement.dispatchEvent(new CustomEvent('mutechange', { detail: { isMuted: e } })), t.impl.trigger('mutechange', e)) }), p(h(t), 'onRateChange', function () { t.impl.trigger('playbackratechange', t.impl.playbackRate()), t.impl.embedElement.dispatchEvent(new CustomEvent('ratechange', { detail: { playbackRate: t.impl.playbackRate() } })), r.globalEventLoop.interval(''.concat(t.impl.uuid, '.events'), t.impl._eventLoopDuration) }), p(h(t), 'onProgress', function (e) { t.impl.trigger('progress', e) }), p(h(t), 'onError', function (e) { t.impl.trigger('error', e) }), p(h(t), 'onHlsLevelSwitched', function (e) { t.impl.trigger('hlslevelswitched', e) }), p(h(t), 'onHlsFatalErrorRebuild', function (e) { t.impl.fullRebuild({ engine: 'engines/manual_quality_video.js' }) }), p(h(t), 'onSeeking', function (e) { t.impl.trigger('seeking', e), t.impl.embedElement.dispatchEvent(new CustomEvent('seeking')) }), p(h(t), 'onTimeUpdate', function (e) { t.impl.embedElement.dispatchEvent(new CustomEvent('timeupdate')) }), p(h(t), 'onLoadedData', function (e) { t.impl.embedElement.dispatchEvent(new CustomEvent('loadeddata')) }), p(h(t), 'onLoadedMetadata', function (e) { t.impl.embedElement.dispatchEvent(new CustomEvent('loadedmetadata')) }), p(h(t), 'onCanPlay', function (e) { t.impl.embedElement.dispatchEvent(new CustomEvent('canplay')) }), p(h(t), 'onCanPlayThrough', function (e) { t.impl.embedElement.dispatchEvent(new CustomEvent('canplaythrough')) }), p(h(t), 'onCustomWaiting', function (e) { t._waiting = e, t.impl.trigger('waiting', e) }), p(h(t), 'onCustomDoneWaiting', function (e) { t._waiting = -1, t.impl.trigger('done-waiting', e) }), p(h(t), 'fireTimeChangedEventsIfChanged', function () { if (!t._destroyed) { const e = t.impl; let n = !1; const i = Date.now(); const r = e.time(); const o = r !== t._lastTimePosition; const s = r - t._lastTimePosition; const l = Math.floor(r); const u = Math.floor(t._lastTimePosition); const c = (i - t._lastClockTime) / 1e3; const h = e.playbackRate(); const d = e.state() === 'beforeplay' && r < 0.3; const p = Math.abs(Math.floor(r) - Math.floor(t._lastTimePosition)) > 1; if (o && r >= 0 && !d) { if (t._ended = !1, e.trigger('timechange', r), e.embedElement.dispatchEvent(new CustomEvent('timechange', { detail: { timePosition: r } })), l !== u) { if (Math.abs(s / h - c) < 0.05 && p) { n = !0; for (let f = u + 1; f < l; f++)e.trigger('secondchange', f), e.embedElement.dispatchEvent(new CustomEvent('secondchange', { detail: { second: f } })) }e.trigger('secondchange', l), e.embedElement.dispatchEvent(new CustomEvent('secondchange', { detail: { second: l } })) }!t._beforePlay && !t._ended && !n && p && Math.abs(r - t._lastTimePosition) > e._attrs.seekThreshold && e.trigger('seek', r, t._lastTimePosition, { source: (0, a.currentEventSource)() }), t._lastTimePosition = r } return t._lastClockTime = i, Promise.resolve() } }), t } return e = y, (n = [{ key: 'init', value: function () { const t = this; this.resetState(), this.impl.whenVideoElementInDom().then(function () { return t.doInit() }) } }, { key: 'doInit', value: function () { const t = this; const e = this.impl; const n = e.engine; this.unbinds.push(n.bind('lookchange', this.onLookChange), n.bind('pause', this.onPause), n.bind('playing', this.onPlaying), n.bind('ended', this.onEnded), n.bind('volumechange', this.onVolumeChange), n.bind('audiostreamchange', this.onAudioStreamChanged), n.bind('ratechange', this.onRateChange), n.bind('progress', this.onProgress), n.bind('custom-waiting', this.onCustomWaiting), n.bind('custom-done-waiting', this.onCustomDoneWaiting), n.bind('error', this.onError), n.bind('hlslevelswitched', this.onHlsLevelSwitched), n.bind('fatalerrorrebuild', this.onHlsFatalErrorRebuild), n.bind('seeking', this.onSeeking), n.bind('timeupdate', this.onTimeUpdate), n.bind('loadeddata', this.onLoadedData), n.bind('loadedmetadata', this.onLoadedMetadata), n.bind('canplay', this.onCanPlay), n.bind('canplaythrough', this.onCanPlayThrough)), r.globalEventLoop.add(''.concat(e.uuid, '.events'), e._eventLoopDuration, function () { if (!e.looksDown()) { t.fireStateChangedEventsIfChanged(), t.fireTimeChangedEventsIfChanged(); const n = e.getVideoQuality(); n !== t._lastQuality && (e.trigger('qualitychange', n), t._lastQuality = n) } }) } }, { key: 'destroy', value: function () { r.globalEventLoop.remove(''.concat(this.impl.uuid, '.events')), l(d(y.prototype), 'destroy', this).call(this) } }, { key: 'resetState', value: function () { this._waiting = -1, this._lastTimePosition = -1, this._beforePlay = !0, this._ended = !1, this._isMuted = this.impl.isMuted(), this._hasPlayed = !1 } }, { key: 'fireStateChangedEventsIfChanged', value: function () { if (!this._destroyed) { const t = this.impl; const e = t.state(); e !== this._lastState && (t.trigger('statechange', e, this._lastState), e === 'playing' && (this._hasPlayed = !0, this._ended = !1, t.trigger('play', t.lastPlayInfo()), t.embedElement.dispatchEvent(new CustomEvent('play', { detail: { lastPlayInfo: t.lastPlayInfo() } }))), e === 'paused' && (t.trigger('pause', t.lastPauseInfo()), t.embedElement.dispatchEvent(new CustomEvent('pause', { detail: { lastPauseInfo: t.lastPauseInfo() } }))), e === 'ended' && (this._ended = !0, t.trigger('end'), t.embedElement.dispatchEvent(new Event('end')), t.embedElement.dispatchEvent(new Event('ended')), this.triggerAfterendTimeout()), e !== 'ended' && this.mozillaAtEnd() && (t.engine.pause(), this._ended = !0, t.trigger('end'), t.embedElement.dispatchEvent(new Event('ended')), t.embedElement.dispatchEvent(new Event('end')), this.triggerAfterendTimeout()), this._lastState = e) } } }, { key: 'mozillaAtEnd', value: function () { return !this._ended && i.Wistia.detect.browser.mozilla && i.Wistia.detect.browser.version < 45 && !i.Wistia.detect.edge && i.Wistia.detect.windows && this._waiting >= 0.6 && Math.abs(this.impl.time() - this.impl.duration()) < 2 } }, { key: 'triggerAfterendTimeout', value: function () { const t = this; setTimeout(function () { t.impl.trigger('afterend') }, 0) } }]) && s(e.prototype, n), o && s(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), y }(o.PlayerBehavior)); y.handle = 'relayEvents'; const v = y }, (t, e, n) => { n.d(e, { default: () => d }); const i = n(73); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, c(i.key), i) } } function o (t, e) { return o = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, o(t, e) } function a (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = l(t); if (e) { const r = l(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return s(t) }(this, n)) } } function s (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function l (t) { return l = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, l(t) } function u (t, e, n) { return (e = c(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function c (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const h = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && o(t, e) }(h, t)); let e; let n; let l; const c = a(h); function h () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)); for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)n[r] = arguments[r]; return u(s(t = c.call.apply(c, [this].concat(n))), 'onEnd', function () { (0, i.setLastTime)(t._hashedId, t.impl.time()), t.destroyResumableKey() }), u(s(t), 'onSecondChange', function () { t._hasPlayed && ((0, i.setLastTime)(t._hashedId, t.impl.time()), t.impl.shouldResume() || t.destroyResumableKey(), t._resumableKey === null && t.setResumableKeyToEventKey()) }), t } return e = h, (n = [{ key: 'init', value: function () { this._hasPlayed = !1, this._hashedId = this.impl.hashedId(), this._unbinds = [], this._resumableKey = (0, i.getResumableKeyForVideo)(this._hashedId) || null, this.setupBindings(), !this.impl.shouldResume() && this._resumableKey && this.destroyResumableKey() } }, { key: 'destroy', value: function () { this._unbinds.forEach(function (t) { typeof t === 'function' && t() }), this._unbinds = [] } }, { key: 'destroyResumableKey', value: function () { (0, i.setResumableKeyForVideo)(this._hashedId, null), this._resumableKey = null } }, { key: 'lastTime', value: function () { return (0, i.getLastTime)(this._hashedId) } }, { key: 'resumableKey', value: function () { return this._resumableKey } }, { key: 'setupBindings', value: function () { const t = this; this._unbinds.push(this.impl.on('play', function () { return t._hasPlayed = !0 }), this.impl.on('end', this.onEnd), this.impl.on('secondchange', this.onSecondChange)); var e = this.impl.on('eventkeychange', function () { t.initResumableKey(), e() }) } }, { key: 'setResumableKeyToEventKey', value: function () { const t = this.impl.eventKey(); t && (this._resumableKey = t, (0, i.setResumableKeyForVideo)(this._hashedId, this._resumableKey)) } }, { key: 'initResumableKey', value: function () { this._resumableKey || this.setResumableKeyToEventKey() } }]) && r(e.prototype, n), l && r(e, l), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(n(203).PlayerBehavior)); h.handle = 'resumable'; const d = h }, (t, e, n) => { n.d(e, { default: () => W }); const i = n(3); const r = n(56); const o = n(20); const a = n(2); const s = n(37); const l = n(164); const u = n(11); const c = n(61); const h = n(6); const d = n(5); const p = n(38); const f = n(203); const y = n(212); const v = n(215); const m = n(216); const g = function (t, e) { if (t == null) throw new TypeError('Cannot convert undefined or null to object'); return Object.prototype.hasOwnProperty.call(Object(t), e) }; function b (t) { return (function (t) { if (Array.isArray(t)) return _(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return _(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function _ (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i } function w () { return w = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, w.apply(this, arguments) } function P (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, A(i.key), i) } } function O () { return O = typeof Reflect !== 'undefined' && Reflect.get ? Reflect.get.bind() : function (t, e, n) { const i = (function (t, e) { for (;!Object.prototype.hasOwnProperty.call(t, e) && (t = T(t)) !== null;);return t }(t, e)); if (i) { const r = Object.getOwnPropertyDescriptor(i, e); return r.get ? r.get.call(arguments.length < 3 ? t : n) : r.value } }, O.apply(this, arguments) } function k (t, e) { return k = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, k(t, e) } function S (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = T(t); if (e) { const r = T(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return E(t) }(this, n)) } } function E (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function T (t) { return T = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, T(t) } function C (t, e, n) { return (e = A(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function A (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const j = (0, u.cachedDetect)(); const x = function (t) { return t === 'control-bar-left' || t === 'control-bar-right' || t === 'ellipsis' || t == 'playbar' }; const B = ['above-control-bar', 'background', 'control-bar-left', 'control-bar-right', 'ellipsis', 'foreground', 'left-flyout', 'playbar', 'right-flyout'].reduce(function (t, e) { return t[e] = !0, t }, {}); const R = function (t) { return t.pcfButtonWidth ? t.pcfButtonWidth() : t.constructor.width != null ? t.constructor.width : 40 }; const D = function (t) { return t.pcfButtonHeight ? t.pcfButtonHeight() : t.constructor.height != null ? t.constructor.height : 34 }; const M = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && k(t, e) }(_, t)); let e; let n; let u; const f = S(_); function _ () { let t; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, _)); for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)n[r] = arguments[r]; return C(E(t = f.call.apply(f, [this].concat(n))), 'onBlurButton', function (e, n) { const i = n.constructor.type; x(i) && (n.__isFocused = !1, t.render()) }), C(E(t), 'onFocusButton', function (e, n) { const i = n.constructor.type; x(i) && (n.__isFocused = !0, t.render()) }), C(E(t), 'onFocusComplete', function () { t.impl.trigger('focuscomplete') }), C(E(t), 'onFocusIn', function (e) { if (t.isMostRecentFocusViaMouse = (0, s.isMouseDownRecently)(), !(0, s.isMouseDownRecently)() && !t._isMouseDownFromTouch || e.srcElement !== t.layoutRef) { t.updateFocusedControl(e.target), t.impl.enterInputContext('player-focus'); const n = t.isKeyboardFocused; t.isKeyboardFocused = !((0, s.isMouseDownRecently)() || t._isMouseDownFromTouch), !n && t.isKeyboardFocused && (t.impl.trigger('focusin', e), t.maybeToggleControls()) } else e.srcElement.blur() }), C(E(t), 'onFocusOut', function (e) { t.updateFocusedControl(null), t.impl.exitInputContext('player-focus'), t.isKeyboardFocused ? (0, c.doTimeout)(''.concat(t.impl.uuid, '.maybe_toggle_on_blur'), function () { let n; document.activeElement && (0, d.elemIsInside)(document.activeElement, t.layoutRef) || (t.isKeyboardFocused = !1, (n = t.impl) === null || void 0 === n || n.trigger('focusout', e), t.maybeToggleControls()) }, 1e3) : (0, c.doTimeout)(''.concat(t.impl.uuid, '.maybe_toggle_on_blur'), t.maybeToggleControls, 50) }), C(E(t), 'onKeyDown', function (e) { if (e.target === t.layoutRef) { const n = e.keyCode; e.__handledAlready || n !== 32 && n !== 13 || t.togglePlay() } }), C(E(t), 'expandClickForSoundBtn', function (e) { const n = t.impl.controls.clickForSoundButton; if (n) { const i = n.embedElement.querySelector('.click-for-sound-btn div'); if (i) return i.style.maxWidth = e ? '1000px' : '0px' } }), C(E(t), 'onMouseEnter', function (e) { t.impl.trigger('mouseenter', e), t.isHovering = !0, t.maybeToggleControls(), t.expandClickForSoundBtn(!0), t.impl.enterInputContext('player-mouseover') }), C(E(t), 'onMouseLeave', function (e) { t.impl.trigger('mouseleave', e), t.isHovering = !1, t.maybeToggleControls(), t.expandClickForSoundBtn(!1), t.impl.exitInputContext('player-mouseover') }), C(E(t), 'onMouseMove', function (e) { if (!j.touchScreen && t.impl.state() !== 'beforeplay') { const n = t.lastPageX !== e.pageX || t.lastPageY !== e.pageY; n && (t.lastMovedMouseAt = Date.now(), t.lastPageX = e.pageX, t.lastPageY = e.pageY), n && (t.maybeToggleControls(), t.shouldShowControls() && (clearTimeout(t.maybeToggleControlsTimeout), (0, d.elemIsInside)(e.target, t.backgroundElem) ? (t.lastMouseMoveWasFromBackground = !0, t.maybeToggleControlsTimeout = setTimeout(t.maybeToggleControls, t.showControlsTimeout())) : (t.lastMouseMoveWasFromBackground = !1, t.maybeToggleControls()))) } }), C(E(t), 'onClick', function (e) { let n; t.lastMovedMouseAt = Date.now(); const r = (n = i.Wistia.PopoverV3) === null || void 0 === n ? void 0 : n._activePopover; const o = !(0, s.isMouseDownRecently)(); r && r.setShouldShowFocusOutline(o), t.lastPageX = e.pageX, t.lastPageY = e.pageY, (0, d.elemIsInside)(e.target, t.backgroundElem) ? j.touchScreen ? (t.isBeforePlayOrReset() ? t.impl.play() : t.isChromeless() ? t.togglePlay() : j.ios.version && j.ios.version < 10.1 ? (t.tappedToHide = !1, t.impl.play()) : t._areControlsVisible ? t.tappedToHide = !t.tappedToHide : t.tappedToHide = !1, t.maybeToggleControls(), setTimeout(t.maybeToggleControls, t.showControlsTimeout())) : e.ctrlKey || (t.togglePlay(), t.impl.isKeyboardFocused(o), t.impl.focus()) : t.impl.state() !== 'beforeplay' && (t.tappedToHide = !1, t.maybeToggleControls(), setTimeout(t.maybeToggleControls, t.showControlsTimeout())) }), C(E(t), 'onDblClick', function (e) { if (!j.touchScreen && (0, d.elemIsInside)(e.target, t.backgroundElem)) { const n = t.impl; t.impl.isControlEnabled('fullscreenControl') && (n.inFullscreen() ? n.cancelFullscreen() : n.requestFullscreen()) } }), C(E(t), 'onTouchStart', function (e) { e._touchStartFromControlDialog && (t._touchStartFromControlDialog = !0), t._cancelSwipe = !t.impl.inFullscreen() }), C(E(t), 'onSwipe', function (e, n) { if (!t._cancelSwipe) { t._swipeCtx = n; const i = t.impl; const r = i.height(); const o = i.width(); const a = n.absYDelta / r; const s = n.absXDelta / o; if (n.timeDelta > 175 && (a < 0.02 || s > a)) return t._cancelSwipe = !0, void (0, d.elemAnimate)(i.chrome, { transform: 'translate(0, 0)' }, { time: 200, callback: function () { (0, d.elemAnimate)(i.chrome, { transform: '' }) } }); if (a >= 0.02 && a > s) { const l = n.yDelta / r; (0, d.elemStyle)(i.chrome, { transform: 'translate(0, '.concat(-1 * l * r, 'px)') }) } } }), C(E(t), 'onPinch', function (e, n) { if (t.impl.isControlEnabled('fullscreenControl')) { t._pinchCtx = n; let i; let r; const o = t.impl; t.impl.inFullscreen() ? (i = 0.3, r = 2.5) : (i = 0.8, r = 2.5), n.pinchScale < 1 ? n.pinchScale *= 1 + 0.5 * (1 - n.pinchScale) : n.pinchScale *= 1 + 0.25 * (n.pinchScale - 1); const a = Math.max(i, Math.min(r, n.pinchScale)); (0, d.elemStyle)(o.chrome, { transform: 'scale('.concat(a, ')') }) } }), C(E(t), 'onTouchEnd', function () { if (t.impl.isControlEnabled('fullscreenControl')) { const e = t._pinchCtx; const n = t._swipeCtx; t._pinchCtx = null, t._swipeCtx = null; const i = t.impl; if (e)!i.inFullscreen() && e.pinchScale > 1.5 ? ((0, d.elemStyle)(i.chrome, { transform: '' }), i.requestFullscreen()) : i.inFullscreen() && e.pinchScale < 0.7 ? ((0, d.elemStyle)(i.chrome, { transform: '' }), i.cancelFullscreen()) : (0, d.elemAnimate)(i.chrome, { transform: 'scale(1)' }, { time: 400, callback: function () { (0, d.elemStyle)(i.chrome, { transform: '' }) } }); else if (n) { const r = i.height(); const o = i.width(); const a = n.absYDelta / r; const s = n.absXDelta / o; const l = function () { (0, d.elemStyle)(i.chrome, { transform: '' }) }; if (a > 0.16 && a > s && Date.now() - n.startedAt < 500 && !1 === t._touchStartFromControlDialog) { t._cancelSwipe = !0; const u = n.yDelta > 0 ? -1 : 1; (0, d.elemAnimate)(i.chrome, { transform: 'translate(0, '.concat(u * r, 'px)') }, { time: 200, callback: function () { i.cancelFullscreen(), l() } }) } else t._cancelSwipe = !0, (0, d.elemAnimate)(i.chrome, { transform: 'translate(0, 0)' }, { time: 200, callback: l }) }t._touchStartFromControlDialog = !1 } }), C(E(t), 'maybeToggleControls', function () { if (!t._destroyed) { const e = t._shouldShowControls; return t._shouldShowControls = t.shouldShowControls(), e !== t._shouldShowControls ? t.lastRenderPromise.then(function () { return t.render() }) : Promise.resolve() } }), C(E(t), 'mountRefsFn', function (e) { (0, h.assign)(t.mountRefs, e) }), C(E(t), 'backgroundRefFn', function (e) { t.backgroundElem = e }), t } return e = _, n = [{ key: 'init', value: function () { const t = this; this.mountPromises = [], this.controls = {}, this.controlsByType = {}, this.dialogs = [], this.mountRefs = {}, this.buttonMountRefs = {}, this.lastRenderPromise = Promise.resolve(), this.lastMouseMoveWasFromBackground = !0, this._touchStartFromControlDialog = !1, this._ariaLiveText = '', this._previousBorderRadiusOn = !1, (0, p.getDefaultTranslation)().then(function (e) { const n = t.impl.publicApi; n && !n._wasPlayerLanguageSetViaApi && t.impl.playerLanguage(e.code) }), this.domId || (this.domId = (0, o.seqId)('w-vulcan-v2-')) } }, { key: 'bigPlayButtonBorderRadius', value: function () { return this.impl._attrs.bigPlayButtonBorderRadius * this.scale() } }, { key: 'controlBarBorderRadius', value: function () { return this.impl._attrs.controlBarBorderRadius * this.scale() } }, { key: 'controlBarDistance', value: function () { return this.impl._attrs.controlBarDistance * this.scale() } }, { key: 'setupBindings', value: function () { const t = this; this._hasSetupBindings = !0; const e = this.impl; this.video = e.video, this.unbinds.push(e.on('play', function () { t.doneWaitingForPlay = !0, t.tappedToHide != null && (t.tappedToHide = !1), t.render(), t.maybeToggleControls(), setTimeout(t.maybeToggleControls, t.showControlsTimeout()) }), e.on('pause', function () { j.touchScreen && (t.tappedToHide != null && (t.tappedToHide = !1), t.maybeToggleControls()) }), e.on('playrejected', function () { t.doneWaitingForPlay = !0, t.showVideoWrapper(), t.render() }), e.on('enter-fullscreen', function () { t._scale = null, t.cachedVideoHeight = null, t.cachedVideoWidth = null, t.render(), t.lastMouseMoveWasFromBackground = !0, t.maybeToggleControls(), (0, c.doTimeout)(''.concat(t.impl.uuid, '.maybe_toggle_on_fullscreen'), t.maybeToggleControls, t.showControlsTimeout()) }), e.on('cancel-fullscreen', function () { t._scale = null, t.cachedVideoHeight = null, t.cachedVideoWidth = null, t.render(), t.lastMouseMoveWasFromBackground = !0, t.maybeToggleControls(), (0, c.doTimeout)(''.concat(t.impl.uuid, '.maybe_toggle_on_fullscreen'), t.maybeToggleControls, t.showControlsTimeout()) }), e.on('up', function () { t._scale = null, t.cachedVideoHeight = null, t.cachedVideoWidth = null, t.render() }), e.on('playerlanguagechange', function () { t.render() }), e.on('popoverhide', function () { t.render() }), e.on('popovershow', function () { t.render() }), e.on('widthchange', function () { t._scale = null, t._isShowingMore = null, t.cachedVideoWidth = null, t.render() }), e.on('heightchange', function () { t._scale = null, t.cachedVideoHeight = null, t.render() }), i.Wistia.on('controldefined', function () { t.render() }), (0, d.elemBind)(document, 'keyup', function (n) { (0, d.formInputIsFocused)() || e.getInputContext() === 'player-mouseover' && !1 !== e._opts.hoverHotkeysEnabled && n.keyCode === 32 && t.togglePlay() }), (0, d.elemBind)(window, 'mouseout', function (e) { const n = e.relatedTarget || e.toElement; n && n.nodeName !== 'HTML' || (t.isHovering = !1, t.impl.exitInputContext('player-mouseover')) }), (0, d.elemBind)(document, 'touchend', function () { (0, s.isMouseDown)() && (t._isMouseDownFromTouch = !0), setTimeout(function () { t._isMouseDownFromTouch = !1, t.render() }, 50) }), (0, d.elemBind)(window, 'languagechange', function () { (0, p.getDefaultTranslation)().then(function (e) { const n = t.impl.publicApi; const i = t.impl.playerLanguage().code !== e.code; n && !n._wasPlayerLanguageSetViaApi && i && t.impl.playerLanguage(e.code) }) })), e.whenVideoElementInDom().then(function () { t.unbinds.push(t.impl.engine.bind('webkitplaybacktargetavailabilitychanged', function () { setTimeout(function () { t.render() }, 0) })) }), e.whenVideoElementInDom().then(function () { t.unbinds.push(t.impl.engine.bind('audiotracksupdated', function () { setTimeout(function () { t.render() }, 0) })) }), e.whenVideoElementInDom().then(function () { t.unbinds.push(t.impl.engine.bind('livestreamready', function () { t.impl.play() })) }) } }, { key: 'setupEventListeners', value: function () { const t = this; this._hasSetupEventListeners = !0, this.eventListeners instanceof Map && (this.eventListeners.set('bigplaybuttonborderradiuschange', function () { t.resetCssReset(), t.render() }), this.eventListeners.set('controlbarborderradiuschange', function () { t.resetCssReset(), t.render() }), this.eventListeners.set('playerborderradiuschange', function () { t.resetCssReset(), t.render() }), this.eventListeners.set('playercolorchange', function () { return t.render() }), this.eventListeners.forEach(function (e, n) { t.embedElement.addEventListener(n, e) })) } }, { key: 'render', value: function () { const t = this; if (this.isRendering && this.lastRenderPromise) return this.queuedRenderPromise || (this.queuedRenderPromise = this.lastRenderPromise.then(function () { return t.render().then(function () { t.queuedRenderPromise = void 0 }) })), this.queuedRenderPromise; const e = this.impl; if (this._destroyed || !e.grid) return new Promise(function () {}); if (this._hasSetupBindings || this.setupBindings(), this._hasSetupEventListeners || this.setupEventListeners(), this.cssResetStyle || (this.cssResetStyle = (0, d.addInlineCss)(e.uiContainer, this.cssResetContent())), this.doneWaitingForPlay == null) { const n = e._isPlayPending && e.state() === 'beforeplay'; this.doneWaitingForPlay = !n } return this.lastRenderPromise = new Promise(function (n) { t.isRendering = !0; const i = t.setupControls(); const r = i.newControls; const o = i.existingControls; t.setControlProps(); const s = t._shouldShowControls != null ? t._shouldShowControls : t.shouldShowControls(); t._areControlsVisible = t._shouldShowControls, (0, d.elemStyle)(t.impl.chrome, { borderRadius: ''.concat(t.playerBorderRadius(), 'px') }), (0, a.render)((0, a.h)(m.default, { ariaLiveText: t._ariaLiveText, afterRender: r.length > 0 ? function () { t.afterRender(o, r, n) } : null, allMounted: t.allMounted, backgroundRef: t.backgroundRefFn, bottomBarRightInnerRef: function (e) { t.bottomBarRightInnerRef = e }, color: e.playerColor(), controlBarHeight: t.controlBarHeight(), controlBarBorderRadius: t.controlBarBorderRadius(), controlsByType: t.controlsByType, domId: t.domId, doneWaitingForPlay: t.doneWaitingForPlay, inFullscreen: e.inFullscreen(), inNativeMode: t.inNativeMode(), isMouseDownFromTouch: t._isMouseDownFromTouch, isShowingMore: t.isShowingMore(), hasClickedToShowMore: t._isShowingMore != null, layoutRef: function (e) { return t.layoutRef = e }, leftControlWidth: t.leftControlWidth, mountRefs: t.mountRefsFn, noMixBlendMode: e._opts.noMixBlendMode, onClick: t.onClick, onDblClick: t.onDblClick, onFocusComplete: t.onFocusComplete, onfocusin: t.onFocusIn, onfocusout: t.onFocusOut, onKeyDown: t.onKeyDown, onMouseEnter: t.onMouseEnter, onMouseLeave: t.onMouseLeave, onMouseMove: t.onMouseMove, onPinch: t.onPinch, onSwipe: t.onSwipe, onTouchEnd: t.onTouchEnd, onTouchStart: t.onTouchStart, controlBarDistance: t.controlBarDistance(), playerBorderRadius: t.playerBorderRadius(), playerLanguage: e.playerLanguage(), rightControlWidth: t.rightControlWidth, scale: t.scale(), shouldShowControls: s, videoHeight: t.videoHeight(), videoState: e.state(), videoWidth: t.videoWidth() }), e.uiContainer), r.length === 0 && t.afterRender(o, r, n) }), this.lastRenderPromise } }, { key: 'afterRender', value: function (t, e, n) { const i = this; if (!this._destroyed && this.impl.grid) try { if (this.runOnControlPropsUpdated(t), this.renderButtons(t), this.mountControls(e), this.didFirstRender)n(); else { this.didFirstRender = !0; const r = new Promise(function (t) { (0, c.doTimeout)(''.concat(i.impl.uuid, '.two_seconds_elapsed'), t, 2e3) }); this.allMountedPromise = Promise.race([r, Promise.all(this.mountPromises)]).catch(function (t) { setTimeout(function () { throw t }, 0) }).then(function () { i.allMounted = !0, i.render().then(n) }), this.mountPromises.length === 0 && n(), this.doneWaitingForPlay ? this.allMountedPromise.then(function () { i.showVideoWrapper() }) : ((0, c.doTimeout)(''.concat(this.impl.uuid, '.bail_on_autoplay'), function () { i.doneWaitingForPlay || (i.doneWaitingForPlay = !0, i.showVideoWrapper(), i.render()) }, 2e3), this.showVideoWrapperAfterInitialPlay()) } } catch (t) { setTimeout(function () { throw t }, 0) } finally { this.isRendering = !1 } else this.isRendering = !1 } }, { key: 'resetCssReset', value: function () { const t = Boolean(this.impl._attrs.controlBarBorderRadius || this.impl._attrs.bigPlayButtonBorderRadius); this.cssResetStyle && this._previousBorderRadiusOn !== t && ((0, d.elemRemove)(this.cssResetStyle), this.cssResetStyle = null, this._previousBorderRadiusOn = t) } }, { key: 'setControlProps', value: function () { const t = this; const e = this.impl; const n = this.anyDialogOpen(); const i = this.isChromeless(); const r = this.shouldShowControls(); const o = this.isHovering; const a = this.isMostRecentFocusViaMouse; const s = e.playerLanguage(); const l = this.scale(); const u = this.videoHeight(); const c = this.videoWidth(); const p = this.vulcOffset = (0, d.elemOffset)(e.grid.center); const f = this.bottomBarOffset = { left: p.left, top: p.top + this.videoHeight() - this.controlBarHeight() }; let y = 0; this.getControlsByType('control-bar-left').forEach(function (o, h) { o.__prevProps = o.props, o.props = { anyDialogOpen: n, chromeless: i, controlsAreVisible: r, focusNextVisibleControl: t.createFocusNextControlFunction(o), height: Math.round(D(o) * l), isMostRecentFocusViaMouse: a, left: y, isLeftMostControl: y === 0, isRightMostControl: e.isControlDisabled('playbar'), playerLanguage: s, scale: l, videoHeight: u, videoWidth: c, width: Math.round(R(o)) * l }, y += o.props.width }), this.leftControlWidth = y; const v = this.getControlsByType('control-bar-right', 'ellipsis'); v.forEach(function (o, h) { o.__prevProps = o.props, o.props = { anyDialogOpen: n, chromeless: i, controlsAreVisible: r, focusNextVisibleControl: t.createFocusNextControlFunction(o), height: Math.round(D(o) * l), isMostRecentFocusViaMouse: a, isLeftMostControl: h === 0 && e.isControlDisabled('playbar'), isRightMostControl: h === v.length - 1, playerLanguage: s, scale: l, videoHeight: u, videoWidth: c, width: Math.round(R(o)) * l }, o.constructor.handle === 'volumeButton' && h === v.length - 2 && (o.props.isRightMostControl = !0), o.constructor.handle === 'volumeSlider' && h === v.length - 1 && (o.props.isRightMostControl = !1) }); let m = 0; this.getControlsByType('ellipsis').slice().reverse().forEach(function (t) { m += t.props.width, t.props.left = c - m }), this.ellipsisWidth = m, this.getControlsByType('control-bar-right').slice().reverse().forEach(function (t) { m += t.props.width, t.props.left = c - m }), this.rightControlWidth = m; const g = this.leftControlWidth + (this.ellipsisWidth > 0 ? this.ellipsisWidth : this.rightControlWidth); const b = c - g; const _ = this.getControlsByType('playbar')[0]; _ && (_.__prevProps = _.props, _.props = { anyDialogOpen: n, chromeless: i, controlsAreVisible: r, focusNextVisibleControl: this.createFocusNextControlFunction(_), height: this.controlBarHeight(), isMostRecentFocusViaMouse: a, left: y, playerLanguage: s, scale: l, videoHeight: u, videoWidth: c, width: b }), this.playbarControlWidth = b; const w = this.controlBarHeight(); ['background', 'foreground', 'left-flyout', 'above-control-bar', 'right-flyout'].forEach(function (e) { (t.controlsByType[e] || []).forEach(function (e) { e.__prevProps = e.props, e.props = { anyDialogOpen: n, chromeless: i, controlBarHeight: w, isFocusable: t.allMounted && t.doneWaitingForPlay, controlsAreVisible: r, focusNextVisibleControl: t.createFocusNextControlFunction(e), isHoveringOnPlayer: o, isMostRecentFocusViaMouse: a, playerLanguage: s, scale: l, videoHeight: u, videoWidth: c } }) }); const P = f.top; this.eachButtonControl(function (t) { t.props.top = P }), _ && (0, h.assign)(_.props, { top: P }), this.eachControl(function (e) { e.props.bigPlayButtonBorderRadius = t.bigPlayButtonBorderRadius(), e.props.controlBarBorderRadius = t.controlBarBorderRadius(), e.props.controlBarDistance = t.controlBarDistance(), e.props.leftControlBarWidth = t.leftControlWidth, e.props.playerBorderRadius = t.playerBorderRadius(), e.props.rightControlBarWidth = t.rightControlWidth }) } }, { key: 'runOnControlPropsUpdated', value: function (t) { t.forEach(function (t) { if (typeof t.onControlPropsUpdated === 'function') try { t.onControlPropsUpdated(t.__prevProps || {}) } catch (t) { setTimeout(function () { throw t }, 0) }t.__prevProps = null }) } }, { key: 'setupControls', value: function () { const t = this; const e = this.impl; let n = !1; const r = []; const o = function () { const i = t.controls[a]; if (B[i.constructor.type]) { const o = i.constructor.shouldMount; if (e.isControlDisabled(a) || o && !o(e.publicApi)) { if (i.destroy) try { i.destroy() } catch (t) { setTimeout(function () { throw t }, 1) }i.__destroyed = !0, delete t.mountRefs[a], delete t.buttonMountRefs[a], delete t.controls[L(i)], n = !0, r.push(i), e.trigger('controldestroyed', a) } } }; for (var a in this.controls)o(); let s = !1; const l = []; const u = []; const c = function (n) { const r = i.Wistia._controlDefinitions[n]; if (B[r.type]) { const o = t.controls[n] != null; const a = !e.isControlDisabled(n) && (r.shouldMount == null || r.shouldMount(e.publicApi)); if (a && o && u.push(t.controls[n]), !o && a) { try { const c = t.controls[n] = new r(e); c.mounted = new Promise(function (t) { c.__didMount = function () { c.mounted.isResolved = !0, e.trigger('controlmounted', n), t() } }), l.push(c) } catch (t) { setTimeout(function () { throw t }, 1) }s = !0 } } }; for (const h in i.Wistia._controlDefinitions)c(h); if (s || n) { const d = {}; for (const p in this.eachControl(function (t) { const e = t.constructor.type; d[e] == null && (d[e] = []), d[e].push(t) }), d)d[p].sort(function (t, e) { return (t.constructor.sortValue || 0) - (e.constructor.sortValue || 0) }); this.controlsByType = d, e.publicApi.controls = e.controls = this.controls } return { newControls: l, existingControls: u, destroyedControls: r } } }, { key: 'whenControlMounted', value: function (t) { const e = this; return new Promise(function (n) { const i = e.controls[t]; i && i.mounted ? i.mounted.then(function () { n(i) }) : e.impl.bind('controlmounted', function (i) { if (i === t) return n(e.controls[t]), e.impl.unbind }) }) } }, { key: 'mountControls', value: function (t) { const e = this; t.forEach(function (t) { const n = t.constructor.type; const i = L(t); const r = e.mountRefs[i]; if (t.nextControlOfSameType || (t.nextControlOfSameType = function () { const n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : t; return e.nextControlOfSameType(n) }), t.loading || (t.loading = function (i) { const r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return n === 'control-bar-right' ? e.renderButtonWithDialogLoader(t, i) : e.renderHourglassLoader(i, r) }), n === 'control-bar-left' || n === 'control-bar-right' || n === 'ellipsis') if (t.mountButton) { const o = e.renderButtonWithDialog(t); e.mountControl(t, function () { return t.mountButton(o) }) } else t.mount && e.mountControl(t, function () { return t.mount(r) }); else e.mountControl(t, function () { return t.mount(r) }); t.eventListeners instanceof Map && t.eventListeners.forEach(function (e, n) { t.embedElement.addEventListener(n, e) }) }) } }, { key: 'mountControl', value: function (t, e) { try { const n = L(t); const i = e(); i && i.then && i.catch ? (i.handle = n, this.mountPromises.push(i), i.then(function () { t.__didMount() })) : t.__didMount() } catch (t) { setTimeout(function () { throw t }, 0) } } }, { key: 'renderButtons', value: function (t) { const e = this; t.forEach(function (t) { t.mountButton && e.renderButtonWithDialog(t) }) } }, { key: 'renderButtonWithDialog', value: function (t) { const e = this; const n = L(t); if (this.impl) { try { t.mountDialog && !t.dialog && (t.dialog = new v.default(this, { dialogWillOpen: I(t.controlDialogWillOpen, t), dialogOpened: I(t.controlDialogOpened, t), dialogWillClose: I(t.controlDialogWillClose, t), dialogClosed: I(t.controlDialogClosed, t), control: t }), this.dialogs.push(t.dialog)) } catch (t) { setTimeout(function () { throw t }, 0) } if (t.setButtonLabel || (t.setButtonLabel = function (n) { t.__buttonLabel = n, e.renderButtonWithDialog(t) }), this.mountRefs[n]) { let i; const r = !this.impl.publicApi.popover || this.impl.publicApi.popover.isVisible() ? 0 : -1; return (0, a.render)((0, a.h)(y.default, w({}, t.props, { buttonLabel: t.__buttonLabel, buttonRef: function (e) { t.buttonElement = e }, closeDialogOnFocusOut: this.impl._opts.closeDialogsOnFocusOut, color: this.impl.playerColor(), control: t, key: ''.concat(n, '_button_and_dialog'), onBlurButton: this.onBlurButton, onFocusButton: this.onFocusButton, rootRef: function (t) { return e.buttonMountRefs[n] = t }, stubRef: function (t) { return i = t }, tabIndex: r, videoState: this.impl.state() })), this.mountRefs[n]), i } } } }, { key: 'renderButtonWithDialogLoader', value: function (t, e) { const n = this; return new Promise(function (i) { const r = ''.concat(n.impl.uuid, '.loading_dialog_indicator.').concat((0, o.seqId)()); (0, c.doTimeout)(r, function () { n.setLoadingDialogAndRender(t, !0), j.touchScreen ? (0, d.elemBind)(document, 'touchstart', function () { try { n.setLoadingDialogAndRender(t, !1) } catch (t) { setTimeout(function () { throw t }, 0) } return i(), d.elemUnbind }) : (0, d.elemBind)(document, 'mousedown', function () { try { n.setLoadingDialogAndRender(t, !1) } catch (t) { setTimeout(function () { throw t }, 0) } return i(), d.elemUnbind }) }, 300), e.then(function () { (0, c.clearTimeouts)(r), n.setLoadingDialogAndRender(t, !1), i() }) }) } }, { key: 'setLoadingDialogAndRender', value: function (t, e) { t.__isDialogLoading = e, this.renderButtonWithDialog(t) } }, { key: 'renderHourglassLoader', value: function (t, e) { const n = this; return new Promise(function (i) { const r = ''.concat(n.impl.uuid, '.loading_indicator.').concat((0, o.seqId)()); (0, c.doTimeout)(r, function () { n.controls.loadingHourglass.show(e), j.touchScreen ? (0, d.elemBind)(document, 'touchstart', function () { try { n.controls.loadingHourglass.hide() } catch (t) { setTimeout(function () { throw t }, 0) } return i(), d.elemUnbind }) : (0, d.elemBind)(document, 'mousedown', function () { try { n.controls.loadingHourglass.hide() } catch (t) { setTimeout(function () { throw t }, 0) } return i(), d.elemUnbind }) }, 300), t.then(function () { (0, c.clearTimeouts)(r), n.controls.loadingHourglass.hide(), i() }) }) } }, { key: 'eachControl', value: function (t) { for (const e in this.controls)B[this.controls[e].constructor.type] && t(this.controls[e]) } }, { key: 'eachButtonControl', value: function (t) { this.getControlsByType('control-bar-left', 'control-bar-right', 'ellipsis').forEach(t) } }, { key: 'spaceForPlaybar', value: function () { let t = 0; return this.eachButtonControl(function (e) { t += R(e) }), this.videoWidth() - t * this.scale() } }, { key: 'controlBarHeight', value: function () { const t = this.impl; return this.isBeforePlayOrReset() && !t._attrs.controlsVisibleOnLoad || this.isChromeless() ? 0 : Math.round(34 * this.scale()) } }, { key: 'isBeforePlayOrReset', value: function () { const t = this.impl; return t.state() === 'beforeplay' || t._opts && t._attrs.endVideoBehavior === 'reset' && t.state() === 'ended' } }, { key: 'shouldShowControls', value: function () { const t = this.impl; return !(this.isChromeless() || t.publicApi.popover && !t.publicApi.popover.isVisible() || (this.isBeforePlayOrReset() && this.doneWaitingForPlay ? !0 !== t._attrs.controlsVisibleOnLoad : !this.hasRequestedControlsVisible() && (j.touchScreen ? this.tappedToHide == null || this.tappedToHide || t.state() === 'playing' && !this.anyDialogOpen() && !(this.lastMovedMouseAt && Date.now() - this.lastMovedMouseAt < 3e3 && this.lastMovedMouseAt > t.lastPlayInfo().issuedAt) : !this.anyDialogOpen() && !this.isKeyboardFocused && (!t.inFullscreen() && !this.isHovering || !(this.lastMovedMouseAt && Date.now() - this.lastMovedMouseAt < 3e3) && this.lastMouseMoveWasFromBackground)))) } }, { key: 'hasRequestedControlsVisible', value: function () { const t = this.impl._visibilityRequests; for (const e in t) if (t[e]) return !0; return !1 } }, { key: 'createFocusNextControlFunction', value: function (t) { const e = this; const n = this.nextVisibleFocusableControl(t); return function (t) { let i = n; t && (i = e.nextVisibleFocusableControl(t)); const r = L(i); const o = e.mountRefs[r]; return e.focusNextVisibleElem(o) } } }, { key: 'focusNextVisibleElem', value: function (t) { for (var e = t || this.impl.uiContainer, n = this.getVisibleFocusableElems(e), i = 0, r = 0; r < n.length; r++) if (document.activeElement === n[r]) { i = r; break } return n.length !== 0 && (i === n.length - 1 ? n[0].focus() : n[i + 1].focus(), !0) } }, { key: 'getVisibleFocusableElems', value: function (t) { const e = t.querySelectorAll('button, [href], input, select, textarea, [tabindex="0"]'); return Array.prototype.slice.call(e).filter(function (t) { return !(0, d.elemIsHidden)(t) }) } }, { key: 'updateFocusedControl', value: function (t) { const e = this; this.eachControl(function (n) { const i = n.constructor.handle; const r = e.mountRefs[i]; n.__isFocused = t && (0, d.elemIsInside)(t, r) }), this.render() } }, { key: 'showControlsTimeout', value: function () { return this.impl.inFullscreen() || j.touchScreen ? 3e3 : 5e3 } }, { key: 'togglePlay', value: function () { const t = this.impl; t.state() === 'playing' ? t.pause() : t.play() } }, { key: 'showVideoWrapperAfterInitialPlay', value: function () { const t = this; this.impl.ready(function () { const e = [t.impl._playPromise, t.impl._seekPromise].filter(function (t) { return t != null }); return Promise.all(e).then(function () { t.showVideoWrapper() }) }) } }, { key: 'showVideoWrapper', value: function () { (0, d.elemStyle)(this.impl.videoWrapper, { clip: '' }) } }, { key: 'anyDialogOpen', value: function () { for (const t in this.controls) { const e = this.controls[t]; if (e.dialog && e.dialog.isOpen()) return !0 } return !1 } }, { key: 'openDialog', value: function (t) { this.dialogs.forEach(function (e) { e !== t && e.close() }), this.render() } }, { key: 'closeDialog', value: function (t) { this.render() } }, { key: 'resizeDialog', value: function (t) { this.render() } }, { key: 'videoWidth', value: function () { return this.cachedVideoWidth != null ? this.cachedVideoWidth : this.cachedVideoWidth = this.impl.videoWidth() } }, { key: 'videoHeight', value: function () { return this.cachedVideoHeight != null ? this.cachedVideoHeight : this.cachedVideoHeight = this.impl.videoHeight() } }, { key: 'scale', value: function () { return this._scale != null ? this._scale : this.impl.controlScaling() !== 'auto' ? this.impl.controlScaling() : this._scale = Math.min(1.3, Math.max(0.6, (0, l.controlMultiplierBasedOnVideo)(this.impl))) } }, { key: 'destroy', value: function () { for (const t in this.buttonMountRefs)g(this.buttonMountRefs, t) && (0, a.render)((0, a.h)('nothing', null), this.mountRefs[t]); (0, a.render)((0, a.h)('nothing', null), this.impl.uiContainer), this.eachControl(function (t) { if (t.destroy) try { t.destroy() } catch (t) { setTimeout(function () { throw t }, 0) }t.__destroyed = !0 }), this.unbinds.forEach(function (t) { return t() }), (0, d.elemRemove)(this.cssResetStyle), this.cssResetStyle = null, O(T(_.prototype), 'destroy', this).call(this) } }, { key: 'nextVisibleFocusableControl', value: function (t) { const e = this.nextControlOfSameType(t); if (e) return e; for (var n, i = t.constructor.handle, r = Object.keys(this.mountRefs), o = r.indexOf(i) + 1, a = r.slice(o), s = 0; s < a.length; s++) { const l = this.mountRefs[a[s]]; if (this.getVisibleFocusableElems(l).length > 0) { n = a[s]; break } } return n || void 0 } }, { key: 'nextControlOfSameType', value: function (t) { const e = t.constructor.type; const n = this.controlsByType[e]; const i = n.indexOf(t); let r = n[i + 1]; return e === 'control-bar-left' && (!r && this.controlsByType.playbar && (r = this.controlsByType.playbar[0]), !r && this.controlsByType['control-bar-right'] && (r = this.controlsByType['control-bar-right'][0]), !r && this.controlsByType.ellipsis && (r = this.controlsByType.ellipsis[0])), r } }, { key: 'hasAnyVideoChromeControls', value: function () { for (const t in this.controls) { const e = this.controls[t]; if (e.constructor.isVideoChrome || x(e.constructor.type)) return !0 } return !1 } }, { key: 'hasRequestedChromeless', value: function () { const t = this.impl._visibilityRequests; for (const e in t) if (!1 === t[e]) return !0; return !1 } }, { key: 'isChromeless', value: function () { return this.inNativeMode() || this.impl._opts.chromeless || this.hasRequestedChromeless() || !this.hasAnyVideoChromeControls() } }, { key: 'inNativeMode', value: function () { const t = this.impl._opts; return !0 === t.nativeMode || j.ipad && j.ios.version && j.ios.version < 10.1 || !1 === t.playsinline && (j.ipad || j.iphone || j.android) && !/two_stroke/.test(this.impl.bestEngine()) } }, { key: 'cssResetContent', value: function () { const t = '#'.concat(this.impl.chrome.id, ' #').concat(this.impl.grid.wrapper.id); const e = (0, r.cssResetForSelector)(''.concat(t, ' '), '.w-css-reset'); const n = (0, r.cssResetForSelector)(''.concat(t, ' .w-css-reset-tree '), ''); const i = this.impl._attrs.controlBarBorderRadius || this.impl._attrs.bigPlayButtonBorderRadius ? '' : 'border-radius:0!important;'; return '\n      '.concat(e, '\n      ').concat(n, '\n      ').concat(t, ' .w-css-reset-max-width-none-important{max-width:none!important}\n      ').concat(t, ' .w-css-reset-button-important{').concat(i, 'color:#fff!important;}\n    ') } }, { key: 'hasRendered', value: function () { return !!this.allMounted } }, { key: 'shouldShowMoreDefaultValue', value: function () { return (this.rightControlWidth - this.ellipsisWidth) / this.videoWidth() < 0.35 } }, { key: 'isShowingMore', value: function () { if (this.controlsByType.ellipsis) { const t = this.getControlsByType('playbar'); return t.length === 0 || !(t.filter(function (t) { return t.__isFocused }).length > 0) && (!!(this.getControlsByType('control-bar-right').filter(function (t) { return t.__isFocused }).length > 0) || (this._isShowingMore != null ? this._isShowingMore : this.shouldShowMoreDefaultValue())) } } }, { key: 'playerBorderRadius', value: function () { return this.impl._attrs.playerBorderRadius * this.scale() } }, { key: 'showMore', value: function () { return this._isShowingMore = !0, this.render() } }, { key: 'showLess', value: function () { return this.dialogs.forEach(function (t) { return t.close() }), this._isShowingMore = !1, this.render() } }, { key: 'getControlsByType', value: function () { for (var t = this, e = arguments.length, n = new Array(e), i = 0; i < e; i++)n[i] = arguments[i]; if (n.length === 1 && this.controlsByType[n[0]]) return this.controlsByType[n[0]]; const r = []; return n.forEach(function (e) { r.push.apply(r, b(t.controlsByType[e] || [])) }), r } }, { key: 'setAriaLiveText', value: function (t) { this._ariaLiveText = t, this.render() } }], n && P(e.prototype, n), u && P(e, u), Object.defineProperty(e, 'prototype', { writable: !1 }), _ }(f.PlayerBehavior)); M.handle = 'ui'; var I = function (t, e) { return t ? t.bind(e) : null }; var L = function (t) { return t.constructor.handle }; const W = M }, (t, e, n) => { n.d(e, { default: () => y }); const i = n(5); const r = n(2); const o = n(37); const a = n(213); const s = n(214); function l (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, f(i.key), i) } } function u (t, e) { return u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, u(t, e) } function c (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = d(t); if (e) { const r = d(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return h(t) }(this, n)) } } function h (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function d (t) { return d = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, d(t) } function p (t, e, n) { return (e = f(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function f (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && u(t, e) }(y, t)); let e; let n; let d; const f = c(y); function y () { let t; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, y)), p(h(t = f.call(this)), 'onClickButton', function () { const e = t.props.control; if (e.buttonElement.focus(), !1 !== e.toggleDialogOnClick) { const n = e.dialog; n && (n.isOpen() ? n.close() : n.open()) }e.onClickButton && e.onClickButton() }), p(h(t), 'onKeyboardFocusButton', function (e) { if (e.relatedTarget !== t.dummyElem) { const n = t.props; const i = n.control; const r = n.onFocusButton; r && r(e, i), i.onFocusInButton && i.onFocusInButton(e) } }), p(h(t), 'onBlurButton', function (e) { const n = t.props; const i = n.closeDialogOnFocusOut; const r = n.control; const o = n.onBlurButton; const a = r.dialog; setTimeout(function () { const n = document.activeElement; !1 !== i && !1 === t.state.isMouseInDialog && t.isNewElemOutsideOfBase(n, t.base) && a && a.close(), o && o(e, r), r.onFocusOutButton && r.onFocusOutButton(e) }, 150) }), p(h(t), 'onKeyDownButton', function (e) { const n = t.props.control; n.onKeyDownButton && n.onKeyDownButton(e) }), p(h(t), 'onMouseEnterDialog', function () { t.setState({ isMouseInDialog: !0 }) }), p(h(t), 'onMouseLeaveDialog', function () { t.setState({ isMouseInDialog: !1 }) }), p(h(t), 'onMouseEnter', function (e) { t._isHovering = !0; const n = t.props.control; n.onMouseEnter && n.onMouseEnter(e) }), p(h(t), 'onMouseLeave', function (e) { t._isHovering = !1; const n = t.props.control; n.onMouseLeave && n.onMouseLeave(e) }), p(h(t), 'onMouseDown', function () { t._isMouseDown = !0, t._lastClickedElem = document.activeElement, (0, i.elemBind)(document, 'mouseup', t.onMouseUp) }), p(h(t), 'onMouseUp', function () { t._isMouseDown = !1, (0, i.elemUnbind)(document, 'mouseup', t.onMouseUp) }), p(h(t), 'onFocusOut', function () { setTimeout(function () { let e; const n = t.props.control; !1 !== t.props.closeDialogOnFocusOut && n.dialog && n.dialog.isOpen() && (!document.activeElement || t.isNewElemOutsideOfBase(document.activeElement, t.base)) && (document.activeElement && document.activeElement.tagName.match(/input|button/i) || !0 !== t.state.isMouseInDialog || !(0, o.isMouseDownRecently)() && !t._isMouseDown ? n.dialog.close() : (e = t._lastClickedElem) === null || void 0 === e || e.focus({ preventScroll: !0 })) }, 500) }), p(h(t), 'onBeforeDisplayNone', function () { const e = t.props.control; if (t.dialogElem && document.activeElement && (0, i.elemIsInside)(document.activeElement, t.dialogElem)) { const n = e.nextControlOfSameType(); n && n.buttonElement ? n.buttonElement.focus() : e.buttonElement.focus() } }), p(h(t), 'dialogRefFn', function (e) { t.dialogElem = e, t.props.dialogRef && t.props.dialogRef(e) }), t.state = { isMouseInDialog: !1 }, t } return e = y, (n = [{ key: 'render', value: function () { const t = this.props.control; const e = t.mountDialog && t.dialog && t.dialog.hasOpened(); return (0, r.h)('div', { class: 'w-vulcan-button-wrapper w-css-reset', style: this.wrapperStyle(), onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave, onMouseDown: this.onMouseDown, onfocusout: this.onFocusOut, ref: this.props.rootRef }, this.renderControlBarButton(), e ? this.renderControlBarDialog() : null) } }, { key: 'componentDidMount', value: function () { const t = this.props.buttonRef; t && t(this.buttonElem) } }, { key: 'componentDidUpdate', value: function () { const t = this.props.buttonRef; t && t(this.buttonElem) } }, { key: 'renderControlBarButton', value: function () { const t = this; const e = this.props; const n = this.props.control; const i = n.mountDialog && n.dialog && n.dialog.isOpen(); return (0, r.h)(s.default, { buttonLabel: this.props.buttonLabel, buttonRef: function (e) { return t.buttonElem = e }, controlBarBorderRadius: this.props.controlBarBorderRadius, controlsAreVisible: this.props.controlsAreVisible, disabled: n.disabledButton, handle: e.control.constructor.handle, isDialogOpen: i, isLeftMostControl: this.props.isLeftMostControl, isLoading: e.control.__isDialogLoading || !1, isRightMostControl: this.props.isRightMostControl, onBlur: this.onBlurButton, onClick: this.onClickButton, onKeyDownButton: this.onKeyDownButton, onKeyboardFocus: this.onKeyboardFocusButton, scale: e.scale, stubRef: e.stubRef, tabIndex: e.tabIndex, videoState: this.props.videoState }) } }, { key: 'isNewElemOutsideOfBase', value: function (t, e) { return !t || t.tagName !== 'WISTIA-PLAYER' && !(0, i.elemIsInside)(t, e) } }, { key: 'renderControlBarDialog', value: function () { const t = this.props; const e = t.control; const n = t.videoHeight - 34 * t.scale; return (0, r.h)(a.default, { canvasHeight: n, canvasWidth: t.videoWidth, controlBarBorderRadius: t.controlBarBorderRadius, dialogRef: this.dialogRefFn, handle: ''.concat(e.constructor.handle, '__dialog'), isOpen: e.dialog.isOpen(), left: e.props.left, mount: function (t) { return e.mountDialog(t) }, newLook: this.props.newLook, onBeforeDisplayNone: this.onBeforeDisplayNone, onMouseEnter: this.onMouseEnterDialog, onMouseLeave: this.onMouseLeaveDialog, controlBarDistance: t.controlBarDistance, resizeRequestedAt: e.dialog._resizeRequestedAt, scale: t.scale, top: e.props.top }) } }, { key: 'wrapperStyle', value: function () { const t = this.props.control; return { display: 'inline-block', height: ''.concat(t.props.height, 'px'), position: 'relative', verticalAlign: 'top', width: ''.concat(t.props.width, 'px') } } }]) && l(e.prototype, n), d && l(e, d), Object.defineProperty(e, 'prototype', { writable: !1 }), y }(r.Component)) }, (t, e, n) => { n.d(e, { default: () => y }); const i = n(5); const r = n(2); const o = n(49); const a = n(20); const s = n(59); function l (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, f(i.key), i) } } function u (t, e) { return u = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, u(t, e) } function c (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = d(t); if (e) { const r = d(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return h(t) }(this, n)) } } function h (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function d (t) { return d = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, d(t) } function p (t, e, n) { return (e = f(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function f (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const y = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && u(t, e) }(y, t)); let e; let n; let d; const f = c(y); function y (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, y)), p(h(e = f.call(this, t)), 'dialogRefFn', function (t) { e.dialogElem = t, e.props.dialogRef && e.props.dialogRef(t) }), p(h(e), 'handleTransitionsAfterRender', function () { const t = e.props; const n = e.state; t.isOpen ? (n.isDisplayNone || n.isOpaque && n.widthInButtons == null) && e.setState({ isDisplayNone: !1 }, function () { e.measureUserElem(), e.setState({ isOpaque: !0 }) }) : !n.isDisplayNone && n.isOpaque && e.setState({ isOpaque: !1 }, function () { clearTimeout(e.displayNoneTimeout), e.displayNoneTimeout = setTimeout(function () { e.setState({ isDisplayNone: !0 }) }, 200) }) }), p(h(e), 'measureUserElem', function () { e.stubElem.style.width = ''; const t = (0, i.elemWidth)(e.stubElem); e.stubElem.style.width = '100%'; const n = Math.ceil(t / (40 * e.props.scale)); n === e.state.widthInButtons || isNaN(n) || e.setState({ widthInButtons: n }) }), p(h(e), 'onTouchStart', function (t) { t._touchStartFromControlDialog = !0 }), e.uuid = (0, a.seqId)(), e.state = { isDisplayNone: !0, isOpaque: !1, widthInButtons: null }, e } return e = y, (n = [{ key: 'componentWillReceiveProps', value: function (t) { this.props.resizeRequestedAt !== t.resizeRequestedAt && this.setState({ widthInButtons: null }) } }, { key: 'componentWillUpdate', value: function (t, e) { !0 === e.isDisplayNone && !1 === this.state.isDisplayNone && (this.cancelMeasurementLoop(), t.onBeforeDisplayNone && t.onBeforeDisplayNone()), !1 === e.isDisplayNone && !0 === this.state.isDisplayNone && this.setupMeasurementLoop() } }, { key: 'render', value: function () { const t = this; return (0, r.h)('div', { class: 'w-anchor w-css-reset', style: this.anchorStyle(), onMouseEnter: this.props.onMouseEnter, onMouseLeave: this.props.onMouseLeave, onTouchStart: this.onTouchStart }, (0, r.h)('div', { class: 'w-dialog w-css-reset', style: this.dialogStyle(), ref: this.dialogRefFn }, (0, r.h)('div', { class: 'w-css-reset', style: this.dialogContentWrapperStyle() }, (0, r.h)(s.RawHTMLStub, { style: this.stubStyle(), stubRef: function (e) { return t.stubElem = e }, handle: this.props.handle, class: 'w-css-reset' })))) } }, { key: 'componentDidMount', value: function () { const t = this.props.mount(this.stubElem); t && t.then && t.catch ? this.mountPromise = t : this.mountPromise = Promise.resolve(), this.mountPromise.then(this.handleTransitionsAfterRender) } }, { key: 'componentDidUpdate', value: function () { this.mountPromise && this.mountPromise.then(this.handleTransitionsAfterRender) } }, { key: 'componentWillUnmount', value: function () { this.cancelMeasurementLoop() } }, { key: 'anchorStyle', value: function () { return { height: 0, left: 0, position: 'absolute', top: 0, width: '100%' } } }, { key: 'dialogContentWrapperStyle', value: function () { const t = this.state.isOpaque; const e = t ? 48 : 0; return { opacity: t ? 1 : 0, transition: 'opacity '.concat(100, 'ms ease ').concat(e, 'ms') } } }, { key: 'dialogStyle', value: function () { const t = this.props; const e = t.canvasHeight; const n = t.canvasWidth; const i = t.scale; const r = t.controlBarBorderRadius; const o = t.controlBarDistance; const a = this.state; const s = a.isDisplayNone; const l = a.isOpaque; const u = a.widthInButtons; let c = 0; let h = null; if (u != null) { h = 40 * u * i; const d = this.props.left + h - n; d > 0 && (c = -1 * d) } const p = l ? 0 : 40; return { background: 'rgba(0,0,0,0.7)', borderRadius: ''.concat(r, 'px'), bottom: ''.concat(o, 'px'), color: '#fff', display: s ? 'none' : 'block', left: c, lineHeight: '34px', maxHeight: ''.concat(e, 'px'), opacity: l ? 1 : 0, overflowX: 'hidden', overflowY: 'auto', position: 'absolute', transition: 'opacity '.concat(120, 'ms ease ').concat(p, 'ms, transform ').concat(120, 'ms ease ').concat(p, 'ms'), transform: 'scaleY('.concat(l ? 1 : 0.6, ')'), transformOrigin: 'center bottom', width: h != null ? ''.concat(h, 'px') : null } } }, { key: 'stubStyle', value: function () { return { boxSizing: 'border-box', display: 'inline-block', height: '100%', verticalAlign: 'bottom', width: '100%' } } }, { key: 'setupMeasurementLoop', value: function () { o.globalEventLoop.add(this.uuid, 500, this.measureUserElem) } }, { key: 'cancelMeasurementLoop', value: function () { o.globalEventLoop.remove(this.uuid) } }]) && l(e.prototype, n), d && l(e, d), Object.defineProperty(e, 'prototype', { writable: !1 }), y }(r.Component)) }, (t, e, n) => { n.d(e, { default: () => b }); const i = n(71); const r = n(2); const o = n(11); const a = n(37); const s = n(6); const l = n(59); const u = n(57); function c () { return c = Object.assign ? Object.assign.bind() : function (t) { for (let e = 1; e < arguments.length; e++) { const n = arguments[e]; for (const i in n)Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }, c.apply(this, arguments) } function h (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, m(i.key), i) } } function d (t, e) { return d = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, d(t, e) } function p (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = y(t); if (e) { const r = y(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return f(t) }(this, n)) } } function f (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function y (t) { return y = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, y(t) } function v (t, e, n) { return (e = m(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function m (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const g = (0, o.cachedDetect)(); const b = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && d(t, e) }(m, t)); let e; let n; let o; const y = p(m); function m (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, m)), v(f(e = y.call(this, t)), 'onFocus', function (t) { e.setState({ isKeyboardFocused: !(0, a.isMouseDownRecently)() }), !(0, a.isMouseDownRecently)() && e.props.onKeyboardFocus && e.props.onKeyboardFocus(t) }), v(f(e), 'onBlur', function (t) { e.setState({ isKeyboardFocused: !1 }), e.props.onBlur && e.props.onBlur(t) }), v(f(e), 'onMouseDown', function () { e.setState({ justClicked: !0 }) }), v(f(e), 'onMouseUp', function () { e.setState({ justClicked: !1 }) }), v(f(e), 'onMouseEnter', function () { e.setState({ isHovering: !0 }) }), v(f(e), 'onMouseLeave', function () { e.setState({ isHovering: !1 }) }), e.interval = void 0, e.state = { isKeyboardFocused: !1, isHovering: !1, justClicked: !1, opacity: 1 }, e } return e = m, (n = [{ key: 'render', value: function () { const t = this; const e = this.props; const n = e.buttonLabel; const i = { class: 'w-vulcan-v2-button w-css-reset w-css-reset-tree w-css-reset-button-important', style: this.buttonStyle(), 'aria-label': n, title: n, onClick: function () { e.disabled || e.onClick() }, onKeyDown: function (t) { e.onKeyDownButton(t) }, onMouseDown: !g.touchScreen && !e.disabled && this.onMouseDown, onMouseUp: !g.touchScreen && !e.disabled && this.onMouseUp, onTouchStart: g.touchScreen && this.onMouseDown, onTouchEnd: g.touchScreen && this.onMouseUp, elemRef: function (n) { t.buttonElem = n, e.buttonRef && e.buttonRef(n) }, tabIndex: e.tabIndex }; return void 0 !== e.isDialogOpen && (i['aria-expanded'] = ''.concat(e.isDialogOpen)), g.touchScreen || (i.onFocus = this.onFocus, i.onBlur = this.onBlur, i.onMouseEnter = this.onMouseEnter, i.onMouseLeave = this.onMouseLeave), e.disabled && (i['aria-disabled'] = !0), (0, r.h)(u.CustomEventsWrapper, c({ tagName: 'button' }, i), (0, r.h)(l.RawHTMLStub, { class: 'w-vulcan-icon-wrapper', style: this.stubStyle(), stubRef: function (e) { return t.stubRoot = e }, handle: ''.concat(this.props.handle, '_icon_wrapper') })) } }, { key: 'componentDidMount', value: function () { this.props.mount && this.props.mount(this.stubRoot, this.anchorRoot, this.buttonElem), this.props.stubRef && this.props.stubRef(this.stubRoot) } }, { key: 'createLoadingInterval', value: function () { const t = this; this.interval = setInterval(function () { const e = t.state.opacity === 0.2 ? 0.8 : 0.2; t.setState({ opacity: e }) }, 400) } }, { key: 'clearLoadingInterval', value: function () { clearInterval(this.interval), this.setState({ opacity: 1 }) } }, { key: 'componentWillReceiveProps', value: function (t) { !1 === this.props.isLoading && !0 === t.isLoading ? this.createLoadingInterval() : !0 === this.props.isLoading && !1 === t.isLoading && this.clearLoadingInterval() } }, { key: 'componentDidUpdate', value: function () { (0, s.assign)(this.stubRoot.style, this.stubStyle()), this.props.stubRef && this.props.stubRef(this.stubRoot) } }, { key: 'rootStyle', value: function () { return { height: '100%', position: 'relative', width: '100%' } } }, { key: 'buttonStyle', value: function () { const t = this.state; const e = t.isHovering; const n = t.isKeyboardFocused; const r = this.props; const o = r.controlBarBorderRadius; const a = r.scale; const s = new i.Color('#000'); const l = e && !this.props.disabled ? 0.2 : 0; s.alpha(l); const u = this.props.isRightMostControl && o ? 3 * a : 0; return { backgroundColor: s.toRgba(), borderBottomLeftRadius: this.props.isLeftMostControl ? ''.concat(o, 'px') : 0, borderBottomRightRadius: this.props.isRightMostControl ? ''.concat(o, 'px') : 0, borderTopLeftRadius: this.props.isLeftMostControl ? ''.concat(o, 'px') : 0, borderTopRightRadius: this.props.isRightMostControl ? ''.concat(o, 'px') : 0, boxShadow: n ? '0 0 0 2px #fff inset' : 'none', cursor: this.props.disabled ? 'not-allowed' : 'pointer', height: '100%', position: 'relative', transition: 'background-color 150ms', width: 'calc(100% + '.concat(u, 'px)'), paddingRight: ''.concat(u, 'px') } } }, { key: 'stubStyle', value: function () { const t = this.state.justClicked; return { boxSizing: 'border-box', height: '100%', position: 'relative', opacity: this.props.disabled ? 0.5 : 1, transform: 'scale('.concat(t ? 1.2 : 1.001, ')'), transition: 'transform 200ms' } } }, { key: 'getOpacity', value: function () { return this.props.controlsAreVisible ? this.state.opacity != null ? this.state.opacity : 1 : 0 } }]) && h(e.prototype, n), o && h(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), m }(r.Component)) }, (t, e, n) => { n.d(e, { default: () => l }); const i = n(15); function r (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, a(i.key), i) } } function o (t, e, n) { return (e = a(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function a (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const s = (function () { function t (e) { const n = this; const i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; !(function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, t)), o(this, 'dialogWillOpen', function () { return new Promise(function (t) { if (n.config.dialogWillOpen) { const e = n.config.dialogWillOpen(); if (e && e.then) return void e.then(t) }t() }) }), o(this, 'doOpen', function () { return new Promise(function (t) { n._isOpen ? t() : (n._isOpen = !0, n._hasOpened = !0, n.ui.openDialog(n), setTimeout(t, 170)) }) }), o(this, 'dialogOpened', function () { return new Promise(function (t) { n.config.dialogOpened && n.config.dialogOpened(), t() }) }), o(this, 'close', function () { return n.control.mounted.then(function () { return n.isOpen() ? n.dialogWillClose().then(n.doClose).then(n.dialogClosed) : Promise.resolve() }) }), o(this, 'dialogWillClose', function () { return new Promise(function (t) { if (n.config.dialogWillClose) { const e = n.config.dialogWillClose(); if (e && e.then) return void e.then(t) }t() }) }), o(this, 'doClose', function () { return new Promise(function (t) { n._isOpen ? (n._isOpen = !1, n.ui.closeDialog(n), setTimeout(t, 200)) : t() }) }), o(this, 'dialogClosed', function () { return new Promise(function (t) { n.config.dialogClosed && n.config.dialogClosed(), t() }) }), this.ui = e, this.config = i, this._isOpen = !1, this._hasOpened = !1, this.control = i.control } let e, n, i; return e = t, (n = [{ key: 'open', value: function () { const t = this; return this.control.mounted.then(function () { return t.isOpen() ? Promise.resolve() : t.dialogWillOpen().then(t.doOpen).then(t.dialogOpened) }) } }, { key: 'isOpen', value: function () { return this._isOpen } }, { key: 'hasOpened', value: function () { return this._hasOpened } }, { key: 'resize', value: function () { this._resizeRequestedAt = Date.now(), this.ui.resizeDialog(this) } }]) && r(e.prototype, n), i && r(e, i), Object.defineProperty(e, 'prototype', { writable: !1 }), t }()); (0, i.bindify)(s.prototype); const l = s }, (t, e, n) => { n.d(e, { default: () => O }); const i = n(71); const r = n(2); const o = n(11); const a = n(6); const s = n(5); const l = n(37); const u = n(57); const c = n(59); function h (t, e) { const n = Object.keys(t); if (Object.getOwnPropertySymbols) { let i = Object.getOwnPropertySymbols(t); e && (i = i.filter(function (e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), n.push.apply(n, i) } return n } function d (t) { for (let e = 1; e < arguments.length; e++) { var n = arguments[e] != null ? arguments[e] : {}; e % 2 ? h(Object(n), !0).forEach(function (e) { g(t, e, n[e]) }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : h(Object(n)).forEach(function (e) { Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e)) }) } return t } function p (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, b(i.key), i) } } function f (t, e) { return f = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, f(t, e) } function y (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = m(t); if (e) { const r = m(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return v(t) }(this, n)) } } function v (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t } function m (t) { return m = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, m(t) } function g (t, e, n) { return (e = b(e)) in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function b (t) { const e = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(t, 'string')); return typeof e === 'symbol' ? e : String(e) } const _ = (0, o.cachedDetect)(); const w = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && f(t, e) }(h, t)); let e; let n; let o; const s = y(h); function h (t) { let e; return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, h)), g(v(e = s.call(this, t)), 'onFocus', function () { e.props.isMouseDownFromTouch || (0, l.isMouseDownRecently)() || e.setState({ isKeyboardFocused: !0 }), e.props.onFocusComplete() }), g(v(e), 'onBlur', function () { e.state.isKeyboardFocused && e.setState({ isKeyboardFocused: !1 }) }), g(v(e), 'onFocusIn', function (t) { e.props.onfocusin && e.props.onfocusin(t) }), g(v(e), 'onFocusOut', function (t) { e.props.onfocusout && e.props.onfocusout(t) }), g(v(e), 'onClick', function (t) { if ((0, l.isMouseDownRecently)() && e.setState({ isKeyboardFocused: !1 }), P(t) && t.preventDefault(), e.props.onClick) return e.props.onClick(t) }), g(v(e), 'onTouchEnd', function (t) { if (e.props.onTouchEnd) return e.props.onTouchEnd(t) }), e.state = { areControlsOpaque: t.shouldShowControls, isKeyboardFocused: !1 }, e } return e = h, n = [{ key: 'componentWillReceiveProps', value: function (t) { this.handleControlBarAnimation(t) } }, { key: 'render', value: function () { const t = this; return this.mountRefs = {}, (0, r.h)(u.CustomEventsWrapper, { class: 'w-vulcan-v2 w-css-reset', elemRef: this.props.layoutRef, id: this.props.domId, onBlur: this.onBlur, onClick: this.onClick, onDblClick: this.props.onDblClick, onFocus: this.onFocus, onfocusin: this.props.onfocusin, onfocusout: this.props.onfocusout, onKeyDown: this.props.onKeyDown, onMouseEnter: this.props.onMouseEnter, onMouseLeave: this.props.onMouseLeave, onMouseMove: this.props.onMouseMove, onPinch: this.props.onPinch, onSwipe: this.props.onSwipe, onTouchEnd: this.onTouchEnd, onTouchMove: this.props.onTouchMove, onTouchStart: this.props.onTouchStart, style: this.wrapperStyle() }, (0, r.h)('div', { class: 'w-vulcan--background w-css-reset', style: this.backgroundStyle(), ref: this.props.backgroundRef }, this.renderControlCells('background')), (0, r.h)('div', { 'aria-live': 'polite', class: 'w-vulcan--aria-live w-css-reset', 'aria-atomic': 'true', style: { position: 'absolute', left: '-99999em' } }, this.props.ariaLiveText), (0, r.h)('div', { class: 'w-vulcan-overlays-table w-css-reset', style: this.layoutTableStyle() }, (0, r.h)('div', { class: 'w-vulcan-overlays--left w-css-reset', style: this.tdLeftStyle() }, (0, r.h)('div', { style: this.tdLayoutInnerStyle(), class: 'w-css-reset' }, this.renderControlCells('left-flyout', { height: '100%', pointerEvents: 'auto' }))), (0, r.h)('div', { class: 'w-vulcan-overlays--center w-css-reset', style: this.tdCenterStyle() }, (0, r.h)('div', { style: this.tdLayoutInnerStyle(), class: 'w-css-reset' }, this.renderControlCells('above-control-bar', { pointerEvents: 'auto' }))), (0, r.h)('div', { class: 'w-vulcan-overlays--right w-css-reset', style: this.tdRightStyle() }, (0, r.h)('div', { style: this.tdLayoutInnerStyle(), class: 'w-css-reset' }, this.renderControlCells('right-flyout', { height: '100%', pointerEvents: 'auto' })))), (0, r.h)('div', { class: 'w-bottom-bar w-css-reset', style: this.bottomBarStyle(), ref: function (e) { return t.bottomBar = e } }, (0, r.h)('div', { class: 'w-bottom-bar-lower w-css-reset', style: this.bottomBarLowerStyle() }, (0, r.h)('div', { style: this.leftBgStyle() }, (0, r.h)('div', { style: this.blendStyle() }), (0, r.h)('div', { style: this.bgOverlayStyle() })), (0, r.h)('div', { style: this.rightBgStyle() }, (0, r.h)('div', { style: this.blendStyle() }), (0, r.h)('div', { style: this.bgOverlayStyle() })), (0, r.h)('div', { class: 'w-bottom-bar-left w-css-reset', style: this.bottomBarLeftStyle() }, (0, r.h)('div', { class: 'w-bottom-bar-left-inner w-css-reset', style: this.bottomBarLeftInnerStyle() }, this.renderControlCells('control-bar-left', { display: 'inline-block', verticalAlign: 'top' }))), (0, r.h)('div', { class: 'w-bottom-bar-middle w-css-reset', style: this.bottomBarMiddleStyle() }, (0, r.h)('div', { class: 'w-bottom-bar-middle-inner w-css-reset', style: this.bottomBarMiddleInnerStyle() }, this.renderControlCells('playbar', this.playbarStyle()))), (0, r.h)('div', { class: 'w-bottom-bar-right w-css-reset', style: this.bottomBarRightStyle() }, (0, r.h)('div', { class: 'w-bottom-bar-right-inner-anchor w-css-reset', style: this.bottomBarRightInnerAnchorStyle() }, (0, r.h)('div', { class: 'w-bottom-bar-right-inner w-css-reset', style: this.bottomBarRightInnerStyle() }, this.renderControlCells('control-bar-right', { display: 'inline-block', verticalAlign: 'top' }))), (0, r.h)('div', { class: 'w-ellipsis w-css-reset', style: this.ellipsisStyle() }, this.renderControlCells('ellipsis', { display: 'inline-block', verticalAlign: 'top' }))))), (0, r.h)('div', { class: 'w-foreground w-css-reset', style: this.foregroundStyle() }, this.renderControlCells('foreground', { pointerEvents: 'auto' }))) } }, { key: 'componentDidMount', value: function () { this.props.mountRefs && this.props.mountRefs(this.mountRefs), this.props.afterRender && this.props.afterRender() } }, { key: 'componentDidUpdate', value: function () { const t = this.props.mountRefs; const e = this.mountRefs; const n = this.props.afterRender; setTimeout(function () { t && t(e), n && n() }, 1) } }, { key: 'wrapperStyle', value: function () { const t = this.props.inFullscreen && !this.props.shouldShowControls; return { borderRadius: ''.concat(this.props.controlBarBorderRadius, 'px'), boxSizing: 'border-box', cursor: t ? 'none' : 'default', direction: 'ltr', height: '100%', left: 0, pointerEvents: this.props.inNativeMode ? 'none' : '', position: 'absolute', visibility: this.props.allMounted && this.props.doneWaitingForPlay ? 'visible' : 'hidden', top: 0, width: '100%' } } }, { key: 'foregroundStyle', value: function () { return { height: '100%', left: 0, pointerEvents: 'none', position: 'absolute', top: 0, width: '100%' } } }, { key: 'backgroundStyle', value: function () { return { height: '100%', left: 0, pointerEvents: this.props.inNativeMode ? 'none' : '', position: 'absolute', top: 0, width: '100%' } } }, { key: 'layoutTableStyle', value: function () { return { display: 'table', pointerEvents: 'none', position: 'absolute', width: '100%' } } }, { key: 'tdLeftStyle', value: function () { return this.standardCellStyle(0) } }, { key: 'tdCenterStyle', value: function () { return this.standardCellStyle('100%') } }, { key: 'tdRightStyle', value: function () { return this.standardCellStyle(0) } }, { key: 'tdLayoutInnerStyle', value: function () { return { height: ''.concat(this.props.videoHeight - this.props.controlBarHeight, 'px') } } }, { key: 'bottomBarStyle', value: function () { const t = this.state.areControlsOpaque; const e = this.props; const n = e.videoState; const i = e.controlBarBorderRadius; const r = e.controlBarDistance; const o = t || n !== 'beforeplay' ? 'table' : 'none'; const a = r < 2 ? 0 : r; return { bottom: ''.concat(a, 'px'), borderRadius: ''.concat(i, 'px'), borderCollapse: 'collapse', display: o, height: ''.concat(this.props.controlBarHeight, 'px'), pointerEvents: 'none', position: 'absolute', paddingLeft: ''.concat(a, 'px'), paddingRight: ''.concat(a, 'px'), right: i ? '50%' : 0, tableLayout: 'auto', transform: i ? 'translate(50%)' : 'unset', width: 'calc(100% - '.concat(2 * a, 'px)') } } }, { key: 'bottomBarLeftStyle', value: function () { return (0, a.assign)(this.standardCellStyle(0), { opacity: this.getOpacity(), transition: this.getTransition() }) } }, { key: 'bottomBarLeftInnerStyle', value: function () { return this.standardInnerStyle() } }, { key: 'bottomBarMiddleStyle', value: function () { return (0, a.assign)(this.standardCellStyle('100%'), { opacity: this.getOpacity(), transition: this.getTransition() }) } }, { key: 'bottomBarMiddleInnerStyle', value: function () { const t = this.props; const e = t.hasClickedToShowMore; const n = t.isShowingMore && this.isEllipsisShowing(); const i = e ? 150 : 0; return d(d({}, this.standardInnerStyle()), {}, { opacity: n ? 0 : 1, pointerEvents: n ? 'none' : 'auto', transform: 'translateY('.concat(n ? '-25%' : 0, ')'), transition: 'opacity '.concat(i, 'ms, transform ').concat(i, 'ms') }) } }, { key: 'shouldMixBlendMode', value: function () { return !_.edge && !1 === this.props.noMixBlendMode } }, { key: 'blendStyle', value: function () { const t = this.props.color; return { background: new i.Color(t || '#000').alpha(1).toRgba(), display: this.shouldMixBlendMode() ? 'block' : 'none', height: '100%', mixBlendMode: 'darken', left: 0, opacity: this.getOpacity(), position: 'absolute', top: 0, transition: this.getTransition(), width: '100%' } } }, { key: 'bgOverlayStyle', value: function () { const t = this.props; const e = t.color; const n = t.controlBarBorderRadius; const r = new i.Color(e || '#000').alpha(0.7); return this.shouldMixBlendMode() || r.alpha(0.85), { background: r.toRgba(), borderRadius: ''.concat(n, 'px'), height: '100%', opacity: this.getOpacity(), left: 0, position: 'absolute', top: 0, transition: this.getTransition(), width: '100%' } } }, { key: 'bottomBarRightStyle', value: function () { return (0, a.assign)(this.standardCellStyle(0), { opacity: this.getOpacity(), transition: this.getTransition(), whiteSpace: 'nowrap' }) } }, { key: 'bottomBarRightInnerAnchorStyle', value: function () { const t = d(d({}, this.standardInnerStyle()), {}, { display: 'inline-block', position: 'relative', right: 0, top: 0, verticalAlign: 'top' }); return this.isEllipsisShowing() && (t.height = 0), t } }, { key: 'bottomBarRightInnerStyle', value: function () { const t = this.props; const e = t.hasClickedToShowMore; const n = t.isShowingMore; const i = t.controlBarBorderRadius; const r = t.scale; const o = !this.isEllipsisShowing() || n; const a = e ? 150 : 0; return d(d({}, this.standardInnerStyle()), {}, { display: 'inline-block', opacity: o ? 1 : 0, pointerEvents: o ? 'auto' : 'none', position: this.isEllipsisShowing() ? 'absolute' : 'relative', right: 0, top: 0, transform: 'translateY('.concat(o ? 0 : '25%', ')'), transition: 'opacity '.concat(a, 'ms, transform ').concat(a, 'ms'), paddingRight: i > 8 ? ''.concat(3 * r, 'px') : 0 }) } }, { key: 'ellipsisStyle', value: function () { return d(d({}, this.standardInnerStyle()), {}, { display: this.props.controlsByType.ellipsis ? 'inline-block' : 'none' }) } }, { key: 'standardCellStyle', value: function (t) { return { display: 'table-cell', verticalAlign: 'top', position: 'relative', width: t } } }, { key: 'standardInnerStyle', value: function () { return { height: this.props.controlBarHeight, position: 'relative', pointerEvents: this.state.areControlsOpaque ? 'auto' : 'none', whiteSpace: 'nowrap' } } }, { key: 'renderControlCells', value: function (t) { const e = this; const n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return (this.props.controlsByType[t] || []).map(function (t) { const i = t.constructor.handle; return (0, r.h)(c.RawHTMLStub, { class: 'w-css-reset', handle: i, key: i, mount: function (t) { return e.mountRefs[i] = t }, style: n }) }) } }, { key: 'handleControlBarAnimation', value: function (t) { const e = this; t.shouldShowControls && !this.props.shouldShowControls && setTimeout(function () { e.setState({ areControlsOpaque: !0 }) }, 1), !t.shouldShowControls && this.props.shouldShowControls && this.setState({ areControlsOpaque: !1 }) } }, { key: 'getOpacity', value: function () { return this.state.areControlsOpaque ? 1 : 0 } }, { key: 'getTransition', value: function () { return 'opacity '.concat(this.props.videoState === 'beforeplay' ? 0 : 0.2, 's') } }, { key: 'playbarStyle', value: function () { return { height: '100%', position: 'relative' } } }, { key: 'leftBgStyle', value: function () { const t = this.props; const e = t.controlsByType; const n = t.leftControlWidth; return { height: '100%', left: 0, position: 'absolute', top: 0, width: (e.playbar || []).length > 0 ? '100%' : ''.concat(n, 'px') } } }, { key: 'rightBgStyle', value: function () { return (this.props.controlsByType.playbar || []).length > 0 ? { display: 'none' } : { height: '100%', position: 'absolute', right: 0, top: 0, width: ''.concat(this.props.rightControlWidth, 'px') } } }, { key: 'bottomBarLowerStyle', value: function () { return { position: 'relative' } } }, { key: 'isEllipsisShowing', value: function () { return Boolean(this.props.controlsByType.ellipsis) } }], n && p(e.prototype, n), o && p(e, o), Object.defineProperty(e, 'prototype', { writable: !1 }), h }(r.Component)); var P = function (t) { return t.target && ((0, s.elemHasClass)(t.target, 'w-vulcan-v2-button') || (0, s.elemAncestorHasClass)(t.target, 'w-vulcan-v2-button')) }; const O = w }, (t, e, n) => { function i (t, e) { for (let n = 0; n < e.length; n++) { const i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, 'value' in i && (i.writable = !0), Object.defineProperty(t, (r = i.key, o = void 0, typeof (o = (function (t, e) { if (typeof t !== 'object' || t === null) return t; const n = t[Symbol.toPrimitive]; if (void 0 !== n) { const i = n.call(t, e || 'default'); if (typeof i !== 'object') return i; throw new TypeError('@@toPrimitive must return a primitive value.') } return (e === 'string' ? String : Number)(t) }(r, 'string'))) === 'symbol' ? o : String(o)), i) } let r, o } function r (t, e) { return r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t }, r(t, e) } function o (t) { const e = (function () { if (typeof Reflect === 'undefined' || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if (typeof Proxy === 'function') return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})), !0 } catch (t) { return !1 } }()); return function () { let n; const i = a(t); if (e) { const r = a(this).constructor; n = Reflect.construct(i, arguments, r) } else n = i.apply(this, arguments); return (function (t, e) { if (e && (typeof e === 'object' || typeof e === 'function')) return e; if (void 0 !== e) throw new TypeError('Derived constructors may only return object or undefined'); return (function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t)) }(this, n)) } } function a (t) { return a = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t) }, a(t) }n.d(e, { PlaySuspendedOffScreenBehavior: () => s }); var s = (function (t) { !(function (t, e) { if (typeof e !== 'function' && e !== null) throw new TypeError('Super expression must either be null or a function'); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, 'prototype', { writable: !1 }), e && r(t, e) }(l, t)); let e; let n; let a; const s = o(l); function l () { return (function (t, e) { if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function') }(this, l)), s.apply(this, arguments) } return e = l, (n = [{ key: 'init', value: function () { const t = this; const e = this.impl; const n = e.publicApi; this.unbinds.push(n.on('enterviewport', function () { e.inFullscreen() || t._isSuspended && (t._isSuspended = !1, n._playSuspendedOffScreenEnabled() && e.state() === 'paused' && e.play()) }), n.on('leaveviewport', function () { e.inFullscreen() || t._isSuspended || n._playSuspendedOffScreenEnabled() && e.state() === 'playing' && (e.pause(), t._isSuspended = !0) }), e.on('receivepause', function () { t._isSuspended && (t._isSuspended = !1) })) } }]) && i(e.prototype, n), a && i(e, a), Object.defineProperty(e, 'prototype', { writable: !1 }), l }(n(203).PlayerBehavior)); s.handle = 'playSuspendedOffScreen' }, (t, e, n) => { function i (t) { return (function (t) { if (Array.isArray(t)) return r(t) }(t)) || (function (t) { if (typeof Symbol !== 'undefined' && t[Symbol.iterator] != null || t['@@iterator'] != null) return Array.from(t) }(t)) || (function (t, e) { if (!t) return; if (typeof t === 'string') return r(t, e); let n = Object.prototype.toString.call(t).slice(8, -1); n === 'Object' && t.constructor && (n = t.constructor.name); if (n === 'Map' || n === 'Set') return Array.from(t); if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return r(t, e) }(t)) || (function () { throw new TypeError('Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.') }()) } function r (t, e) { (e == null || e > t.length) && (e = t.length); for (var n = 0, i = new Array(e); n < e; n++)i[n] = t[n]; return i }n.d(e, { getDurationAfterCuts: () => a }); const o = function (t) { const e = t.attributes; return e.duration != null ? e.duration : t.video.readyState >= 2 ? t.video.duration : null }; var a = function (t) { const e = l(t); const n = o(t); if (e.length < 1) return n; let i = n; return e.forEach(function (t) { i -= t.end - t.start }), i }; const s = Object.freeze([]); var l = function (t) { const e = t.attributes; const n = e.cuts; const i = e.trimStart; const r = e.trimEnd; if (t._cuts && n === t._rawCuts) return t._cuts; if (!n && i == null && r == null) return s; t._rawCuts = n, t._cuts = u(t); const o = { start: t.attributes.trimStart, end: t.attributes.trimEnd }; return t._cuts = c(t, o, t._cuts), Object.freeze(t._cuts), t._cuts }; var u = function (t) { const e = o(t); const n = t.attributes; const i = n.cuts; const r = n.trimStart; const a = n.trimEnd; if (!i) return []; let s = i.map(function (n) { const i = n.start != null ? h(t, n.start) : 0; const r = n.end != null && n.end !== -1 ? h(t, n.end) : e; return r > i ? { start: i, end: r } : null }).filter(Boolean); r != null && s.push({ start: 0, end: r }), a != null && s.push({ start: a, end: e }), s = s.sort(function (t, e) { return t.start - e.start }); let l = { start: 0, end: 0 }; return s = s.map(function (t) { return t.end < l.end ? null : (t.start < l.end && (t.start = l.end), l = t, t) }).filter(Boolean) }; var c = function (t, e, n) { const r = i(n); const a = o(t); const s = e.start; const l = e.end; const u = r[0]; const c = r[r.length - 1]; const h = u && (u.start === 0 || u.start < 0) ? u : void 0; const d = c && (c.end >= a || c.end < 0) ? c : void 0; if (s != null) if (s >= 0) { const p = { start: 0, end: s }; h ? r.splice(0, 1, p) : r.unshift(p) } else h && r.shift(); if (l != null) if (l >= 0) { const f = { start: l, end: a }; d ? r.splice(r.length - 1, 1, f) : r.push(f) } else d && r.pop(); return r }; var h = function (t, e) { const n = o(t); return Math.min(n, Math.max(0, e)) } }, (t, e, n) => { n.d(e, { allHlsAudioAssets: () => r, audioTracksForVideo: () => o }); const i = n(27); var r = (n(6), n(23), function (t) { return (0, i.filter)(t, { type: 'mp4_alternate_audio', status: i.READY }) }); var o = function (t) { const e = [{ audioCodec: void 0, autoselect: !0, default: !0, forced: !1, groupId: 'audio', id: 0, lang: void 0, name: 'Off', label: 'Off', type: 'AUDIO', isSelected: !0 }]; return t.forEach(function (t, n) { let i, r; e.push({ audioCodec: void 0, autoselect: !1, default: !1, forced: !1, groupId: 'audio', id: n + 1, lang: void 0, name: ((i = t.details) === null || void 0 === i ? void 0 : i.languageMetadata.name) || 'Alt Audio', label: ((r = t.details) === null || void 0 === r ? void 0 : r.languageMetadata.name) || 'Alt Audio', type: 'AUDIO', isSelected: !1 }) }), e } }, (t, e, n) => { n.d(e, { PLAYER_VERSION: () => i }); var i = 1.14 }]; const __webpack_module_cache__ = {}; function __webpack_require__ (t) { const e = __webpack_module_cache__[t]; if (void 0 !== e) return e.exports; const n = __webpack_module_cache__[t] = { exports: {} }; return __webpack_modules__[t].call(n.exports, n, n.exports, __webpack_require__), n.exports }__webpack_require__.n = t => { const e = t && t.__esModule ? () => t.default : () => t; return __webpack_require__.d(e, { a: e }), e }, __webpack_require__.d = (t, e) => { for (const n in e)__webpack_require__.o(e, n) && !__webpack_require__.o(t, n) && Object.defineProperty(t, n, { enumerable: !0, get: e[n] }) }, __webpack_require__.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e), __webpack_require__.r = t => { typeof Symbol !== 'undefined' && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }), Object.defineProperty(t, '__esModule', { value: !0 }) }; const __webpack_exports__ = {}; (() => { __webpack_require__(80), __webpack_require__(100); for (var t = !1, e = function () { console.warn('E-v1.js is not being hosted from a "fast.wistia" host. Self-hosting, making static copies of this script, or including this script in an optimizer may cause embeds to stop functioning. Check Wistia\'s Help Center for more information.') }, n = document.getElementsByTagName('script'), i = 0; i < n.length; i++) { const r = n[i]; if (r.src) { const o = new window.URL(r.src); /\/assets\/external\/E-v1?\.js$/.test(o.pathname) && (t = !0, !1 === o.hostname.includes('fast.wistia') && e()) } }!1 === t && e() })()
// # sourceMappingURL=E-v1.js.map
